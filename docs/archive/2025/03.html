<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>シルバーセカンド開発日誌 / SmokingWOLF</title>
<meta name="viewport" content="width=700">
<script src="../../js/smoothscroll_up.js" type="text/javascript"></script> 
<style>
html {
  /* スマホ時は1.2倍フォントで表示 */
  -webkit-text-size-adjust: 120%;
  -ms-text-size-adjust: 120%;
}

BODY{
  /*display:flex;*/
  font-size:13px;
  margin:0;
  font-family: "Verdana",YuGothic, "Hiragino Kaku Gothic Pro", Meiryo, sans-serif;
}

TD{
  font-size:12px;
}


A:LINK,A:VISITED {  color:#5658f6;  text-decoration:underline ;}
A:HOVER,A:ACTIVE{ color: #9698e6;  text-decoration: underline;}

A.red:LINK,A.red:VISITED{color:#d6385c;display: inline-block;text-shadow: 0 0 15px #ffddcc, 0 0 15px #ffddaa;}
A.red:HOVER,A.red:ACTIVE{color : #f6688c;text-decoration : underline; text-shadow: 0 0 15px #ffcccc, 0 0 15px #ffaaaa;}

A.blue:LINK,A.blue:VISITED {  color:#5658f6;text-decoration:underline ;}
A.blue:HOVER,A.blue:ACTIVE{ color: #9698e6;  text-decoration: underline;}

A.g:LINK,A.g:VISITED{
	color:#38a68c;
	text-decoration:underline;
}

A.g:HOVER,A.g:ACTIVE{
	color : #68b6ac;
	text-decoration : underline;
}


A.jumplink:LINK,A.jumplink:VISITED{
	color:#38c6ac;
}

A.jumplink:HOVER,A.jumplink:ACTIVE{
	color : #68f6ac;
}

A.jumplink{
	text-shadow: 0 0 15px #ccddcc, 0 0 15px #aaddaa;
	text-decoration : none;
}


.article_pos{
	font-size:16px;
	color:#aaf; 
	font-weight:bold;
	text-align:center;
	margin:0px;
	padding:0px;
}

#content {
	font-size:14px;
	
}

#sidebar {
	background:#f8f8f8; 
	border-left:1px solid #ddd; 
	padding:4px 6px;
	font-size:12px;
}

A.sidebar_link:LINK,A.sidebar_link:VISITED,
A.sidebar_link_recent:LINK,A.sidebar_link_recent:VISITED{
    color:#5658f6;
	text-decoration: underline;
}
A.sidebar_link:HOVER,A.sidebar_link:ACTIVE,
A.sidebar_link_recent:HOVER,A.sidebar_link_recent:ACTIVE{
	color: #9698e6;
	text-decoration: underline;
}

.sidebar_link{
	font-size:13px;
}

.sidebar_link_recent{ /* 1つ1つの項目ごとに隙間を空ける */
	font-size:11px;
	line-height: 1.2;
	display: inline-block;
	margin-top:5px;
}


.entry {
	border:1px solid #ccc; 
	border-radius:8px; 
	margin:14px 0; 
	overflow:hidden;

}
.entry-title {
	background:linear-gradient(to right,#4243ff,#aaaacf);

	font-size:17px;
	color:#fff; 
	padding:4px; 
	font-weight:bold;
	/*text-shadow: 0 0 15px #ddccff, 0 0 15px #ddaaff;*/
}

.entry-body,.extended {
	background:#fff; 
	color:#444; 
	padding:15px;
	font-size:14px;
	line-height:1.6em;
}

.entry-foot {
	background:#fff; 
	text-align:center;
	vertical-align:middle;
	color:#ccf;
	font-size:12px;
	padding-top:20px;
	padding-right:20px;
	padding-bottom:10px;
}

.linkbutton{
	padding:3px;
}

/*--●形状整理用--*/
body {display:flex; margin:0;}
#content {width:580px; padding:0 8px;
	font-size:14px;}
#sidebar {width:120px;  box-sizing:border-box; }
#sidebar div {line-height:1.6;}
#sidebar hr {border:none; border-top:1px dashed #aaa; margin:4px 0;}
.nav {margin:0px 0 -20px 0; text-align:center;}
.sym {color:#999; font-weight:normal;}

</style>


<script>
function toggle(id){
  var e=document.getElementById(id);
  if(e.style.display==='none'){e.style.display='block';}else{e.style.display='none';}
}
function toggleDisp(id){
  var e=document.getElementById(id);
  if(e.style.display==='none'){e.style.display='block';}else{e.style.display='none';}
}
</script>



<!--★目次デザイン・処理★-->
<style>
.toc-box{background-color:#f0f0f0;border-radius:8px;padding:10px;} 
.toc-list{list-style:none;margin:0;padding-left:0;} 
.toc-list ul{list-style:none;margin:0;padding-left:20px;}
.toc-list li{margin:5px 0;}
.toc-level1{margin-left:0;}
.toc-level2{margin-left:20px;}

h1 {
  background: #fff;
  padding: 6px 10px;
  font-size: 17px;
  font-weight: bold;
  color: #2233cc; /* 青系 */
  background-image: linear-gradient(to bottom, #ffffff, #e0eaff);
  border-radius: 4px;
  border-left: 4px solid #3366ff;
  display: block;
  width:100%;
  
}


h2,h3 {
  background: #fff;
  padding: 6px 10px;
  margin-left: 10px;
  font-size: 15px;
  font-weight: bold;
  color: #5566ff; /* 青系 */
  
  background-image: linear-gradient(to bottom, #ffffff, #e0eaff);
  border-radius: 4px;
  border-left: 2px solid #9999ff;
  display: -block;

}

h2::before {
  content: "- ";
}

.master_years{
  margin-left:20px;
  margin-right:20px;
}

.top_minicategory{
  font-size:10px;
  color:#ccccff;
}
</style>



</head>
<body>
<a id="top"></a>

<style type='text/css'>
.linkbutton{
  font-size: 0.9em;
  padding: 1px 6px;
  vertical-align: baseline;
  line-height: 1;
  height: auto;
  margin-left: 4px;
  color:#66f;
  background-color:#f9f9f9;
  border: 1px solid #888;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s, border-color 0.2s;
}
.copy-popup{
  background-color: #eef;
  border: 1px solid #88c;
  padding: 4px 8px;
  border-radius: 5px;
  font-size: 0.85em;
  color: #333;
  white-space: nowrap;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
  transition: opacity 0.5s ease;
  position: absolute;
  pointer-events: none;
  opacity: 0;
  max-width: 80vw;             /* 画面幅の 80% で折り返す */
  overflow-wrap: anywhere;     /* 長い URL を途中で区切る */
  word-break: break-all;       /* ↑が効かない旧ブラウザ保険 */
  white-space: pre-wrap;       /* 
 を改行として扱い、余計な連続空白は1個に */
}
.article_end_date{
  font-size:0.9em;
}
</style>


<script>
function toggle(id){
  const el = document.getElementById(id);
  if(!el) return;
  el.style.display = (el.style.display === 'none') ? 'block' : 'none';
}

// Year accordion with sessionStorage persistence
function toggleYear(id){
  const pane = document.getElementById(id);
  const btn  = document.getElementById(id+'-btn');
  if(!pane||!btn) return;
  const sym  = btn.querySelector('.sym');
  const isClosed = pane.style.display === 'none';
  pane.style.display = isClosed ? 'block' : 'none';
  sym.textContent   = isClosed ? '－' : '＋';
  sessionStorage.setItem('year-'+id, isClosed ? 'open' : 'closed');
}

window.addEventListener('DOMContentLoaded', ()=>{
  document.querySelectorAll('[data-yearpane]').forEach(pane=>{
    const id    = pane.id;
    const state = sessionStorage.getItem('year-'+id);
    const btn   = document.getElementById(id+'-btn');
    const sym   = btn?.querySelector('.sym');
    if(state === 'open'){
      pane.style.display = 'block';
      if(sym) sym.textContent = '－';
    }else{
      pane.style.display = 'none';
      if(sym) sym.textContent = '＋';
    }
  });
});

function copyLink(date, title, el){
  const url = `https://smokingwolf.github.io/dev_blog/archive/${date.slice(0,4)}/${date.slice(5,7)}.html#${date}`;
  const text = `
【${date}　${title}】
 ${url}`;
  navigator.clipboard.writeText(text).then(()=>{
    if(el && el.tagName === 'BUTTON'){
      const orig = el.textContent;
      el.textContent = '✅ コピー完了!';
      setTimeout(()=>{ el.textContent = '🔗 リンクをコピー'; }, 2000);
    }

    const popup = document.createElement('div');
    popup.className = 'copy-popup';
    popup.textContent = `✅ コピー完了：${text}`;
    document.body.appendChild(popup);

    const rect = el.getBoundingClientRect();
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
    const popupWidth = popup.offsetWidth;
    const pageWidth = document.documentElement.clientWidth;

    let left = rect.left + scrollLeft + (rect.width / 2) - (popupWidth / 2);
    let top  = rect.top  + scrollTop - popup.offsetHeight - 8;
    if(left < scrollLeft + 4) left = scrollLeft + 4;
    if(left + popupWidth > scrollLeft + pageWidth - 4)
        left = scrollLeft + pageWidth - popupWidth - 4;

    popup.style.left = `${left}px`;
    popup.style.top  = `${top}px`;
    popup.style.opacity = '1';
    popup.style.zIndex = '9999';

    setTimeout(()=>{ popup.style.opacity = '0'; }, 1800);
    setTimeout(()=>{ popup.remove(); }, 2500);
  });
}
</script>

<div id='content'>
<style>

.TopTitle{
  width:515px;
  font-weight:bold;
  font-size:16pt;
  color: #ffffff;
  background-color:#535365 ;
  border-width: 0px;
  border-color:#535365;
  border-style:solid;
  background: -moz-linear-gradient(left top, #42435f, #fafaff);
  background: -webkit-gradient(linear, left top, right bottom, from(#42435f), to(#fafaff));
  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='#DD42425f', endColorstr='#FFfafaff');
  
  text-align:left;
  border-top-left-radius: 16px;
  border-bottom-left-radius: 16px;
}

.header3{
	color:#555588;
	margin-bottom:16px;
}

.home-link {
  font-size: 12px;
  margin-top: 10px;
  display: inline-block;
  text-decoration: underline;
}
</style>

<!--戻るリンク、サイトがなくなってたらアーカイブにつながるようにしたが404ページがアレなのかうまくいかない-->
<!--
<font id="home-link-placeholder">
  <noscript>
    <a href="https://smokingwolf.github.io/" class="home-link">← ホーム(アーカイブサイト)に戻る</a>
  </noscript>
</font>

<script>
(async () => {
  try {
    // HEADで軽くチェック（no-corsなのでステータス確認は不可）
    // 自分のサイトのインフォメーションページにつなげるならサイトがまだあると認識する
    await fetch("https://silversecond.net/contents/etc/info.shtml", { method: "HEAD", mode: "no-cors" });

    const link = document.createElement("a");
    link.href = "https://silversecond.net/";
    link.textContent = "← ホームに戻る";
    link.className = "home-link";

    document.getElementById("home-link-placeholder").appendChild(link);
  } catch {
    const link = document.createElement("a");
    link.href = "https://smokingwolf.github.io/";
    link.textContent = "← ホーム(アーカイブサイト)に戻る";
    link.className = "home-link";

    document.getElementById("home-link-placeholder").appendChild(link);
  }
})();
</script>
-->

<div class="TopTitle" style="margin-top:15px;">　　シルバーセカンド開発日誌</div>
<!--ここにコメント文-->
<div class="header3" style="margin-top:6px;">　ここはゲーム開発者SmokingWOLF(スモーキングウルフ)の開発日誌です。<BR>
　<B>【現在の目標】</B>→ ウディタ3.5のバグを落ち着かせる！ ＆ 『片道勇者2』の開発！<BR>
　<B style="color:#ff5555;">※以前のブログが使えなくなったので、ただいまこの開発日誌に移転中です。</B>
</div>

<div class='article_pos'>2025年03月</div>
<div class='nav'><a href='04.html'>次の月へ</a> | <a href='02.html'>前の月へ</a></div>
<a id='2025-03-22'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2025-03-22','ウディタ3.5開発開始からもうすぐ7ヶ月', this)" style='cursor:pointer;'>2025-03-22 (土)&nbsp;&nbsp;&nbsp;ウディタ3.5開発開始からもうすぐ7ヶ月</span><span style='float:right;'><a href='#2025-03-08' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'>　<a class="blue" target="_blank" href="https://silversecond.com/WolfRPGEditor/"><span style="font-size: 150%"><B>ウディタ3.5正式版</B></span></a>を公開してから20日くらい、3.5開発開始(去年8月末)からもうすぐ7ヶ月くらいになろうとしています！ 時間使いすぎ！<br>　数はだいぶ減りましたがまだほぼ毎日ウディタ3.5のバグが出てきています！　修正点は2週間で40個超、1日平均約3個くらいでしょうか。うーんまだ多い！<br>　<br><img src="../../image/2025/20250322.jpg" border="1" style="max-width:520px;" loading="lazy"><br><br>　ちなみに私は現在くしゃみ連射マシンと化しているのでこのシーズンはまったりモードです！　その体調で朝から晩まで動ける時間に作業して、ちょうど日々のバグを安定して片付けられるくらいの感じになっています。<br>　他に何もできていないのは変わりませんが、どのみちこの季節はあまり進まないのでちょうどいい課題量だと思います！　ベータ公開、正式リリースしたそれぞれのタイミングもちょうどいい具合でしたね。<br><br>　今週もバグ修正だけで日々が終わっているので、変わらずバグ修正リストの掲載とさせていただきます！<br>　今回はちょっと重要な修正がありましたのでそれだけお知らせします。<br><br><HR><span style="font-size:large;"><B>【重要な仕様変更　可変DBの「データ名」指定時の挙動】</B></span><HR><br>　「DB操作」コマンドにて、「可変DB」の「データ」を「名前」で指定した際の動作が変更されました！<br><br>・これまで → <B>「ゲーム起動時点のデータ名」</B>でしか判定されなかった<br><br>・変更後 → <span style="color: #d50000"><B>「ゲーム中に変更された最新のデータ名」</B></span>で判定するように修正！<br><br>　つまりデータ名を「最初の文字列データと同じ」にしてあるタイプの場合、常にその「1番目の文字列」の「名前」でデータを呼び出せるようになります！<br>　実質、連想配列（文字列キーで読む配列）として使えるようになるわけですね！<br>　具体例としては、<br><br><span style="color: #d50000"><B>●「(データ名からの)データ番号の取得」を使えば、ある名前のキャラがリスト(可変DB)にあるか一発検索ができる！（なければ-1が返される）<br>　<br>●「名前」に対応する数値や文字列を取り出す！</B></span><br><br>　といったことが、可変DBにテキトーに文字列を放り込んだり、ちょちょっとDB処理するだけで簡単に作れるようになるわけです！<br>　修正内容の説明文からは分かりにくいですが、ちょっとひねって使うと意外と革命的な使い道が生まれる仕様変更です！<br><br><br><B>【この変更による影響について】</B><br><br>　ただし柔軟になった代わりに、過去のデータでは問題が起きる可能性があります！<br>　たとえばあるタイプを<B>「最初の文字列データと同じ」のデータID</B>にしてあった場合、その中のキャラクターの名前が変わるイベントなどを作ると、旧仕様ではキャラ名が変わっても「起動時点のデータ名」で扱われるので同じようにDB操作できていましたが、新仕様では「最新の名前」しか受け付けなくなるため、エラーになる可能性があります！<br>　<span style="color: #2196f3"><span style="font-size: 80%">例：「ヒーローさん」という「データ【名】」で呼んでる処理があった場合、キャラ名とデータ名が「スーパーヒーローさん」に変わると「『ヒーローさん』というデータ名はありません」というエラーが出てしまいます。</span></span><br><br>→　<span style="color: #d50000">もし従来の仕様で動かしたい場合は「ゲーム基本設定」の 「Game.exe動作バージョン調整」 にて、「旧Ver3.50時点の挙動で動作」 を選択してください。</span><br>　（すでにゲームデータ作成時に「Ver固定済み」のゲームには影響はありません）<br><br><br><HR><span style="font-size:large;"><B>【新機能　他ツールの作業時間も計測可能に！】</B></span><HR><br>●【メインウィンドウ/新機能】「テスト」「絵」「文」の各作業時間がタイトルバーに表示される機能を追加！<br><img src="../../image/2025/20250322A.jpg" border="1" style="max-width:520px;" loading="lazy"><br>　→ 「テスト」「絵」「文」に指定したアプリが前面になっているとき、各項目に時間が加算されるようになります！<br><br>　→　各項目のアプリEXE名は「Editor.ini」内の[EditTimeCount]項目内で設定できます（一般的と思われるソフトはすでに入力済です）。<br>　例： <B>EditTimeCount_TestPlay_Exe=Game.exe,GamePro.exe,</B><br>　 (意味:Game.exeやGamePro.exeが前面にあると[テスト]時間に加算される)<br>　　<br><span style="font-size: 80%">　→　もしこの追加部分だけ見えないようにしたい場合は、Editor.iniの<br>　　[EditTimeCount]内の「EditTimeCount_View=1」を「=0」にしてください。<br>　　その場合は従来通り、各時間が () 側に加算されます　<br>　　<br>　→「他（EditTimeCount_Etc_EXE=）」という空き枠も用意されているので、<br>　　必要ならEditor.ini内でEXE名を設定してご利用ください。<br></span><br><br><HR><br>　以下はその他の細かな修正点です！<br><HR><br><CENTER><a class="red" onclick="toggle('ext-12345-20250322')" target="_top" href="javascript:void(0);">&#9660;ウディタ修正内容を開く&#9660;</a></CENTER><div id="ext-12345-20250322" style="display:none;" class="extended"><br><span style="font-size:120%;"><B>【Ver3.571 の更新履歴　2025/03/21】</B></span><br><br><br><strong>【ゲーム部の修正】</strong><br><br>●【文字列操作/不具合】<br>　隠しコードなどでファイル名に「..」(../ではない)が<br>　含まれるだけでエラーになってしまっていたバグを修正<br><br>●【DB操作/不具合】XY配列の「指定Y列を抜き取る」が<br>　　Yが0以外のときに正常に動作していなかったバグ修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.570 の更新履歴　2025/03/21】</B></span><br><br><br><B>【ゲーム部の修正】</B><br><br>●【セーブ･ロード処理/不具合】<br>　文字列操作の隠しコード「&lt;&lt;MAKE_EVENT～&gt;&gt;」にて<br>　「/TR=」で起動条件を指定して空イベントを生成した後、<br>　連続してロードを繰り返すと空イベントの起動条件などの<br>　設定がセーブ時と変わってしまうバグを修正<br><br>●【ファイル読込系/不具合】<br>　一部の画像・音声のファイル指定時に、ファイル「../../」と<br>　指定すると上位フォルダが読み込めてしまう箇所を修正<br> →　画像・音声の読込箇所で対応漏れがありました。<br> 　　TXT読み込み処理などは問題なさそうでした。<br><br>●【ファイル読込系/不具合】<br>　ファイル名に「..」(../ではない)が含まれるだけで<br>　文字列操作時などでのファイル入出力が<br>　エラーになってしまっていたバグを修正<br><br>●【文字列操作/不具合】<br>  「\\self[0]」(\self[0]という文字を"変換せずに"表示）のように<br>　代入特殊文字の先頭に「\」を1つ余分に付けた文字列を<br>　文字列変数に格納して「↓から特殊文字を消去して格納を」すると<br>　\self[0]の値が数値に変換されて表示されてしまうバグを修正<br> →　「ゲーム基本設定」の「Game.exe動作バージョン調整」で<br>　　「旧Ver3.50時点の挙動で動作」に設定すると<br>　　従来の挙動に戻せます。<br><br>●【特殊文字/不具合】ルビの特殊文字\r[A,B]内の<br>　「A」部分内では特殊文字「\r[]」のみ変換しないよう修正<br><br><br><br><B>【エディター部の修正】</B><br><br>●【起動時引数/不具合】<br>　「-txtinput」「-txtoutput」（テキスト入出力）モード時、<br>　「-wait」を付けていなくてもキー待ちになってしまうバグを修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.569 の更新履歴　2025/03/21】</B></span><br><br><br><B>【ゲーム部の修正】</B><br><br>●【セーブ･ロード処理/不具合】<br>　文字列操作の隠しコード「&lt;&lt;MAKE_EVENT～&gt;&gt;」にて<br>　「/TR=」で起動条件を指定して空イベントを生成した後、<br>　「場所移動」と「セーブデータへの書き込み」を行うと<br>　ロード時にその空イベントの「起動条件」が<br>　変わってしまうバグを修正<br><br><br>●【イベント起動/不具合】ループ境界ごしに<br>　「決定キー起動/プレイヤー接触/イベント接触」のイベントが<br>　起動しないことがあったバグを修正<br><br><br><br><B>【エディター部の修正】</B><br><br>●【コモンイベントウィンドウの検索/不具合】<br>　検索で何かにヒットするたびに「更新」ボタンが押せるように<br>　なってしまうバグを修正<br>→　ただし検索により「折りたたみ」された部分が<br>　　「展開」された場合は、「更新」ボタンが押せるようになります。<br>　（折りたたみ、展開操作はイベントが編集されたものとして扱われます）<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.568 の更新履歴　2025/03/20】</B></span><br><br><br><B>【ゲーム部の修正】</B><br><br>●【マップイベントのオプション/不具合】<br>　ゲームをロードした際、「セーブ時のイベントページの起動条件」が<br>　「数値が0では成立しない」条件を含むページになっていた場合、<br>　「当たり判定■」「方向固定」「すり抜け」「前面表示」<br>　「半歩/全歩移動」「影番号」がそのページの設定で上書きされてしまい<br>　セーブ時の値が反映されないバグを修正<br> →　「ゲーム基本設定」の「Game.exe動作バージョン調整」で<br>　　「旧Ver3.50時点の挙動で動作」に設定すると<br>　　従来の挙動に戻せます。<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.566 の更新履歴　2025/03/18】</B></span><br><br><br><B>【新機能】</B><br><br><span style="color: #d50000">●【ゲーム基本設定/新機能】「DB操作[代入]時の挙動」項目を追加。<br>　「[数値/文字]自動変換ON (標準)」と<br>　「[数値/文字]自動変換OFF (エラー表示)」から選択可能です。</span><br> →　ONにすると「代入」時に数値と文字列が自動変換されます。<br>　　OFFにすると格納先と読込先が数値と文字列で異なる場合に<br>　　エラーが出て処理が中断されます。<br><span style="color: #2196f3"> → 格納先と読込先の[数値/文字列]が異なる場合にエラーが出る旧処理の方が好みという方も多いようなので追加しておきました。<br>　 といいますか、実は<B>私自身は自動変換されずにエラーが出る方が助かります</B>ね！</span><br><br><br><B>【ゲーム部の修正】</B><br>●【DB操作/仕様変更】「可変DB」の「データ」を「名前」で指定したとき、<br>　　そのタイプの「データIDの設定方法」が「最初の文字列データと同じ」に<br>　　してあった場合は最新の「データ名」に合わせて処理するよう修正<br>→　上の方で紹介した内容です。<br><br><br>●【エフェクト/不具合】「ピクチャリンク」で「XYズーム連動」で<br>　　「表」に表示して、マップをズームすると100%のままになるバグ修正。<br>　→　おそらくVer3.564から発生していたバグでした。<br><br><br><br><br><B>【エディター部の修正】</B><br><br>●【マップ編集(プロ版)/不具合】マップレイヤーを4～5にして編集後、<br>　　マップレイヤーを少なくしてマップサイズ変更を行い、<br>　　「保存」するとクラッシュすることがあるバグを修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.565 の更新履歴　2025/03/17】</B></span><br><br><br><B>【ゲーム部の修正】</B><br><br>●【エフェクト(プロ版)/不具合】「トランジション実行」中に<br>　「マップF」「全体F」効果がオフになってしまうバグを修正<br> → 整合を取るため、「場所移動」時のキャラ表示タイミングも<br> 　調整したので問題が起きないか様子見中です。<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.564 の更新履歴　2025/03/15】</B></span><br><br><br><B>【ゲーム部の修正】</B><br><br>●【F7ピクチャ一覧】ピクチャリンクされたピクチャのリンクレイヤーが<br>　　　　すべて「裏」表記になってしまうバグ修正<br><br><br><br><B>【エディター部の修正】</B><br><br>●【コモンイベントウィンドウ/不具合】TXT入出力でコモンイベントを<br>　　　読み込んだ際、コモンイベントコマンドの「入力」の「選択肢」が<br>　　　他コモンの分も増えてしまうことがあるバグ修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.563 の更新履歴　2025/03/14】</B></span><br><br><br><B>【ゲーム部の修正】</B><br><br>●【文字列操作/不具合】文字列操作の隠しコード、<br>　「&lt;&lt;MAKE_EVENT～（空イベント生成）」でイベント生成した際、<br>　存在しない画像を指定したときのエラー行数が<br>　最後のコモン並列イベントになってしまっていたバグ修正<br><br><br><br><B>【エディター部の修正】</B><br><br>●【エフェクト/不具合】「ピクチャ/キャラ/マップのエフェクト」の<br>　　数値欄の上下ボタン/キーが一部機能しなくなるバグ修正<br><br>●【キー入力/不具合】コマンド編集時、「特定キーのみ判定」の<br>　　キーコード欄が表示されなくなるバグ修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.562 の更新履歴　2025/03/13】</B></span><br><br><br><B>【新機能】</B><br><br>●【メインウィンドウ/新機能】「テスト」「絵」「文」の<br>　　　各作業時間がタイトルバーに表示される機能を追加。<br>　→　上で紹介した内容です。<br><br><br><br><B>【エディター部の修正】</B><br><br>●【データベースウィンドウ/調整】ウィンドウを閉じて次に開いたとき、<br>　　　　最後に選んでいた「項目」が選ばれたままになるよう修正<br><br>●【TXT入出力機能/不具合】「基本データTXT出力」や「全マップTXT出力」で<br>　　　「コモンイベント名」や「DBのデータ名と番号の対応付け」などが<br>　　　正常に取れていない部分があったバグを修正<br><br>●【エディターオプション/不具合】「全TXT→全マップのみ読込」後に<br>　　　エディターオプションを終了した際、マップ再読込が<br>　　　行われない場合があったバグを修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.561 の更新履歴　2025/03/12】</B></span><br><br><br><B>【新機能】</B><br><br><span style="color: #d50000"><B>●【Game.ini/新機能】Game.iniにて、<br>　「DebugWindow_ShowBootText」で<br>　　起動時のデバッグ表示（現在はフォントの有無判定のみ）の有無を<br>　　切り替えられるように。</B></span><br>→ Game.iniの「DebugWindow_ShowBootText=1」の行を<br>　 「DebugWindow_ShowBootText=0」にすると<br>　 「起動時のフォントチェック」や、将来的に搭載される<br>　 起動時デバッグ文が全て表示されなくなります。<br><br><br><span style="color: #d50000"><B>●【システム文字列/新機能】「SysS22:ダウンロード中ファイル内容」追加。<br>　　ストリーミング的に応答が返ってくる場合や<br>　　データ先頭の状態を見て素早く中断の判断をしたい場合に、<br>　　ダウンロード途中のデータ内容を<br>　　いち早く読み込むことができます。</B></span><br> →　ただしダウンロードが完了すると<br> 　　「&lt;&lt;NoData&gt;&gt;」が返されるため、<br>　　 終了時点で読み込み先を切り変える必要があります。<br> →　データ中に0のコードが含まれている場合、<br>     バイナリファイル（Zipファイル等の文字列でないファイル）<br> 　　と認識して「&lt;&lt;BinaryFile&gt;&gt;」が返されます。<br>　　（通常のTXTファイルでは0コードは含まれません）<br><span style="color: #2196f3"><B> →　チャットAIからの応答を受け取る場合など、<br> 　　テキストデータであっても通信完了するのが<br> 　　すごく遅い状況があるので追加しました。</B></span><br> <br><br><br><B>【ゲーム部の修正】</B><br><br>●【Game.ini/不具合】Game.ini内の余計な改行を消去<br><br>●【変数操作+/不具合】「位置」の<br>　　　「通行可能（タイル・Ev両方）[○=0/×=1]」にて、<br>　　　「精密座標」オフで、「2で割り切れる精密位置」にいる<br>　　　当たり判定「0.5×1マス」のイベントを判定すると<br>　　　「0（通行可能）」が返されてしまうバグ修正<br>　　→　おそらくVer3.553から発生していたバグでした。<br><br>●【コモンイベント/不具合】マップイベントが500層以上<br>　　　呼び出されたときにエラーが出なかったバグを修正<br>　→　コモン側は500層呼び出しでエラーが出ましたが、<br>　　　マップイベント側のチェックが抜けており、<br>　　　クラッシュするようになっていました。<br><br><br><br><B>【エディター部の修正】</B><br><br>●【データベースウィンドウ/調整】見えない改行が含まれる文を<br>　　文字列項目に貼り付けた際、次に開き直した際に<br>　　改行が反映されるよう修正<br>　→　「文章の表示」コマンドの仕様に合わせました。<br><br>●【条件(変数)/不具合】「編集」で条件(変数)コマンドを開いた際、<br>　　　オープンになっていない分岐の数値欄のスピンボタンが<br>　　　はずれてしまっているバグ修正<br><br>●【TXT入出力/不具合】全TXT出力されたイベントコマンドのうち、<br>　　「DB操作」の表記上の「名前」と「番号」の対応付けが<br>　　うまくいっていなかったバグ修正<br><br>●【エディターオプション/調整】「全TXT→全マップのみ読込」した後、<br>　　マップ画面に戻ったときに<br>　　「全マップファイルをTXTから読み込んだため、<br>　　　現在のマップを再読込します」<br>　　というメッセージが出るよう修正<br><br>●【エディターオプション/調整】「.Auto.txt入出力」の処理が<br>　　並列処理として走っていたのを、終了するまで<br>　　ウィンドウ操作できないよう修正<br>　→ 処理が終了する前にエディター再起動されてしまったりして<br>　　 危険な挙動になっていました。<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.560 の更新履歴　2025/03/11】</B></span><br><br><br><B>【エディター部の修正】</B><br><br>●【マップ一覧/不具合】マップ一覧にて、最後の番号の<br>　 「マップファイル名」が空ならツリーに表示しないように修正<br>　→ 「マップ設定画面」で何かの操作を行うとシステムDB、<br>　　タイプ0のデータの最後に空データが作られる場合がありますが、<br>　　これ自体は必要な挙動なのでツリー側で最後の空データを<br>　　表示しないようにして対応しました。<br><br><br>●【システムデータベース/調整】システムデータベース、<br>　　　タイプ24の「顔グラフィック名」の項目ロックを解除<br>　→　そもそも顔グラフィック名は基幹システムに<br>　　　影響しない部分でした。<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.559 の更新履歴　2025/03/10】</B></span><br><br><br><B>【エディター部の修正】</B><br><br>●【エディター全体/不具合】なんらかの条件で、非表示のはずの数値入力欄の<br>　　「▲▼」部分だけが前面に出てきてしまう現象の抑制を試みました<br>→　「変数操作・条件分岐・キー入力・ピクチャ・エフェクト・サウンド・<br>　　　セーブロード操作・コモンイベント」コマンド、ならびに<br>　　「各データベースウィンドウ」内。<br><br>●【変数操作+･場所移動･動作指定ウィンドウ/調整】キャラ指定欄の<br>　　コモンセルフ変数に「コモンセルフ名」が表示されるように修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.558 の更新履歴　2025/03/09】</B></span><br><br><br><B>【ゲーム部の修正】</B><br><br>●【セーブ・ロード処理/不具合】マップイベントの影番号が<br>　　　　保存されていなかったバグを修正<br>　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」で<br>　　「旧Ver3.390時点の挙動で動作」に設定すると、<br>　　「影番号」が保存されない従来の挙動に戻せます。<br><br>●【セーブ・ロード処理/不具合】文字列操作の隠しコード、<br>　「&lt;&lt;MAKE_EVENT～（空イベント生成）」で生成した位置が<br>　マップ外だった場合、表示されるエラー行数が<br>　前回の場所移動コマンドの位置になってしまうバグ修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.557 の更新履歴　2025/03/08】</B></span><br><br><br><B>【エディター部の修正】</B><br><br>●【文章入力欄/不具合】 特定言語で「文章の表示」などの<br>　　文章入力欄で「右Alt + A」を入力すると、<br>　　文字でなく「全選択」処理が実行されてしまうバグを修正<br></div><br><HR> <br>　という感じで今もほぼ毎日修正中です！<br>　ウディタのバグが落ち着いたらゲーム開発も再開したいところ！　そろそろゲームの作り方を忘れてしまいそうなのでリハビリしていかないとですね。<br><br>　そしてみなさまからのご支援、いつも本当に助けになっています！　ウディタプロ版では生活できるだけのお金が入らないのになんでもかんでも高すぎるー！！<br><br><img src="../../image/2025/20250322B.jpg" border="1" style="max-width:370px;" loading="lazy"><br><br>　そんな値上げに負けずに安心して生活できる体制を整えていくのが当面の目標！　<br>　今の私のように「（素材集め能力も含めて）1人でもゲームを完成させられるスキルを持てている」というのは、困った状況になるほどすばらしいアドバンテージだと感じます。これは1人でゲームを作り始めた人の強みですよね。<br>　いやまあ、お金がいっぱいあったらいくらでも外注したいんですけど、なんらかの1ジャンルをお任せするとなるとどうしてもまとまったお金が必要になっちゃうんですよ！　いっぱいキャラが出るゲームで「顔グラフィック1枚だけお願いします」とかなかなか注文しにくいですからね<span style="font-size: 80%">（音楽なら1曲だけお願いすることもしやすいかもしれませんが、1曲だけどうしても外注したいレベルのものだったら「伝説になる曲つくってください」みたいな怖いオーダーしか言わなさそう）</span><br><br>　とにかく今もこれからも、現時点で使える知恵と能力を最大限に使って最善手を打っていきます！<br>　まずはウディタのバグ修正が落ち着くまで耐えつつ、少しずつでも次の準備に移れたらいいなあ、くらいの体制でやっていこうと思っております！　うおおおーがんばるぞー！</div><div class='entry-foot'>　<font class='article_end_date'>2025-03-22 (土)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2025-03-22','ウディタ3.5開発開始からもうすぐ7ヶ月', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div><br><br><br>
<a id='2025-03-08'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2025-03-08','ウディタ3.5正式版公開！　したけど毎日バグ修正!!!', this)" style='cursor:pointer;'>2025-03-08 (土)&nbsp;&nbsp;&nbsp;ウディタ3.5正式版公開！　したけど毎日バグ修正!!!</span><span style='float:right;'><a href='#bottom' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'>　ということでベータ期間のバグ報告が少なくなってきたので<span style="color: #d50000"><span style="font-size: 150%"><B>『ウディタ3.5』を3/1に正式公開</B></span></span>しました！<br>　すでに<a class="blue" target="_blank" href="https://silversecond.com/WolfRPGEditor/"><span style="font-size: 150%"><B>『ウディタ公式サイト』</B></span></a>のダウンロードページで公開中ですので気になる方はぜひ！<br>　<br>　が、そしたら新たな使い手の方が大量にいらっしゃって新たなバグ報告を送ってくださったり、Microsoft Defenderに急にGame.exeがウィルス扱いされてしまって私がEXE作ったそばから消されまくる（ということは他の皆さんの元でも当然消される）ので消されずに済むパターンを見つけようと泣きながらがんばってたりと大変なことがありました。<br><br><img src="../../image/2025/20250308.jpg" border="1" style="max-width:520px;" loading="lazy"><br><br>　とはいえ修正点の個数自体は減ってきていて、2週間でだいたい70個超えくらいだと思います、って全然減ってないじゃないですか！　1日5個以上は修正点が発生しています！<br>　朝から晩まで対応する日々で他のことが一切できないのがつらい！　開発予算もとい口座残高がひたすらマイナスになっていきますが、引き続き落ち着くまでがんばります！　ご支援くださってる皆さま、いつも本当にありがとうございます！<br>　<br>　そんな状況なので、今回も2週間分の修正点を貼り付けるだけの記事です！　難しかったものや印象深かった修正点は赤文字にしています。<br><br><CENTER><a class="red" onclick="toggle('ext-12345-20250405')" target="_top" href="javascript:void(0);">&#9660;大量のウディタ修正内容を見てみる&#9660;</a></CENTER><div id="ext-12345-20250405" style="display:none;" class="extended"><br><HR><br><span style="font-size:120%;"><B>【Ver3.556 の更新履歴　2025/03/07】</B></span><br><br><B>【ゲーム部の修正】</B><br><br><span style="color: #d50000"><B>●【DB操作/仕様変更】「名前」または「文字列変数」で<br> 　「(タイプ番号/データ番号/項目番号)取得[数]」する際に、<br>　 対象にその文字列名がなかった場合は「-1」を返すように仕様変更</B></span><br>　<span style="color: #2196f3">→　「名前」を入れたときにその名前がDB内にあるか確認できる機能が<br>　　今までありませんでしたのでこの機会に入れておきました。</span><br>　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」で<br>　　「旧Ver3.390時点の挙動で動作」に設定すると<br>　　「番号取得時、存在しない名前を指定するとエラーが出て、0が格納される」<br>　　という挙動に戻せます。<br><br>●【起動時/不具合】テストプレイでない通常起動でもLog.txtが<br>　　　　　生成されてしまっていたバグを修正<br><br>●【仮想全画面/調整】F4、F11などによる仮想全画面を解除した時の<br>　　　　　切り替えがスムーズに見えるよう調整<br><br><br><B>【エディター部の修正】</B><br><br>●【DB操作･コモンイベント/不具合】文字列入力可能な<br>　プルダウンメニューで「▼」ボタンを押して一覧展開中、プルダウンの<br>　「入力ボックス」上でホイール操作するとスクロールが戻る現象を修正<br><br>●【コモンイベントウィンドウ/不具合】Ctrl+Shift+F6/F7で<br>　　コモンイベントを挿入・抜き取りした際、<br>　　同時に「一つ元に戻す」の履歴を消去するよう修正<br>→　Ctrl+Shift+F6/F7したあとに「一つ元に戻す」をすると、ずれたところに内容が復元され上書きされてしまうため、その予防です。<br><br>●【ゲームデータ作成/調整】ゲームデータ作成時の処理をより安定化<br><br>●【検索ウィンドウ/不具合】「置換」を行った際、置換した行より上に「折りたたみ」された行があると置換後の注目位置がずれるバグを修正<br>　→　「折りたたみ」を加味しない行数を選択しようとしており、状況によってクラッシュが発生していました。<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.555 の更新履歴　2025/03/06】</B></span><br><br><B>【新機能】</B><br><br><span style="color: #d50000"><B>●【システム変数/新機能】「Sys140:ｳｨﾝﾄﾞｳ拡縮ﾓｰﾄﾞ[くっきり=0/なめらか=1]」を追加。<br>　従来はゲームウィンドウを拡大縮小した時の「くっきり」か「なめらか」状態は「ゲーム基本設定」内の「ピクチャ拡大縮小時の描画方法」に依存していましたが、このシステム変数を変えることで自由に切り替え可能になります。</B><br>　→　なお、デフォルト値として「ピクチャ拡大縮小時の描画方法」の設定が使用されるので、従来作品に影響を与えることはありません。</span><br><span style="color: #2196f3">　→　ピクチャ拡大はガタガタモードだけどゲームウィンドウ拡大はなめらかにしたい！という需要にお応えできます！</span><br>　<br><B><span style="color: #d50000">●【変数操作+/新機能】「その他」に以下の2つを追加<br>　- [処理時間]前ﾌﾚｰﾑのEv処理時間[x0.1ms]<br>　- [処理時間]前ﾌﾚｰﾑの描画処理時間[x0.1ms]</span></B><br> → タイトルバーに表示されている「処理時間」の元値を取得可能です。<br> 　（タイトルバーの値は複数フレームの値を平均しており、人間の目に見える頻度で更新していますが、こちらは1フレームごとの値を得られます）<br><span style="color: #2196f3"> → 「あれ～どっかで入れたと思ったんだけどなあー？」と思ったのですが入れてなかったので追加しました。「処理FPS」を取得する機能はあったんですけど「処理時間」取得はなかったんですよね。</span><br><br><br><B>【ゲーム部の修正】</B><br><br>●【プログラム/調整】またMicrosoft DefenderにGame.exeが削除されたので再調整してみました。<br><br>●【仮想全画面･セーブロード処理/不具合】仮想全画面にして「ロード」すると画面が100%サイズになってしまうバグを修正<br><br><span style="color: #d50000"><B>●【エフェクト/不具合】ソフトウェアモードで実行時、「＜CUT/～」で指定したピクチャに対して「変換」系のエフェクトを行うとピクチャの表示サイズが変わってしまうバグを修正</B></span><br><span style="color: #2196f3">　→　条件が細（ほそ）っ！　しかも修正が難しい！</span><br><br><br><B>【エディター部の修正】</B><br><br>●【検索ウィンドウ/不具合】検索の数値欄の上下ボタンだけが<br>　　　「文字列」状態でも出てくることがあるのを抑制するよう修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.554 の更新履歴　2025/03/05】</B></span><br><br><B>【ゲーム部の修正】</B><br><br>●【セーブ・ロード処理/不具合】Ver3.553のみ、「セーブデータに書き込み」で<br>　　　作ったセーブデータに対し、次回起動時に「セーブデータの内容読込」で<br>　　　アクセスするとクラッシュするバグが発生していたのを修正<br><br><br><B>【エディター部の修正】</B><br><br>●【コモンイベント・入力内容の設定/不具合】データ名を<br>　　「データベース参照」にして「システムDB」のタイプ「名」で指定したとき、<br>　　「コモンイベント」コマンド欄でそのプルダウンメニューが真っ白になって<br>　　何も選べなくなることがあったバグ修正<br><br>●【検索ウィンドウ/不具合】数値欄が見えてないタイミングで<br>　　　　数値欄の上下ボタンだけが表に出てくることがあるバグ修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.553 の更新履歴　2025/03/05】</B></span><br><br><B>【ゲーム部の修正】</B><br><br><span style="color: #d50000"><B>●【プログラム/対応】Microsoft Defenderにマルウェア扱いされる問題への対応を試みました。</B></span><br><span style="color: #2196f3">　→　EXEが作られたそばから即消される状態を回避するために最適化を1段階下げざるを得なかったので、この影響で1～2割の処理速度低下が発生している可能性があります、ご容赦ください。つらい……！　でもここまでガンガン上げてきたパフォーマンスはこういうときのための貯金です。</span><br><br>●【変数操作+/不具合】「通行可能（タイル・Ev両方）」を「精密座標」で「0.5×1当たり判定」のイベントに対して使うと「足下」でなく「頭側」にしか当たり判定がなかったバグ修正<br>　→「ゲーム基本設定」の「Game.exe動作バージョン調整」で「旧Ver3.390時点の挙動で動作」に設定すると以前の挙動に戻せます。<br><span style="color: #2196f3">　→　長年この状態だったようです。あまり使われてなかった機能のようですね！</span><br><br>●【DB操作/不具合】ロードしたデータに「DB操作」の「データ抜き取り↑」をおこなうとクラッシュすることがあったバグを修正<br><br>●【システム変数/不具合】「Sys150:特殊文字変換を無効化[1=ON]」を1にした状態で「代入特殊文字」を文字列変数に格納し、0に戻してから「文字列操作」でS1=S0（文字列変数に文字列変数を直接代入）などするとS0側が変換されないまま格納されるバグを修正<br>　→　他にもSys150を1から0に戻して操作しても変換されない手順があるかもしれませんので、見つけられた方は情報をいただけると助かります。<br><br>●【仮想フルスクリーン/不具合】「ゲーム基本設定」で「ピクチャ拡縮時の描画方法」を「くっきり＆ガタガタ」にしていてもF11などで仮想フルスクリーンにすると「なめらか＆ぼんやり」拡大になってしまうバグ修正<br><br><br>●【仮想フルスクリーン/不具合】仮想フルスクリーン状態でF12リセットを行うとその後の画面が全画面にならないバグを修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.552 の更新履歴　2025/03/05】</B></span><br><br><B>【エディター部の修正】</B><br><br><span style="color: #d50000"><B>●【ゲーム暗号化(プロ版のみ)/不具合】プロテクトキー使用暗号時の「Ver1.2」でゲームデータを暗号化した際、一定確率でゲームが起動しない暗号化ファイルが生成されてしまうバグを再修正</B></span><br>　→　原因が不明な問題が起きているので、しばらく修正に苦戦するかもしれません。<br><span style="color: #2196f3">　→　暗号化関連のバグは直すのが地獄なので一番出て欲しくないバグの1つです。処理位置が1バイトずれたり数値が1ずれただけで全部動かなくなるんですよ！　しかも一定確率で起きるとかもう！</span><br><br><HR><br><span style="font-size:120%;"><B>【Ver3.551 の更新履歴　2025/03/04】</B></span><br><br><B>【ゲーム部の修正】</B><br><br>●【特殊文字/調整】ルビの特殊文字\r[A,B]にて、「B」部分に記述した特殊文字が文字化けしていたのを、「特殊文字が変換されずに文字としてそのまま表示される」ように修正<br><br>●【ゲーム暗号化(プロ版のみ)/不具合】「プロテクトキー使用暗号化Ver1.2」でゲームデータ作成した際、正常にゲームが動作しなくなるバグを修正<br><br><br><br><B>【エディター部の修正】</B><br><br><span style="color: #d50000"><B>●【ゲーム暗号化(プロ版のみ)/不具合】プロテクトキー使用暗号時の「Ver1.1」または「Ver1.2」でゲームデータを暗号化した際、確率でゲームが起動しない暗号化ファイルが生成されてしまうバグを修正</B></span><br>→　ゲーム自体に不明な問題が起きる可能性がありますので、もし可能ならゲームデータを作り直してみてください。<br><br>●【プロテクトキー(プロ版のみ)/不具合】ファイルのプロテクト有無が異なるファイルが混ざっている場合、プロテクトキーの再設定でコモンイベントファイルが空になることがあるバグを修正<br>　→　もし空になってしまった場合は「BasicData」フォルダ内の「AutoBackup1～3」フォルダの中から「CommonEvent.dat」をコピーして「BasicData」内の「CommonEvent.dat」に貼り付けしてください。<br><br><br>●【マニュアル開く系ボタン/調整】エディター内、マニュアルを開くボタンの「確認メッセージウィンドウ」を「はい・いいえ」（×ボタンを押せない）から「OK・キャンセル」+「×ボタンを押せる」（Escで消せる）に変更。<br><br>●【イベントウィンドウ/不具合】イベントコード貼り付けを行った直後の行数が更新されていないバグ修正<br><br>●【コモンイベントウィンドウ/不具合】イベントコマンドを多数選択した状態で右クリックすると一瞬リストがブレる現象を修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.550 の更新履歴　2025/03/04】</B></span><br><br><B>【ゲーム部の修正】</B><br><br>●【文字列操作/仕様変更】隠しコードの「&lt;&lt;DELETE_EVENT_ID&gt;&gt;」と<br>　　「&lt;&lt;SET_EVENT_NAME_ID=?&gt;&gt;」に成功したとき、<br>　　「&lt;&lt;OK&gt;&gt;」でなく「1 &lt;&lt;OK&gt;&gt;」を返すように修正<br>　→　成功時は数値変換時に「1」を得られるようにする原則に反していました。<br>　→　なお、失敗時は数値変換したときに「0」または<br>　　　「-1」が返されるのが標準動作です。<br>　　(たとえば&lt;&lt;Error&gt;&gt;文字列を数値変数に入れると「0」扱いになります)<br><br><br>●【文字列操作/仕様変更】隠しコードの「&lt;&lt;LOAD_IMAGE_TO_XY～」や<br>　　　「&lt;&lt;SAVE_PNG_FROM_XY」で「0 &lt;&lt;Error&gt;&gt;」を返していた部分を<br>　　　「&lt;&lt;Error&gt;&gt;」に統一、かつ、それらの一部エラーで「<>」が<br>　　　1重になっていたところを「&lt;&lt;&gt;&gt;」に修正<br>　→　他と違う表記になっていたため統一しました。<br><br><br><br><B>【エディター部の修正】</B><br><br>●【システムデータベース/調整】タイプ0「マップ設定」の<br>　　　項目5「BGMﾌｧｲﾙ名」、項目6「BGSﾌｧｲﾙ名」、項目7「遠景ﾌｧｲﾙ名」に<br>　　　「File」ボタンを表示するように修正<br>　→　これだけファイル指定なのに[File]ボタンが出ていなかったので<br>　　　追加しておきました。項目はロックされていますが、この修正によって<br>　　　[File]ボタンの「初期フォルダ」の変更は可能になっています。<br><br>●【システムデータベース/調整】ロックされている項目があるタイプを選択中、<br>　　「読み込み」ボタンに「読み込み *[データ]のみ可」と表記するように<br>　→　項目がロックされていると「タイプ設定」の読み込みはできませんが、<br>　　「データ[複数]」で保存されたものならば読み込み可能です。<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.549 の更新履歴　2025/03/03】</B></span><br><br><B>【ゲーム部の修正】</B><br><br><span style="color: #d50000"><B>●【ピクチャ/不具合】「分割」されており、かつ「＜CUT/～」指定で部分切り抜きしたピクチャに対してピクチャエフェクトの「変換」系の処理を行うと、パターン分割画像でなくなってしまうバグを修正（2以上のパターン数を指定できなくなる）</B></span><br><span style="color: #2196f3">　→　条件も難しいですが直すのも難しすぎてびっくりしたバグでした。</span><br><br>●【画像読込/不具合】存在しないキャラチップやタイル、メッセージ中の\i/\img画像を指定したとき、エラー後に「違う画像が表示されてしまう」のをなるべく抑制するよう修正<br><span style="color: #2196f3">　→　違う画像が出ちゃうのが長年あったんですがうまくいってれば抑制できたと思います。読み込めない画像を読み込んだときしか起きない挙動なので、直ってなくても対応優先度は低めです。</span><br><br>●【特殊文字/不具合】\img(S)の画像表示特殊文字が"]"で終わってなかった際、エラーが出るように修正<br><br>●【文字列操作/不具合】「隠しコード」の先頭に「&lt;&lt;」がない場合、エラーは出ますが返り値に何も格納されていなかったので、返り値に「&lt;&lt;Error&gt;&gt; Missing "&lt;&lt;"」が格納されるよう修正。<br>　文字列中に「&gt;&gt;」(終端文字)が存在しない場合も文字列変数に必ず「&lt;&lt;Error&gt;&gt; Missing "&gt;&gt;"」が返されるように修正。<br><br><br><B>【エディター部の修正】</B><br><br><span style="color: #d50000"><B>●【エディターの時間/不具合】エディターの使用時間・無操作時間が30倍速で増加していたバグ修正</B></span><br><span style="color: #2196f3">　→　おそらくVer3.544から起きていた文章のインパクトがすごいバグです。Editor.iniのEditTimeは1あたり30秒なので、もし今回の件で増えた分をそれっぽく補正した方は1分あたり2換算で減らしてくださいますようお願いします。</span><br><br><HR><br><span style="font-size:120%;"><B>【Ver3.548 の更新履歴　2025/03/02】</B></span><br><br><B>【ゲーム部の修正】</B><br><br><span style="color: #d50000"><B>●【エフェクト/調整】「(重ね)キャラチップ変更」処理を最適化。<br>　　　「完全に同名ファイルが指定されたときは何もしない」、<br>　　　「最小限のキャラチップレイヤーだけ更新する」、<br>　　　など、不必要な処理を行わないように修正してみました。</B></span><br>　→　裏技の1レイヤーごとのエフェクトと組み合わせたキャラチップ変更処理が<br>　　　非常に重くなることが分かったのでその対策です。<br>　→　画像更新タイミングを最小限にしたため想定外のバグが<br>　　　出ている可能性もあるので、もし<br>　　　「従来と比べて画像が更新されない」「表示されない」<br>　　　などございましたらご報告ください。<br><span style="color: #2196f3">　→　いつものことですが、ゲーム上の描画の「最適化」とは描画の<br> 　　更新タイミングを最小限に減らすことが主ので<br>   　更新漏れバグがものすごくいっぱい出ます。</span><br><br>●【DB操作/不具合】「新データ挿入↑」「データ抜き取り↑」を行ったとき、<br>　　　　　「データ名」だけが内部的に増減していなかったバグを修正<br>　→　データの最後尾でNoDataが返されてしまう、あるいは<br>　　　クラッシュするなどの現象が起きうる問題がありました。<br><br>●【サウンド/不具合】マップのBGM・BGS設定が「-2：イベントに任せる」の<br>    　マップに侵入した時、フェードイン中のBGM・BGSの音量が<br>    　一瞬で変わってしまうバグを修正<br><br>●【遠景・フォグ/仕様変更】遠景やフォグ画像が1画面サイズ以下だと<br>　　　エラーが出ていたのを、出てこないように修正<br>　→　マップズーム機能などがまだなかった頃に入れたエラーだったと思うので<br>　　　実状と合わなくなっていました<br><br>●【文字列操作/仕様変更】画像をXY配列に読み込む隠しコード<br>　　「&lt;&lt;LOAD_IMAGE_TO_XY(N)/A=?/R=?/G=?/B=?&gt;&gt;(ファイル名)」にて、<br>　　配列サイズが画像の読み込み順によっては<br>　　正しく調整されないことがあったバグを修正<br><br><br><br><B>【エディター部の修正】</B><br><br><span style="color: #d50000"><B>●【文字入力可能プルダウンメニュー/調整】<br>　「DB操作」コマンド欄と、「コモンイベント」コマンド欄の文字入力可能プルダウンメニューでマウスホイール操作をしたとき、従来は(他にフォーカス合わせた後だと)毎回ゼロ位置に戻ってしまっていたのを、なるべく「同じ名前がある位置」を基準に上下操作できるよう修正</B></span><br><span style="color: #2196f3">→　これまでDB操作の名前欄やコモンイベント欄のプルダウンで<br>　　ホイールすると1番上の項目からになってしまっていたのが<br>　　ついに直ります！　私も気になってたので直せて良かったです。<br>（昔挑戦したのですが普通のやり方ではうまくいかず挫折してました）</span><br><br>●【テストプレイ/不具合】すでにテストプレイ起動中のときに<br>　　　「マップイベントウィンドウ」のテストプレイボタンを押すと<br>　　　「コモンイベントウィンドウ」が前面に出てきてしまうバグ修正<br><br>●【マップイベントウィンドウ/不具合】テストプレイすると<br>　　　　マップのイベント画像が表示されなくなるバグ修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.547 の更新履歴　2025/03/02】</B></span><br><br><B>【ゲーム部の修正】</B><br><br>●【選択肢/不具合】\s[?]などの代入特殊文字で「文字列が空」の項目を一番下に入れたとき、選択肢のウィンドウの高さが増えてしまう現象を修正<br><br><br>●【イベント起動/不具合】主人公の移動幅を「1.0マス（全歩）」にしていると「プレイヤーから接触」かつ「すり抜け」のイベントに乗ったときに2回起動してしまうバグを修正<br> →　これはVer3.5から起きるようになった現象でした。<br><br><br><br><B>【エディター部の修正】</B><br><br>●【ファイル出力/不具合】コモンイベント内の「複数保存(TXT)」で出力されたTXT内で、「コモンイベント」コマンドの「挿入」や「予約」の「このコモンからXつ上下のコモンEv」のコモン番号が正しく表記されないときがあるバグを修正<br><br>●【動作指定/不具合】「動作指定」画面の「マップ表示」にて<br>　　　マップ読み込み不能エラーが出にくくなるよう修正を試みました<br><br>●【各コマンド入力欄/不具合】数値指定欄に数値入力時、<br>　　「コモンセルフ変数名」がキャプションが表示されないバグを修正<br> →　文字列操作・条件（変数）・キー入力・セーブロード操作・<br>　　 パーティ画像・チップ処理・場所移動について修正してみました。<br><br><br><br><B>【サンプルゲーム内の修正】</B><br><br>●コモンイベント内に「デバッグ文全消去テスト」という<br>　並列実行コモンが入ったままになっていたのを消去<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.546 の更新履歴　2025/02/28】</B></span><br><br><B>【ゲーム部の修正】</B><br><br>●【デバッグ文/不具合】デバッグ文の文字数が増えると<br>　「デバッグ文の全消去」で全て消えないことがあるバグを修正<br><br>●【起動時/不具合】「仮想フルスクリーン」で起動した際、<br>　　　画面の位置がおかしくなることがあるバグを修正<br><br><br><br><B>【エディター部の修正】</B><br><br>●【データベースウィンドウ/調整】「数値」の項目でEnterを押したとき、<br>　　　　　　　　　改行されないように修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.545 の更新履歴　2025/02/26】</B></span><br><br><B>【ゲーム部の修正】</B><br><br>●【仮想フルスクリーン/不具合】これまでF4やF11での画面最大化で<br>　　　画面サイズが縦横数pxずつ小さく表示される問題があったので、<br>　　　抜本的に仮想フルスクリーン処理を作り直しました。<br><br>●【全画面化/不具合】「Sys138:画面ﾓｰﾄﾞ[ｳｨﾝﾄﾞｳ:0/仮想全:1/全:2]」やF4/F11でゲーム中に「仮想フルスクリーン」にして終了し、次回ゲーム起動すると「ウィンドウモード」になってしまうバグ、ならびに、Sys138=2で「(解像度切替)全画面化」をして終了して次回起動すると「仮想フルスクリーン」で起動するバグを修正<br><br><br><br><B>【エディター部の修正】</B><br><br>●【テキスト出力/調整】マップ・コモン・各DB・タイルセット出力時の<br>　　　　　UTF-8のBOMを削除。<br>　→　技術的に最近流行りじゃないらしいので切っておきました。<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.544 の更新履歴　2025/02/25】</B></span><br><br><B>【新機能】</B><br><span style="color: #d50000"><B>●【変数操作+/新機能】「その他」の取得項目に以下を追加<br>　- [ﾏｯﾌﾟ]マップズーム拡大率[%]<br>　- [ﾏｯﾌﾟ]マップズーム中心X<br>　- [ﾏｯﾌﾟ]マップズーム中心Y</B></span><br>→　この現在値を取りたいと何度も思ってたのに入れ忘れてました。<br><br><br><B>【ゲーム部の修正】</B><br><br>●【エフェクト/不具合】「ピクチャリンク」された「ピクチャ」に<br>　　　「描画座標シフト2[角/拡大前]」を行った際、<br>　　　ピクチャリンクによる拡大率の変化が反映されていなかったバグを修正<br><br><br><br><B>【エディター部の修正】</B><br><br>●【マップイベントウィンドウ/不具合】マップイベントウィンドウを<br>　　　　　一定サイズ以上にして終了したとき、次回起動時のサイズが<br>　　　　　縮んでしまうことがあったバグを修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.543 の更新履歴　2025/02/24】</B></span><br><br><B>【ゲーム部の修正】</B><br><br>●【エフェクト/不具合】Ver3.542でのピクチャリンクの「キャラの表」に<br>　　リンクしたピクチャの表示順がイベントの優先度と逆になってたバグが<br>　　直ってなかった問題を修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.542 の更新履歴　2025/02/24】</B></span><br><br><B>【ゲーム部の修正】</B><br><br>●【システム変数/調整】Sys136～Sys137「(精密)ウィンドウ拡大率[%]」で<br>　　　　指定したサイズがディスプレイサイズに制限されないように修正<br><br>●【エフェクト/不具合】ピクチャリンクの「キャラの表」にリンクしたピクチャの<br>　　　　　表示順がイベントの優先度と逆になってたバグを修正<br>　　　→　前面表示にしてる方が裏側に来る、などの現象が起きていました。<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.541 の更新履歴　2025/02/23】</B></span><br><br><B>【ゲーム部の修正】</B><br><br>●【ピクチャ/不具合】<SCREENSHOT><MAP_SCREENSHOT>のピクチャを<br>　　複数「表示」したときに過剰にスプライトが作られてしまうバグ修正<br><br><br>●【マップの遠景・フォグ/不具合】「場所移動」したとき、マップサイズや<br>　　　移動先の場所によっては移動直後の1フレームだけ<br>　　　正常に「遠景」や「フォグ」が表示されてないことがあったバグ修正<br><br><HR><br><span style="font-size:120%;"><B>【Ver3.540 の更新履歴　2025/02/22】</B></span><br><br><B>【ゲーム部の修正】</B><br><br>●【起動時引数/調整】起動データフォルダ指定「-f "(フォルダ名)"」や基本データ指定「-basic "(フォルダ名)"」「-basic2 "(フォルダ名)"」において末尾に余計な「/」や「\」が含まれていた場合は自動で消すよう修正<br>　→　「-f "Data/"」などと指定されたとき、正常起動はするものの個別暗号化ファイルが読めなくなる問題などが発生するためです。<br><br>●【キー入力/不具合】「キー入力受け付け」で方向キーの<br>　　　「8方向　上のみ 下のみ 左のみ 右のみ」の場合に、<br>　　　「離した時のみ取得」が反応していなかったバグ修正<br><br><br><br><B>【エディター部の修正】</B><br><br>●【テストプレイ/不具合】テストプレイ時に内部的にGame.exeに与えている<br>　　　　起動データフォルダ名に末尾に余計な「/」が入っていたバグ修正<br>　　→　これによりテストプレイ時だけ個別暗号化ファイルが<br>　　　　読み込めなくなっていた問題が発生していました。<br><br>●【マップ設定を変更ウィンドウ/不具合】<br>　「変更する」チェックを入れないとBGMやBGSなどの情報が<br>　 更新されなくなっていたバグ修正<br><br>●【テキスト出力/調整】マップ・コモン・各DB・タイルセットで<br>　　　出力可能なテキストファイルに、UTF-8の「BOM」を付けるよう修正<br>　→　コモンのTXTファイルなどをサイトにアップしても<br>　　　UTF-8文字コードと認識されなくて不便だったためです。<br></div><br><HR><br>　という感じでした！<br>　不具合修正ついでに、使いやすさを上げるちょっとした調整もたくさん行いました。こんな状況だと、どうせウディタ修正以外のことに神経を振り分けられないですからね！　やれるチャンスにまとめてやってしまいましょう。<br><br>　引き続きバグ修正を続けつつ、次の目標にも意識を向けていきたいです。朝から晩までウディタ修正で1日終わる日々がそろそろ終わってくれるといいんですが。<br>　そもそも、去年9月始めからずっとウディタ3.5修正で走り続けてるので、落ち着いたらちょっと休みたい気分もありますね！　春は花粉症や大気汚染がひどくて心身が故障しがちなので。<br><br>　とにかく、体調管理もウディタ修正も最善を尽くしていきます！！　うおおおー！！</div><div class='entry-foot'>　<font class='article_end_date'>2025-03-08 (土)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2025-03-08','ウディタ3.5正式版公開！　したけど毎日バグ修正!!!', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div>
<div class='article_pos'>2025年03月</div>
<div class='nav'><a href='04.html'>次の月へ</a> | <a href='02.html'>前の月へ</a></div>
<a id='bottom'></a>

<BR><BR>
<div align="right"><a href="#top" class="g">▲一番上へ戻る</a></div>
<BR>
<CENTER>
<HR>
Copyright © SmokingWOLF / Silver Second
<HR>
</CENTER>

</div>
<div id='sidebar'>
<div style='font-weight:bold;'>開発日誌</div>
<div><a class='sidebar_link' href='../../archive/top/index.html'>トップへ</a></div>
<div><B><a class='sidebar_link' href='../../index.html'>全記事一覧</a></B></div>
<hr>
<div style='font-weight:bold;'>【最新記事】</div>
<div><a class='sidebar_link_recent' href='../../archive/2025/06.html#2025-06-28'>●06/28 ウディコン準備中！+ 開発日誌も移転作業中</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/06.html#2025-06-14'>●06/14 サイト修正＋開発日誌をFC2から移転！</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/05.html#2025-05-31'>●05/31 ウディコン歴史資料館設立！+ ウディタ修正 + GitHubのサイト作り</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/05.html#2025-05-17'>●05/17 ウディタ3.6へ！バグ修正再び！ + 私がいなくなった後に備えて</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/05.html#2025-05-03'>●05/03 再び出てくるウディタ3.5のバグ！ 修正の毎日！</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/04.html#2025-04-19'>●04/19 ウディタ3.5落ち着いた！？ ＆シル幻20周年！</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/04.html#2025-04-05'>●04/05 さよならマイPC、それでも続くウディタ修正の日々</a></div>
<hr>
<div style='font-weight:bold;'>【カテゴリ】</div>
<div><a class='sidebar_link' href='../../category/woditor/001.html'>ウディタ&nbsp;<span class='sym'>(31)</span></a></div>
<div><a class='sidebar_link' href='../../category/devlog/001.html'>開発日誌&nbsp;<span class='sym'>(6)</span></a></div>
<div><a class='sidebar_link' href='../../category/etc/001.html'>その他&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../category/owh2dev/001.html'>片道勇者2&nbsp;<span class='sym'>(2)</span></a></div>
<hr>
<div style='font-weight:bold;'>【月別】</div>
<div><a class='sidebar_link' href='javascript:void(0);' id='y2025-btn' onclick="toggleYear('y2025')">2025&nbsp;<span class='sym'>＋</span></a></div>
<div id='y2025' data-yearpane style='display:none;margin-left:10px;'>
<div><a class='sidebar_link' href='../../archive/2025/06.html'>06月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2025/05.html'>05月&nbsp;<span class='sym'>(3)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2025/04.html'>04月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2025/03.html'>03月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2025/02.html'>02月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2025/01.html'>01月&nbsp;<span class='sym'>(3)</span></a></div>
</div>
<div><a class='sidebar_link' href='javascript:void(0);' id='y2024-btn' onclick="toggleYear('y2024')">2024&nbsp;<span class='sym'>＋</span></a></div>
<div id='y2024' data-yearpane style='display:none;margin-left:10px;'>
<div><a class='sidebar_link' href='../../archive/2024/12.html'>12月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/11.html'>11月&nbsp;<span class='sym'>(3)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/10.html'>10月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/09.html'>09月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/08.html'>08月&nbsp;<span class='sym'>(3)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/07.html'>07月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/06.html'>06月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/05.html'>05月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/04.html'>04月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/03.html'>03月&nbsp;<span class='sym'>(3)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/02.html'>02月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/01.html'>01月&nbsp;<span class='sym'>(2)</span></a></div>
</div>
</div>


<script>
// ダブルリンク処理（JSがオンでリンク先が存在するならそこへ、なければアーカイブ側へ飛ぶ）
window.addEventListener('DOMContentLoaded', () => {
  const link = document.getElementById('double-link');
  if (!link) {
    console.error('リンクが見つかりませんでした！');
    return;
  }
  const primaryUrl = link.dataset.primary;

  link.addEventListener('click', (e) => {
    e.preventDefault();

    fetch(primaryUrl, { method: 'GET' })
      .then(res => {
        const url = res.url || '';
        if (!res.ok || url.includes('404.html') || res.status === 404) {
          console.warn('【404または失敗】アーカイブに飛びます');
          //window.location.href = link.href;
          window.open(targetUrl, '_blank');
        } else {
          console.warn('【OK】本家へ接続成功！');
          //window.location.href = primaryUrl;
          window.open(primaryUrl, '_blank');
        }
      })
      .catch(() => {
        console.warn('【通信エラー】アーカイブに飛びます');
        //window.location.href = link.href;
        window.open(link.href, '_blank');
      });
  });
});
</script>

</body>
</html>