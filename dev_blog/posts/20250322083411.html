<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>ウディタ3.5開発開始からもうすぐ7ヶ月</title>
<script>
function toggle(id){
 var e=document.getElementById(id);
 if(e.style.display==='none'){e.style.display='block';}else{e.style.display='none';}
}
</script>
</head>
<body>
<h1>ウディタ3.5開発開始からもうすぐ7ヶ月</h1>
<div>2025-03-22 08:34:11</div>
<div><TABLE padding="15px"><tr><td align="left" style="line-height: 1.5; word-break: break-all;">　<a target="_blank" href="https://silversecond.com/WolfRPGEditor/"><span style="font-size: 150%"><B>ウディタ3.5正式版</B></span></a>を公開してから20日くらい、3.5開発開始(去年8月末)からもうすぐ7ヶ月くらいになろうとしています！ 時間使いすぎ！
　数はだいぶ減りましたがまだほぼ毎日ウディタ3.5のバグが出てきています！　修正点は2週間で40個超、1日平均約3個くらいでしょうか。うーんまだ多い！
　
<img src="../image/2025/20250322.jpg" border="1" style="max-width:520px;" loading="lazy">

　ちなみに私は現在くしゃみ連射マシンと化しているのでこのシーズンはまったりモードです！　その体調で朝から晩まで動ける時間に作業して、ちょうど日々のバグを安定して片付けられるくらいの感じになっています。
　他に何もできていないのは変わりませんが、どのみちこの季節はあまり進まないのでちょうどいい課題量だと思います！　ベータ公開、正式リリースしたそれぞれのタイミングもちょうどいい具合でしたね。

　今週もバグ修正だけで日々が終わっているので、変わらずバグ修正リストの掲載とさせていただきます！
　今回はちょっと重要な修正がありましたのでそれだけお知らせします。

<HR><span style="font-size:large;"><B>【重要な仕様変更　可変DBの「データ名」指定時の挙動】</B></span><HR>
　「DB操作」コマンドにて、「可変DB」の「データ」を「名前」で指定した際の動作が変更されました！

・これまで → <B>「ゲーム起動時点のデータ名」</B>でしか判定されなかった

・変更後 → <span style="color: #d50000"><B>「ゲーム中に変更された最新のデータ名」</B></span>で判定するように修正！

　つまりデータ名を「最初の文字列データと同じ」にしてあるタイプの場合、常にその「1番目の文字列」の「名前」でデータを呼び出せるようになります！
　実質、連想配列（文字列キーで読む配列）として使えるようになるわけですね！
　具体例としては、

<span style="color: #d50000"><B>●「(データ名からの)データ番号の取得」を使えば、ある名前のキャラがリスト(可変DB)にあるか一発検索ができる！（なければ-1が返される）
　
●「名前」に対応する数値や文字列を取り出す！</B></span>

　といったことが、可変DBにテキトーに文字列を放り込んだり、ちょちょっとDB処理するだけで簡単に作れるようになるわけです！
　修正内容の説明文からは分かりにくいですが、ちょっとひねって使うと意外と革命的な使い道が生まれる仕様変更です！


<B>【この変更による影響について】</B>

　ただし柔軟になった代わりに、過去のデータでは問題が起きる可能性があります！
　たとえばあるタイプを<B>「最初の文字列データと同じ」のデータID</B>にしてあった場合、その中のキャラクターの名前が変わるイベントなどを作ると、旧仕様ではキャラ名が変わっても「起動時点のデータ名」で扱われるので同じようにDB操作できていましたが、新仕様では「最新の名前」しか受け付けなくなるため、エラーになる可能性があります！
　<span style="color: #2196f3"><span style="font-size: 80%">例：「ヒーローさん」という「データ【名】」で呼んでる処理があった場合、キャラ名とデータ名が「スーパーヒーローさん」に変わると「『ヒーローさん』というデータ名はありません」というエラーが出てしまいます。</span></span>

→　<span style="color: #d50000">もし従来の仕様で動かしたい場合は「ゲーム基本設定」の 「Game.exe動作バージョン調整」 にて、「旧Ver3.50時点の挙動で動作」 を選択してください。</span>
　（すでにゲームデータ作成時に「Ver固定済み」のゲームには影響はありません）


<HR><span style="font-size:large;"><B>【新機能　他ツールの作業時間も計測可能に！】</B></span><HR>
●【メインウィンドウ/新機能】「テスト」「絵」「文」の各作業時間がタイトルバーに表示される機能を追加！
<img src="https://silversecond.net/data/p_diary5/20250322A.jpg" border="1" style="max-width:520px;" loading="lazy">
　→ 「テスト」「絵」「文」に指定したアプリが前面になっているとき、各項目に時間が加算されるようになります！

　→　各項目のアプリEXE名は「Editor.ini」内の[EditTimeCount]項目内で設定できます（一般的と思われるソフトはすでに入力済です）。
　例： <B>EditTimeCount_TestPlay_Exe=Game.exe,GamePro.exe,</B>
　 (意味:Game.exeやGamePro.exeが前面にあると[テスト]時間に加算される)
　　
<span style="font-size: 80%">　→　もしこの追加部分だけ見えないようにしたい場合は、Editor.iniの
　　[EditTimeCount]内の「EditTimeCount_View=1」を「=0」にしてください。
　　その場合は従来通り、各時間が () 側に加算されます　
　　
　→「他（EditTimeCount_Etc_EXE=）」という空き枠も用意されているので、
　　必要ならEditor.ini内でEXE名を設定してご利用ください。
</span>

<HR>
　以下はその他の細かな修正点です！
<HR>
<span style="font-size:120%;"><B>【Ver3.571 の更新履歴　2025/03/21】</B></span>


<strong>【ゲーム部の修正】</strong>

●【文字列操作/不具合】
　隠しコードなどでファイル名に「..」(../ではない)が
　含まれるだけでエラーになってしまっていたバグを修正

●【DB操作/不具合】XY配列の「指定Y列を抜き取る」が
　　Yが0以外のときに正常に動作していなかったバグ修正

<HR>
<span style="font-size:120%;"><B>【Ver3.570 の更新履歴　2025/03/21】</B></span>


<B>【ゲーム部の修正】</B>

●【セーブ･ロード処理/不具合】
　文字列操作の隠しコード「<<MAKE_EVENT～>>」にて
　「/TR=」で起動条件を指定して空イベントを生成した後、
　連続してロードを繰り返すと空イベントの起動条件などの
　設定がセーブ時と変わってしまうバグを修正

●【ファイル読込系/不具合】
　一部の画像・音声のファイル指定時に、ファイル「../../」と
　指定すると上位フォルダが読み込めてしまう箇所を修正
 →　画像・音声の読込箇所で対応漏れがありました。
 　　TXT読み込み処理などは問題なさそうでした。

●【ファイル読込系/不具合】
　ファイル名に「..」(../ではない)が含まれるだけで
　文字列操作時などでのファイル入出力が
　エラーになってしまっていたバグを修正

●【文字列操作/不具合】
  「\\self[0]」(\self[0]という文字を"変換せずに"表示）のように
　代入特殊文字の先頭に「\」を1つ余分に付けた文字列を
　文字列変数に格納して「↓から特殊文字を消去して格納を」すると
　\self[0]の値が数値に変換されて表示されてしまうバグを修正
 →　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　「旧Ver3.50時点の挙動で動作」に設定すると
　　従来の挙動に戻せます。

●【特殊文字/不具合】ルビの特殊文字\r[A,B]内の
　「A」部分内では特殊文字「\r[]」のみ変換しないよう修正



<B>【エディター部の修正】</B>

●【起動時引数/不具合】
　「-txtinput」「-txtoutput」（テキスト入出力）モード時、
　「-wait」を付けていなくてもキー待ちになってしまうバグを修正

<HR>
<span style="font-size:120%;"><B>【Ver3.569 の更新履歴　2025/03/21】</B></span>


<B>【ゲーム部の修正】</B>

●【セーブ･ロード処理/不具合】
　文字列操作の隠しコード「<<MAKE_EVENT～>>」にて
　「/TR=」で起動条件を指定して空イベントを生成した後、
　「場所移動」と「セーブデータへの書き込み」を行うと
　ロード時にその空イベントの「起動条件」が
　変わってしまうバグを修正


●【イベント起動/不具合】ループ境界ごしに
　「決定キー起動/プレイヤー接触/イベント接触」のイベントが
　起動しないことがあったバグを修正



<B>【エディター部の修正】</B>

●【コモンイベントウィンドウの検索/不具合】
　検索で何かにヒットするたびに「更新」ボタンが押せるように
　なってしまうバグを修正
→　ただし検索により「折りたたみ」された部分が
　　「展開」された場合は、「更新」ボタンが押せるようになります。
　（折りたたみ、展開操作はイベントが編集されたものとして扱われます）

<HR>
<span style="font-size:120%;"><B>【Ver3.568 の更新履歴　2025/03/20】</B></span>


<B>【ゲーム部の修正】</B>

●【マップイベントのオプション/不具合】
　ゲームをロードした際、「セーブ時のイベントページの起動条件」が
　「数値が0では成立しない」条件を含むページになっていた場合、
　「当たり判定■」「方向固定」「すり抜け」「前面表示」
　「半歩/全歩移動」「影番号」がそのページの設定で上書きされてしまい
　セーブ時の値が反映されないバグを修正
 →　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　「旧Ver3.50時点の挙動で動作」に設定すると
　　従来の挙動に戻せます。

<HR>
<span style="font-size:120%;"><B>【Ver3.566 の更新履歴　2025/03/18】</B></span>


<B>【新機能】</B>

<span style="color: #d50000">●【ゲーム基本設定/新機能】「DB操作[代入]時の挙動」項目を追加。
　「[数値/文字]自動変換ON (標準)」と
　「[数値/文字]自動変換OFF (エラー表示)」から選択可能です。</span>
 →　ONにすると「代入」時に数値と文字列が自動変換されます。
　　OFFにすると格納先と読込先が数値と文字列で異なる場合に
　　エラーが出て処理が中断されます。
<span style="color: #2196f3"> → 格納先と読込先の[数値/文字列]が異なる場合にエラーが出る旧処理の方が好みという方も多いようなので追加しておきました。
　 といいますか、実は<B>私自身は自動変換されずにエラーが出る方が助かります</B>ね！</span>


<B>【ゲーム部の修正】</B>
●【DB操作/仕様変更】「可変DB」の「データ」を「名前」で指定したとき、
　　そのタイプの「データIDの設定方法」が「最初の文字列データと同じ」に
　　してあった場合は最新の「データ名」に合わせて処理するよう修正
→　上の方で紹介した内容です。


●【エフェクト/不具合】「ピクチャリンク」で「XYズーム連動」で
　　「表」に表示して、マップをズームすると100%のままになるバグ修正。
　→　おそらくVer3.564から発生していたバグでした。




<B>【エディター部の修正】</B>

●【マップ編集(プロ版)/不具合】マップレイヤーを4～5にして編集後、
　　マップレイヤーを少なくしてマップサイズ変更を行い、
　　「保存」するとクラッシュすることがあるバグを修正

<HR>
<span style="font-size:120%;"><B>【Ver3.565 の更新履歴　2025/03/17】</B></span>


<B>【ゲーム部の修正】</B>

●【エフェクト(プロ版)/不具合】「トランジション実行」中に
　「マップF」「全体F」効果がオフになってしまうバグを修正
 → 整合を取るため、「場所移動」時のキャラ表示タイミングも
 　調整したので問題が起きないか様子見中です。

<HR>
<span style="font-size:120%;"><B>【Ver3.564 の更新履歴　2025/03/15】</B></span>


<B>【ゲーム部の修正】</B>

●【F7ピクチャ一覧】ピクチャリンクされたピクチャのリンクレイヤーが
　　　　すべて「裏」表記になってしまうバグ修正



<B>【エディター部の修正】</B>

●【コモンイベントウィンドウ/不具合】TXT入出力でコモンイベントを
　　　読み込んだ際、コモンイベントコマンドの「入力」の「選択肢」が
　　　他コモンの分も増えてしまうことがあるバグ修正

<HR>
<span style="font-size:120%;"><B>【Ver3.563 の更新履歴　2025/03/14】</B></span>


<B>【ゲーム部の修正】</B>

●【文字列操作/不具合】文字列操作の隠しコード、
　「<<MAKE_EVENT～（空イベント生成）」でイベント生成した際、
　存在しない画像を指定したときのエラー行数が
　最後のコモン並列イベントになってしまっていたバグ修正



<B>【エディター部の修正】</B>

●【エフェクト/不具合】「ピクチャ/キャラ/マップのエフェクト」の
　　数値欄の上下ボタン/キーが一部機能しなくなるバグ修正

●【キー入力/不具合】コマンド編集時、「特定キーのみ判定」の
　　キーコード欄が表示されなくなるバグ修正

<HR>
<span style="font-size:120%;"><B>【Ver3.562 の更新履歴　2025/03/13】</B></span>


<B>【新機能】</B>

●【メインウィンドウ/新機能】「テスト」「絵」「文」の
　　　各作業時間がタイトルバーに表示される機能を追加。
　→　上で紹介した内容です。



<B>【エディター部の修正】</B>

●【データベースウィンドウ/調整】ウィンドウを閉じて次に開いたとき、
　　　　最後に選んでいた「項目」が選ばれたままになるよう修正

●【TXT入出力機能/不具合】「基本データTXT出力」や「全マップTXT出力」で
　　　「コモンイベント名」や「DBのデータ名と番号の対応付け」などが
　　　正常に取れていない部分があったバグを修正

●【エディターオプション/不具合】「全TXT→全マップのみ読込」後に
　　　エディターオプションを終了した際、マップ再読込が
　　　行われない場合があったバグを修正

<HR>
<span style="font-size:120%;"><B>【Ver3.561 の更新履歴　2025/03/12】</B></span>


<B>【新機能】</B>

<span style="color: #d50000"><B>●【Game.ini/新機能】Game.iniにて、
　「DebugWindow_ShowBootText」で
　　起動時のデバッグ表示（現在はフォントの有無判定のみ）の有無を
　　切り替えられるように。</B></span>
→ Game.iniの「DebugWindow_ShowBootText=1」の行を
　 「DebugWindow_ShowBootText=0」にすると
　 「起動時のフォントチェック」や、将来的に搭載される
　 起動時デバッグ文が全て表示されなくなります。


<span style="color: #d50000"><B>●【システム文字列/新機能】「SysS22:ダウンロード中ファイル内容」追加。
　　ストリーミング的に応答が返ってくる場合や
　　データ先頭の状態を見て素早く中断の判断をしたい場合に、
　　ダウンロード途中のデータ内容を
　　いち早く読み込むことができます。</B></span>
 →　ただしダウンロードが完了すると
 　　「<<NoData>>」が返されるため、
　　 終了時点で読み込み先を切り変える必要があります。
 →　データ中に0のコードが含まれている場合、
     バイナリファイル（Zipファイル等の文字列でないファイル）
 　　と認識して「<<BinaryFile>>」が返されます。
　　（通常のTXTファイルでは0コードは含まれません）
<span style="color: #2196f3"><B> →　チャットAIからの応答を受け取る場合など、
 　　テキストデータであっても通信完了するのが
 　　すごく遅い状況があるので追加しました。</B></span>
 


<B>【ゲーム部の修正】</B>

●【Game.ini/不具合】Game.ini内の余計な改行を消去

●【変数操作+/不具合】「位置」の
　　　「通行可能（タイル・Ev両方）[○=0/×=1]」にて、
　　　「精密座標」オフで、「2で割り切れる精密位置」にいる
　　　当たり判定「0.5×1マス」のイベントを判定すると
　　　「0（通行可能）」が返されてしまうバグ修正
　　→　おそらくVer3.553から発生していたバグでした。

●【コモンイベント/不具合】マップイベントが500層以上
　　　呼び出されたときにエラーが出なかったバグを修正
　→　コモン側は500層呼び出しでエラーが出ましたが、
　　　マップイベント側のチェックが抜けており、
　　　クラッシュするようになっていました。



<B>【エディター部の修正】</B>

●【データベースウィンドウ/調整】見えない改行が含まれる文を
　　文字列項目に貼り付けた際、次に開き直した際に
　　改行が反映されるよう修正
　→　「文章の表示」コマンドの仕様に合わせました。

●【条件(変数)/不具合】「編集」で条件(変数)コマンドを開いた際、
　　　オープンになっていない分岐の数値欄のスピンボタンが
　　　はずれてしまっているバグ修正

●【TXT入出力/不具合】全TXT出力されたイベントコマンドのうち、
　　「DB操作」の表記上の「名前」と「番号」の対応付けが
　　うまくいっていなかったバグ修正

●【エディターオプション/調整】「全TXT→全マップのみ読込」した後、
　　マップ画面に戻ったときに
　　「全マップファイルをTXTから読み込んだため、
　　　現在のマップを再読込します」
　　というメッセージが出るよう修正

●【エディターオプション/調整】「.Auto.txt入出力」の処理が
　　並列処理として走っていたのを、終了するまで
　　ウィンドウ操作できないよう修正
　→ 処理が終了する前にエディター再起動されてしまったりして
　　 危険な挙動になっていました。

<HR>
<span style="font-size:120%;"><B>【Ver3.560 の更新履歴　2025/03/11】</B></span>


<B>【エディター部の修正】</B>

●【マップ一覧/不具合】マップ一覧にて、最後の番号の
　 「マップファイル名」が空ならツリーに表示しないように修正
　→ 「マップ設定画面」で何かの操作を行うとシステムDB、
　　タイプ0のデータの最後に空データが作られる場合がありますが、
　　これ自体は必要な挙動なのでツリー側で最後の空データを
　　表示しないようにして対応しました。


●【システムデータベース/調整】システムデータベース、
　　　タイプ24の「顔グラフィック名」の項目ロックを解除
　→　そもそも顔グラフィック名は基幹システムに
　　　影響しない部分でした。

<HR>
<span style="font-size:120%;"><B>【Ver3.559 の更新履歴　2025/03/10】</B></span>


<B>【エディター部の修正】</B>

●【エディター全体/不具合】なんらかの条件で、非表示のはずの数値入力欄の
　　「▲▼」部分だけが前面に出てきてしまう現象の抑制を試みました
→　「変数操作・条件分岐・キー入力・ピクチャ・エフェクト・サウンド・
　　　セーブロード操作・コモンイベント」コマンド、ならびに
　　「各データベースウィンドウ」内。

●【変数操作+･場所移動･動作指定ウィンドウ/調整】キャラ指定欄の
　　コモンセルフ変数に「コモンセルフ名」が表示されるように修正

<HR>
<span style="font-size:120%;"><B>【Ver3.558 の更新履歴　2025/03/09】</B></span>


<B>【ゲーム部の修正】</B>

●【セーブ・ロード処理/不具合】マップイベントの影番号が
　　　　保存されていなかったバグを修正
　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　「旧Ver3.390時点の挙動で動作」に設定すると、
　　「影番号」が保存されない従来の挙動に戻せます。

●【セーブ・ロード処理/不具合】文字列操作の隠しコード、
　「<<MAKE_EVENT～（空イベント生成）」で生成した位置が
　マップ外だった場合、表示されるエラー行数が
　前回の場所移動コマンドの位置になってしまうバグ修正

<HR>
<span style="font-size:120%;"><B>【Ver3.557 の更新履歴　2025/03/08】</B></span>


<B>【エディター部の修正】</B>

●【文章入力欄/不具合】 特定言語で「文章の表示」などの
　　文章入力欄で「右Alt + A」を入力すると、
　　文字でなく「全選択」処理が実行されてしまうバグを修正

<HR> 
　という感じで今もほぼ毎日修正中です！
　ウディタのバグが落ち着いたらゲーム開発も再開したいところ！　そろそろゲームの作り方を忘れてしまいそうなのでリハビリしていかないとですね。

　そしてみなさまからのご支援、いつも本当に助けになっています！　ウディタプロ版では生活できるだけのお金が入らないのになんでもかんでも高すぎるー！！

<img src="https://silversecond.net/data/p_diary5/20250322B.jpg" border="1" style="max-width:370px;" loading="lazy">

　そんな値上げに負けずに安心して生活できる体制を整えていくのが当面の目標！　
　今の私のように「（素材集め能力も含めて）1人でもゲームを完成させられるスキルを持てている」というのは、困った状況になるほどすばらしいアドバンテージだと感じます。これは1人でゲームを作り始めた人の強みですよね。
　いやまあ、お金がいっぱいあったらいくらでも外注したいんですけど、なんらかの1ジャンルをお任せするとなるとどうしてもまとまったお金が必要になっちゃうんですよ！　いっぱいキャラが出るゲームで「顔グラフィック1枚だけお願いします」とかなかなか注文しにくいですからね<span style="font-size: 80%">（音楽なら1曲だけお願いすることもしやすいかもしれませんが、1曲だけどうしても外注したいレベルのものだったら「伝説になる曲つくってください」みたいな怖いオーダーしか言わなさそう）</span>

　とにかく今もこれからも、現時点で使える知恵と能力を最大限に使って最善手を打っていきます！
　まずはウディタのバグ修正が落ち着くまで耐えつつ、少しずつでも次の準備に移れたらいいなあ、くらいの体制でやっていこうと思っております！　うおおおーがんばるぞー！</td></tr></table></div>

</body>
</html>