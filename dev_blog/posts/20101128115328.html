<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>シルドラ開発記3 敵/物語</title>
<script>
function toggle(id){
 var e=document.getElementById(id);
 if(e.style.display==='none'){e.style.display='block';}else{e.style.display='none';}
}
</script>
</head>
<body>
<h1>シルドラ開発記3 敵/物語</h1>
<div>2010-11-28 11:53:28</div>
<div>さて今回もシルフドラグーンゼロの開発記！
今回は、キャラクター・敵・物語の演出の３本柱でお送りします。

<hr size="1" />
<strong><span style="font-size:medium;">【キャラクターの依頼】</span></strong>

この辺りで、キャラクターグラフィックを、
モノリスフィアのキャラ着色・シルフェイド学院物語育成画像で
お世話になっている、透子さんという方に依頼しました。

私が描いた以下のようなラフから、グラフィックをおこしてもらっています。

<img src="../image/2010/20101128.jpg" title="艦長は最終Verより泥臭い風でした" border="1">

<span style="font-size:large;">↓</span>

<img src="http://www.silversecond.net/data/p_diary2/20101128B.gif" border="1">

全体的に予想以上の出来にしてくださって、とても感謝しています。
特に艦長が非常にかっこよくなってて嬉しかったのを覚えています。

（実は、できれば艦長ハードコア版に胸毛をつけてもらおうと思ってたのですが、
合わなさそうなのでお流れになりました、ちょっぴり残念）

<hr size="1" />
<strong><span style="font-size:medium;">【「すばらしいデータ」について】</span></strong>

このネタだけ、開発する半年くらい前から、知り合いに
「いつかこんなトラップ入れたいなあ」って話していました。

が、さすがにアレを絵師さんに頼むときは、微妙に迷ってたんですよ！
無理なお願いを聞いてくださってありがとうございました。
（と同時に申し訳ありませんでした……）

ネタバレはしませんが、元ネタとしては、
<span style="color:#CC0000"><strong>＜日本に、セクシーギャルが描かれた「脇見厳禁！」の看板がある＞</strong></span>
という笑い話を見て思いつきました。とだけ。

<hr size="1" />
<strong><span style="font-size:medium;">【敵の種類について考える】</span></strong>

敵の種類について考えます。
この段階では、まだ「砲台タイプ」と「飛行タイプ」の
挙動を行う敵しかいませんでした。

とりあえず、「よく撃ってくる敵」と、「よく動く敵」はあるので、
ここからバリエーションを増やしていきたいと思います。


結局思いついたのは、以下のパターンでした。

<center><table><tr><td><small><strong>
・<span style="color:#CC0000">補助タイプ「プローブ型」</span>　他の敵の攻撃力を上げる、ほぼ動かず
　→　単体で出てくればザコなので、慣れる相手としては最適

・<span style="color:#CC0000">小ボス的１「中型砲台タイプ」</span>
　→　普段もろい敵が多いので、アクセントとして、
　　　硬くて大きめの敵が欲しかった

・<span style="color:#CC0000">ボス的２「機動力＋高火力タイプ」</span>
　→　これは本当にボス用。ジャガーノートのことです。

・<span style="color:#CC0000">大ボス的「要塞タイプ」</span>
　→　元ネタは旧シルフドラグーンから。単体なら対したこと
　　　ないけれど、小型機体と一緒に出てくると強いような感じで。

・<span style="color:#CC0000">超小型タイプ「遠隔砲台タイプ（ファンネル？）」</span>
　→　本当はラスボスが射出してくる武器だった

・<span style="color:#CC0000">同型機での戦いは燃えるのでぜひ「ドラグーンタイプ」</span>
　→　燃える展開ならやっぱりこれに限ります
</small></td></tr></table></center>
本当はこれに加えて「ラスボスタイプ」があったのですが、
作成する時間的都合といい案が思いつかなかったのとで、ボツになっています。

ラスボスは、「ファンネルタイプの敵を吐き出してくる敵」
という感じのを考えていましたが、それじゃあ
戦うのがうざったいだけで、あまり燃えませんしね。

ストーリー的には、何でも量産できてしまう「敵」が、
わざわざ最後に一体だけ特別な機体を出してくるなんて
ありえないだろうなあ、という感覚もあったので、
ラストはアレで押し通すことにしました。

「えーラスボスいないのー？」というご意見が殺到しないか、内心、
ヒヤヒヤものでしたが、バッドエンド時の難易度がすさまじいせいか、
結局、そういうご意見は、頂かなかった気がします。
（今日からいっぱい来るかもしれませんけれど）

<hr size="1" />
<strong><span style="font-size:medium;">【敵の挙動について考える】</span></strong>

敵の挙動のおおざっぱな目標としては、
<strong><span style="color:#CC0000">・微妙に生きているような動きをする敵を作りたい、
・なるべく共通の処理で動くようにしたい　　　　　　.</span></strong>
と考えていました。

で、ここから先は感覚の勝負で、
「こういう仕様にしたら、きっとこうなるだろうな」
という予想を立てて、作っていったわけではありません。
STGの敵キャラ作成なんて初めての仕事ですから、
自分の感性に任せて進めるしかないと思っていました。

いじっては見て、いじっては見て、少しずつ改良の繰り返しです。

ひとまず、基本的な敵の挙動として、以下のパターンを作りました。

<span style="color:#CC0000"><strong>・基本的に、プレイヤーから一定距離を保つように動く</strong></span>
→　一部の敵は一直線に特攻してきますが、
基本的には距離をあけるように動きます。

<span style="color:#CC0000"><strong>・下2桁のレベルが75以上になると消える敵が出てくる</strong></span>
→　ただし、一部の敵はステルスになりません。
下二桁が75～99のレベルは、エキストラステージと考えています。

※ステルスに関しては、たまたま開発途中に、敵のグラフィックが
出ないバグが出たのがきっかけでした。

あとは、

<span style="color:#CC0000"><strong>・左右にスライド移動する
・一定間隔で弾を発射する
・攻撃を受けたら左右スライド移動方向を反転する
・ときどきランダム方向に超加速する
</strong></span>

というオプションを付けたり付けなかったりして、調整することにしています。
「それっぽい動きになったらOK」、という感覚で作っていました。

<hr size="1" />
<strong><span style="font-size:medium;">【敵出現のランダム性について考える】</span></strong>

敵の出現設定は、1～1000レベル分までの内容を、

<span style="color:#CC0000"><strong>・固定の敵集団を出現させるレベル
・ランダムで敵を出現させるレベル</strong></span>

の２つのモードで設定しています。
前者は、ボス戦や、あえて敵を多くしたいシーンで、
後者は、それ以外全部のシーンで使っています。

ほとんどはランダム出現モードで設定したので、
実際は、いちいち1000個分設定したわけではありません。
これはもちろん、楽するためですね。


ランダム敵出現モードは、「<strong>適当な最大出現数</strong>」＋「<strong>各タイプの出現率</strong>」の
２つを設定することで、テキトーに敵編成を作ってくれる方式です。
この辺は、特に目新しいことはないと思います。

ですが、問題は敵の「出現率」を設定するときのコツ！
実際に作っていった中で感じたことなんですが、一つのコツとして、
敵がＡＢＣＤＥの５種類いた場合、「Ａ～Ｅを同時に出す」のではなくて、
出すのは「ＡとＢだけ」、「ＣとＤだけ」、のように、
種類を限定する方が、ステージとしての味を出しやすく、
まんべんなく出すよりも、全体的に飽きにくくなるように感じました。

いつも炎・氷・雷属性のモンスターがでるより、
炎の迷宮で炎属性モンスターしか出ない方が、かえって
面白くなったりすることもあると思うんですが、そんな感じかもしれません。


また、敵編隊の最低出現数を「<strong>２体</strong>」以上にしたかったところも、
ぐっとこらえて「<span style="color:#CC0000"><strong>１体</strong></span>」にしました。

たまには敵が一体しか出てこなくて、スカッと
通過できることがあった方が気持ちいいと思ったからです。

※ハードは敵の出現数が増えるので、１体出現はありません。

<hr size="1" />
<strong><span style="font-size:medium;">【物語を演出する】</span></strong>

物語のパーツは、いつか作ろうと思ってたＳＦ用ネタ集として
すでにストックがあったので、ネタ出しそのものはあまり困りませんでした。

でも、最近読んだＳＦ小説にモロに影響されてるところが多々あります。
ＭＩＤＡＳナノマシンの特性なんかは、野尻氏による「太陽の簒奪者」を
直前に読んでいたことが大きく影響しています。とても面白い一冊ですよ！
（また、遊んだことはないですが、Ｒ－ＴＹＰＥシリーズの
「バイド」を連想させるというご意見が多かったです）



さて、いちおうシューティングゲームなので、物語は、
テンポを崩さないで演出したいと考えていました。

シューティング中のストーリー演出に対して、プレイする人がどう思うのか、
以下の３タイプのプレイヤーさんを想定してみました。

<center><table><tr><td><small><strong>
<span style="color:#CC0000"><strong>１．「ストーリーを求めている人」</strong></span>
→　長いストーリーパートが挟まれていても、喜んで見たいという人。
　　また、「ないよりは、あった方がいい」という人も多いかも？

<span style="color:#CC0000"><strong>２．「二周目以降で、既知の部分は読まなくていい人」</strong></span>
→　二周目以降で、邪魔にならない方式を考える必要があります。
　　例えば、「スキップできる」など。でも選択や行動による
　　メッセージの変化がもしあるなら、それを見たいと思う人達です。

<span style="color:#CC0000"><strong>３．「そもそもストーリーを求めていない人」</strong></span>
→　「シューティング」と聞いて新たに遊んでくださっている方には、
　「長ったらしいストーリー部はいらない」という方も多そうだと予想します。
　 ストーリー部分で、余計な時間を取らせない仕様、および、ストーリーを
　 完全に無視しても不都合が生じない構成にする必要があります。
</small></td></tr></table></center>

これらの各プレイヤーさんに、一同に対応できそうな案として考えたのが、
「<strong><span style="color:#CC0000">ステージ中に（戦闘しながら）メッセージが表示される</span></strong>」システムです。


ですが、そのメッセージを読めるであろう対象は、
「<strong>戦闘中に右画面の内容を確認できるくらい、プレイに慣れた人</strong>」だけです。
これはもともと、そういうデザインとして作っています。
もちろん必ず読んで欲しい部分は、戦闘を中断してメッセージ表示します。

また、戦闘しながら会話を読むというシビアな情報提供方式は、
「<strong>プレイに慣れた人を、退屈させないため</strong>」でもあります。
「<strong>敵を倒すことに慣れた人</strong>」向けの、さらなる高難易度プレイこそ、
つまるところ「<strong>メッセージを読むこと</strong>」なのです。

――というのは後付けで、もし最初から、質の高い<strong>声優さん</strong>が
確保できることが約束されてるなら、本当はボイス有りで
作った方がいいんだろうなあ、と思ってたんですよ……。

何はともあれ、声優さん方面のコネも、情報収集の時間もあまりないため、
声入りの方向性だとリスクが高くなると考え、今回は避けることにしました。


で、プレイヤーさんは、最初は敵を倒すことだけに手いっぱいだろうと
私は考えていて、たとえばミッション３なら、多くのプレイヤーさんは、
選択肢を選ぶ暇がないだろうなあ、と想定しています。

私は、ミッション５～６あたりで、ようやくプレイヤーさんが
メッセージ画面を読むことに慣れ始めるであろうと推測しました。

だからミッション６に、例の「素晴らしいデータ」を入れたんですね。
物語的に「お遊び」がゆるされる最後のタイミングだから、というのも、
一つの理由ですけれど、何より、気付かれなければ
やっても意味がない類のネタでしたから。

<hr size="1" width=50% />
……しかし、リアルタイムにメッセージが表示されたり、選択肢を
選べたりするシステムは、技術的な問題として、入力や動作が
複雑になりやすく、多くのバグが潜在してしまいました。

結局、今も直せていないバグが、いくつか残っていたりしますが、
それでも、最終的にこういうタイプにしたことで、
いい方向に転んだんじゃないかな、と思っています。

<hr size="1" width=50% />
少し話が脱線しますが、自動車学校に行ってるとき、最初はサイドミラーを
見る暇がなくてオタオタしてたのですが、慣れるとちょくちょく確認することが
できるようになりました。　今思えば、このシステムは、そのときの気持ちを
皆にも味わって欲しいという気持ちがにじみ出てるような気もします。

逆に、上記のような体験をしたおかげで、
<span style="color:#CC0000"><strong>「戦闘に忙しくてもメッセージを確認することはできる」</strong></span>
という確信を持った、と言えるかもしれません。
いやまあ、どうしてもダメな人はダメかもしれませんので、
その場合は二周目フルチューンで挑んでくださったりしてみてください。

<hr size="1" />
さて、ここまでで、システムやストーリー、
ステージが一通り完成しました。ひとまずの、完成品です。

いよいよ、次から最も重要な「調整」が始まります。

（次回へ続く）

<hr size="1" />
今回も、様々な内容の拍手コメント、どれも本当にありがとうございます。
皆さんのおかげで、まだまだ開発もお仕事もがんばれます！

では、作業を再開します。</div>

</body>
</html>