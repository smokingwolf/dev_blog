<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>シルバーセカンド開発日誌 / SmokingWOLF</title>
<meta name="viewport" content="width=700">
<script src="../../js/smoothscroll_up.js" type="text/javascript"></script> 
<style>
BODY{
  /*display:flex;*/
  font-size:13px;
  margin:0;
  font-family: "Verdana",YuGothic, "Hiragino Kaku Gothic Pro", Meiryo, sans-serif;
}

TD{
  font-size:12px;
}


A:LINK,A:VISITED {  color:#5658f6;  text-decoration:underline ;}
A:HOVER,A:ACTIVE{ color: #9698e6;  text-decoration: underline;}

A.red:LINK,A.red:VISITED{color:#d6385c;display: inline-block;text-shadow: 0 0 15px #ffddcc, 0 0 15px #ffddaa;}
A.red:HOVER,A.red:ACTIVE{color : #f6688c;text-decoration : underline; text-shadow: 0 0 15px #ffcccc, 0 0 15px #ffaaaa;}

A.blue:LINK,A.blue:VISITED {  color:#5658f6;text-decoration:underline ;}
A.blue:HOVER,A.blue:ACTIVE{ color: #9698e6;  text-decoration: underline;}

A.g:LINK,A.g:VISITED{
	color:#38a68c;
	text-decoration:underline;
}

A.g:HOVER,A.g:ACTIVE{
	color : #68b6ac;
	text-decoration : underline;
}


A.jumplink:LINK,A.jumplink:VISITED{
	color:#38c6ac;
}

A.jumplink:HOVER,A.jumplink:ACTIVE{
	color : #68f6ac;
}

A.jumplink{
	text-shadow: 0 0 15px #ccddcc, 0 0 15px #aaddaa;
	text-decoration : none;
}


.article_pos{
	font-size:16px;
	color:#aaf; 
	font-weight:bold;
	text-align:center;
	margin:0px;
	padding:0px;
}

#content {
	font-size:14px;
	
}

#sidebar {
	background:#f8f8f8; 
	border-left:1px solid #ddd; 
	padding:4px 6px;
	font-size:12px;
}

A.sidebar_link:LINK,A.sidebar_link:VISITED,
A.sidebar_link_recent:LINK,A.sidebar_link_recent:VISITED{
    color:#5658f6;
	text-decoration: underline;
}
A.sidebar_link:HOVER,A.sidebar_link:ACTIVE,
A.sidebar_link_recent:HOVER,A.sidebar_link_recent:ACTIVE{
	color: #9698e6;
	text-decoration: underline;
}

.sidebar_link{
	font-size:13px;
}

.sidebar_link_recent{ /* 1つ1つの項目ごとに隙間を空ける */
	font-size:11px;
	line-height: 1.2;
	display: inline-block;
	margin-top:5px;
}


.entry {
	border:1px solid #ccc; 
	border-radius:8px; 
	margin:14px 0; 
	overflow:hidden;

}
.entry-title {
	background:linear-gradient(to right,#4243ff,#aaaacf);

	font-size:17px;
	color:#fff; 
	padding:4px; 
	font-weight:bold;
	/*text-shadow: 0 0 15px #ddccff, 0 0 15px #ddaaff;*/
}

.entry-body,.extended {
	background:#fff; 
	color:#444; 
	padding:15px;
	font-size:14px;
	line-height:24px;
}

.entry-foot {
	background:#fff; 
	text-align:center;
	vertical-align:middle;
	color:#ccf;
	font-size:12px;
	padding-top:20px;
	padding-right:20px;
	padding-bottom:10px;
}

.linkbutton{
	padding:3px;
}

/*--●形状整理用--*/
body {display:flex; margin:0;}
#content {width:580px; padding:0 8px;
	font-size:14px;}
#sidebar {width:120px;  box-sizing:border-box; }
#sidebar div {line-height:1.6;}
#sidebar hr {border:none; border-top:1px dashed #aaa; margin:4px 0;}
.nav {margin:0px 0 -20px 0; text-align:center;}
.sym {color:#999; font-weight:normal;}

</style>


<script>
function toggle(id){
  var e=document.getElementById(id);
  if(e.style.display==='none'){e.style.display='block';}else{e.style.display='none';}
}
function toggleDisp(id){
  var e=document.getElementById(id);
  if(e.style.display==='none'){e.style.display='block';}else{e.style.display='none';}
}
</script>



<!--★目次デザイン・処理★-->
<style>
.toc-box{background-color:#f0f0f0;border-radius:8px;padding:10px;} 
.toc-list{list-style:none;margin:0;padding-left:0;} 
.toc-list ul{list-style:none;margin:0;padding-left:20px;}
.toc-list li{margin:5px 0;}
.toc-level1{margin-left:0;}
.toc-level2{margin-left:20px;}

h1 {
  background: #fff;
  padding: 6px 10px;
  font-size: 17px;
  font-weight: bold;
  color: #2233cc; /* 青系 */
  background-image: linear-gradient(to bottom, #ffffff, #e0eaff);
  border-radius: 4px;
  border-left: 4px solid #3366ff;
  display: inline-block;
  width:100%;
  
}


h2,h3 {
  background: #fff;
  padding: 6px 10px;
  margin-left: 10px;
  font-size: 15px;
  font-weight: bold;
  color: #5566ff; /* 青系 */
  
  background-image: linear-gradient(to bottom, #ffffff, #e0eaff);
  border-radius: 4px;
  border-left: 2px solid #9999ff;
  display: inline-block;

}

h2::before {
  content: "- ";
}

.master_years{
  margin-left:20px;
  margin-right:20px;
}

.top_minicategory{
  font-size:10px;
  color:#ccccff;
}
</style>



</head>
<body>
<a id="top"></a>

<style type='text/css'>
.linkbutton{
  font-size: 0.9em;
  padding: 1px 6px;
  vertical-align: baseline;
  line-height: 1;
  height: auto;
  margin-left: 4px;
  color:#66f;
  background-color:#f9f9f9;
  border: 1px solid #888;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s, border-color 0.2s;
}
.copy-popup{
  background-color: #eef;
  border: 1px solid #88c;
  padding: 4px 8px;
  border-radius: 5px;
  font-size: 0.85em;
  color: #333;
  white-space: nowrap;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
  transition: opacity 0.5s ease;
  position: absolute;
  pointer-events: none;
  opacity: 0;
  max-width: 80vw;             /* 画面幅の 80% で折り返す */
  overflow-wrap: anywhere;     /* 長い URL を途中で区切る */
  word-break: break-all;       /* ↑が効かない旧ブラウザ保険 */
  white-space: pre-wrap;       /* 
 を改行として扱い、余計な連続空白は1個に */
}
.article_end_date{
  font-size:0.9em;
}
</style>


<script>
function toggle(id){
  const el = document.getElementById(id);
  if(!el) return;
  el.style.display = (el.style.display === 'none') ? 'block' : 'none';
}

// Year accordion with sessionStorage persistence
function toggleYear(id){
  const pane = document.getElementById(id);
  const btn  = document.getElementById(id+'-btn');
  if(!pane||!btn) return;
  const sym  = btn.querySelector('.sym');
  const isClosed = pane.style.display === 'none';
  pane.style.display = isClosed ? 'block' : 'none';
  sym.textContent   = isClosed ? '－' : '＋';
  sessionStorage.setItem('year-'+id, isClosed ? 'open' : 'closed');
}

window.addEventListener('DOMContentLoaded', ()=>{
  document.querySelectorAll('[data-yearpane]').forEach(pane=>{
    const id    = pane.id;
    const state = sessionStorage.getItem('year-'+id);
    const btn   = document.getElementById(id+'-btn');
    const sym   = btn?.querySelector('.sym');
    if(state === 'open'){
      pane.style.display = 'block';
      if(sym) sym.textContent = '－';
    }else{
      pane.style.display = 'none';
      if(sym) sym.textContent = '＋';
    }
  });
});

function copyLink(date, title, el){
  const url = `https://smokingwolf.github.io/dev_blog/archive/${date.slice(0,4)}/${date.slice(5,7)}.html#${date}`;
  const text = `
【${date}　${title}】
 ${url}`;
  navigator.clipboard.writeText(text).then(()=>{
    if(el && el.tagName === 'BUTTON'){
      const orig = el.textContent;
      el.textContent = '✅ コピー完了!';
      setTimeout(()=>{ el.textContent = '🔗 リンクをコピー'; }, 2000);
    }

    const popup = document.createElement('div');
    popup.className = 'copy-popup';
    popup.textContent = `✅ コピー完了：${text}`;
    document.body.appendChild(popup);

    const rect = el.getBoundingClientRect();
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
    const popupWidth = popup.offsetWidth;
    const pageWidth = document.documentElement.clientWidth;

    let left = rect.left + scrollLeft + (rect.width / 2) - (popupWidth / 2);
    let top  = rect.top  + scrollTop - popup.offsetHeight - 8;
    if(left < scrollLeft + 4) left = scrollLeft + 4;
    if(left + popupWidth > scrollLeft + pageWidth - 4)
        left = scrollLeft + pageWidth - popupWidth - 4;

    popup.style.left = `${left}px`;
    popup.style.top  = `${top}px`;
    popup.style.opacity = '1';
    popup.style.zIndex = '9999';

    setTimeout(()=>{ popup.style.opacity = '0'; }, 1800);
    setTimeout(()=>{ popup.remove(); }, 2500);
  });
}
</script>

<div id='content'>
<style>

.TopTitle{
  width:515px;
  font-weight:bold;
  font-size:16pt;
  color: #ffffff;
  background-color:#535365 ;
  border-width: 0px;
  border-color:#535365;
  border-style:solid;
  background: -moz-linear-gradient(left top, #42435f, #fafaff);
  background: -webkit-gradient(linear, left top, right bottom, from(#42435f), to(#fafaff));
  filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='#DD42425f', endColorstr='#FFfafaff');
  
  text-align:left;
  border-top-left-radius: 16px;
  border-bottom-left-radius: 16px;
}

.header3{
	color:#555588;
	margin-bottom:16px;
}

.home-link {
  font-size: 12px;
  margin-top: 10px;
  display: inline-block;
  text-decoration: underline;
}
</style>

<!--戻るリンク、サイトがなくなってたらアーカイブにつながるようにしたが404ページがアレなのかうまくいかない-->
<!--
<font id="home-link-placeholder">
  <noscript>
    <a href="https://smokingwolf.github.io/" class="home-link">← ホーム(アーカイブサイト)に戻る</a>
  </noscript>
</font>

<script>
(async () => {
  try {
    // HEADで軽くチェック（no-corsなのでステータス確認は不可）
    // 自分のサイトのインフォメーションページにつなげるならサイトがまだあると認識する
    await fetch("https://silversecond.net/contents/etc/info.shtml", { method: "HEAD", mode: "no-cors" });

    const link = document.createElement("a");
    link.href = "https://silversecond.net/";
    link.textContent = "← ホームに戻る";
    link.className = "home-link";

    document.getElementById("home-link-placeholder").appendChild(link);
  } catch {
    const link = document.createElement("a");
    link.href = "https://smokingwolf.github.io/";
    link.textContent = "← ホーム(アーカイブサイト)に戻る";
    link.className = "home-link";

    document.getElementById("home-link-placeholder").appendChild(link);
  }
})();
</script>
-->

<div class="TopTitle" style="margin-top:15px;">　　シルバーセカンド開発日誌</div>
<!--ここにコメント文-->
<div class="header3" style="margin-top:6px;">　ここはゲーム開発者SmokingWOLF(スモーキングウルフ)の開発日誌です。<BR>
　<B>【現在の目標】</B>→ ウディタ3.5のバグを落ち着かせる！ ＆ 『片道勇者2』の開発！<BR>
　<B style="color:#ff5555;">※以前のブログが使えなくなったので、ただいまこの開発日誌に移転中です。</B>
</div>

<div class='article_pos'>ウディタ　3/3</div>
<div class='nav'><a href='002.html'>次のページ</a> | <span style='color:#ccc'>前のページ</span></div>
<a id='2024-08-17'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2024-08-17','ウディタ作品ブラウザ化＆Androidスマホアプリ化！', this)" style='cursor:pointer;'>2024-08-17 (土)&nbsp;&nbsp;&nbsp;ウディタ作品ブラウザ化＆Androidスマホアプリ化！</span><span style='float:right;'><a href='#2024-08-03' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'><CENTER>この一週間でウディタ作品のブラウザ化やスマホアプリ化について<br>急激に話が進みましたのでご報告です！<br><br>なおブラウザウディタは<a class="red" target="_blank" href="https://ci-en.net/creator/12702"><B>ruka様</B></a>のプロジェクトです！<br>私は横から見てるだけで、技術的にどうやっているのかなどについてはよく分かっていません。<br><br><img src="../../image/2024/20240817.jpg" border="1" width="450" loading="lazy"><br><br><br><HR><span style="font-size:large;"><B>【ウディタ作品のブラウザ化、実現！】</B></span><HR><br>2024年8月10日、ruka様がウディタのブラウザ化プロトタイプを公開されました！<br><br><span style="font-size: 150%"><B>【ブラウザウディタ:プロトタイプ版を公開】</B></span><br><B><a class="red" target="_blank" title="https://ci-en.net/creator/12702/article/1207619" href="https://ci-en.net/creator/12702/article/1207619">https://ci-en.net/creator/12702/article/1207619</a></B><br><br>なんとこちらで公開されているファイルをサーバーに<br>アップするだけでブラウザゲームとして動作！　すごい簡単！<br><br>ちなみに「ブラウザ化で何できるの？」って話ですが、<br>単純に【ダウンロードしなくてもすぐゲームが遊べる】ようになります！<br>フリーゲームをDLして遊ぶのって地味にハードル高いですからこれは一つ大きな利点！<br>さらに大きいのが、【スマホ上】でもブラウザを開いてウディタ作品が遊べるようになります！<br><br>たとえば、私の持ってるスマホ「Pixel 6a」で『片道勇者（無印版）』が動くのを確認済みです！<br>気になる点といっても「インターネット接続機能が使えない」、<br>「ごく一部の挙動がPC版と違う気がする」くらいで、<br>「他は全部Windows版通りに動作」し<br>「普通に安定して60fps（100%の動作速度）」が出ました！<br>安定性だけでなくてパフォーマンスもすでにかなり高い完成度！<br><br>もちろんまだまだ動作しない部分や、こうなって欲しいなあ～という部分なども<br>あると思いますが、プロトタイプでこのポテンシャルなら十分すぎると思います！<br><br><br><br><span style="font-size: 150%"><B>【ブラウザ化の簡単な注意点】</B></span><br><br>『ブラウザウディタ』の使い方自体は上の記事から<br>ダウンロードできるZipファイルにも書いてありますが、<br>ウディタ本体開発者から見た利用時の注意点は以下の4点！<br><br><br>●プロトタイプのZipに入ってるpublicフォルダをそのままサーバーにアップするだけでとりあえず同梱のサンプルゲームが動きます！<br><span style="color: #90caf9">　→　それが大変な人は、K-Shin07様の「<a class="red" target="_blank" href="https://alpha-stella.com/tool/wodistant/"><B>Wodistant</B></a>」というツールを使えば、サーバーにアップしなくてもブラウザ版のテストが可能です！</span><br><br><br>●「Data.wolf」を自前で用意したものに上書きすれば自分のゲームが動きます！<br><span style="color: #90caf9">　→　ただしゲームデータの「BasicData」フォルダ内に、ブラウザウディタに入ってる「<span style="color: #d50000"><B>BrowserWoditor.dat</B></span>」を入れてから暗号化する必要がありますので、そこはご注意を。</span><br><br><br>●ブラウザウディタのpublicフォルダには作品名などを設定するテキストファイル「settings.js」も用意されているので、できればそれもいじっておくといいと思います。そこで設定されているゲーム名はセーブデータの認識用に使われてるそうです。<br><br><br>●私とサポートしてる人が違うので、色んなご都合でサポートが止まる可能性があります。<br>利害が一致しそうな人はよければ少しでも活動続けられるようにruka様にチップあげてくださるとみんなWin-Winだと思います！！　私も少しですが入れさせていただきました！<br><br><br><br><HR><span style="font-size:large;"><B>さらにAndroidスマホアプリ化もできた！</B></span><HR><br>この『ブラウザウディタ』、「.wasm」というファイル形式のエンジンやJavaScriptなどによってHTML上で動いているものなのですが、なんといろいろ変換すればスマホアプリにできます！<br><br>私はAndroidスマホ化に成功しましたが、その作業途中でコマンドを変えればiOS用にも変換できるらしいので、たぶんiOS用アプリも作れると思います。<br>（ただその場合、macを持ってて、かつApp Storeに出すための権利をお金払って持ってないといけない？ らしいです）<br><br><B>Android化に成功してスマホ上で撮影した画面　↓</B><br><blockquote class="twitter-tweet" data-media-max-width="560"><p lang="ja" dir="ltr">【 <a class="red" hash&amp;ref_src=twsrc%5Etfw"" target="_top" href="https://twitter.com/hashtag/%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%82%A6%E3%83%87%E3%82%A3%E3%82%BF?src=">#ブラウザウディタ</a> でAndroidスマホアプリ化成功！】<br>試してみたらブラウザウディタのデータをAnrdoidスマホ化することができました！<br>（apk作成に使ったのはIonicさんちのCapacitorとAndroid Studio）<br><br>ウディタ作品をスマホ化できる足がかりが見えてこれは夢が広がります！　ウヒョー！ <a class="red"  target="_top" href="https://t.co/fU7ZtuSwaT">https://t.co/fU7ZtuSwaT</a> <a class="red"  target="_top" href="https://t.co/8MlrcSnj8F">pic.twitter.com/8MlrcSnj8F</a></p>&mdash; SmokingWOLF＠片道勇者2開発中/ゲーム開発者 (@WO_LF) <a class="red"  target="_top" href="https://twitter.com/WO_LF/status/1822528445567701363?ref_src=twsrc%5Etfw">August 11, 2024</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><br><br>Androidアプリ化のやり方はちょっと長いですが以下の通り！<br>コマンドプロンプトとか使うのでちょっと大変ですよ。<br><br><br><br><HR><span style="font-size:large;"><B>ブラウザウディタをAndroidアプリ化する方法！</B></span><HR>ざっくりですが『ブラウザウディタ』のデータをAndroidアプリ化する方法メモを掲載しておきます！<br>まだメモ状態なのでスクリーンショットなどはありませんが、参考にできる人は参考にしてみてください。<br><br><br><br><B>【1. Node.jsをインストール】</B><br><br>1-1. Node.jsのある<a class="red" target="_blank" href="https://nodejs.org/en/download/package-manager">https://nodejs.org/en/download/package-manager</a><br>のサイトを開き、「Prebuilt Installer」のタブを開き、インストーラーをダウンロード<br>(今どきのWindowsなら選択肢は「最初に出てるバージョン」「Windows」「x64」を選んでダウンロードすればいいと思います。万が一32bitのWindowsなら最後は「x86」を選んでください）<br><br><br>1-2.DLしたファイルを実行し、インストールを進める。<br>途中の「I accept the terms in the Liecense Agreement」はチェックを当然入れる。<br>全部「Next」。（追加のChocolatey？がどうとか言うのはインストールしなくても動きました）<br><br><br><br><B>【2. Ionic CLIをインストールします】</B><br>Windowsの「コマンドプロンプト」を開き、以下のコマンドを実行します。<br>（npmはNode.jsをインストール後に使えるコマンドです）<br><br><div class="code-container"><code>npm install -g @ionic/cli<br></code></div><br><br><br><br><B>【3. Capacitor用のまとめフォルダと作品フォルダを作ります】</B><br>Capacitor（スマホアプリ用データを作るソフト）用のまとめフォルダを作ります。ここでは「Cドライブ」の「Capacitor-apps」フォルダを作るとします。<br>この中に、作品ごとのフォルダが新たに作られます。<br><br>Windowsの「コマンドプロンプト」を開いて以下を実行してください（Windowsの検索窓を開いて「cmd」と入れてもでてきます）。<br><br><div class="code-container"><code>cd C:\<br>mkdir Capacitor-apps<br>cd Capacitor-apps<br>npm init @capacitor/app<br></code></div><br><span style="color: #a0a0a0"><span style="font-size: 80%">※「\」はコマンドプロンプト中で「＼」と出るかもしれませんが意味は同じです</span></span><br><br>ここまで実行すると初回だけ<br>「Need to install the following packages:<br>@capacitor/create-app@0.3.0<br>Ok to proceed? (y)」<br>と出るのでyを押してEnterする<br><br>ここからは作品ごとのフォルダ作成フェイズ。<br>次に「? What is the name of your app? 」と出たらゲーム名を入れる。<br>何か入れないといけないみたいなのでここでは「SampleGame」と入れたことにします。<br> <br>「? What directory should be used for your app?」は作成するフォルダ名を指定。<br>ここでは何も入れずにただ「Enter」して「my-app」フォルダを作った前提で進めていきます。<br> <br>「 ? What should be the App ID for your app?」でAppID入れるらしいですけど知らないので何も入れずに「com.example.app」のままEnterして進めたとします。<br><br>これで準備完了！　「Capacitor-apps」フォルダの中に「my-app」フォルダが作られ、その中に色々ファイルが作られています！<br>これらの質問で打ち込んだ内容は「my-app」フォルダ内の「capacitor.config.json」ファイルに書かれているので、後の手順でまた修正します。<br><br><br><br><br><B>【4.Capacitorフォルダの中にAndroid用のプロジェクトを作成】</B><br><br>コマンドプロンプトで以下を実行し、Androidプロジェクト作成処理をします。<br>【さっき作った「my-app」フォルダ内に移動】してから色々インストールしてるのが分かりますね。<br><br><div class="code-container"><code>cd c:\Capacitor-apps\my-app\<br>npm install @capacitor/core @capacitor/cli<br>npm install @capacitor/android<br>npx cap add android<br></code></div><br><br>※初回だけ「? Share anonymous usage data? » (Y/n)」と出るかもしれないのでその場合は「Y」か「n」を入力。<br>(「匿名で利用データを送るか？」 なのでイヤな人は「n」でいいです）<br><br><br><br><B>【5.wwwフォルダを作ってブラウザウディタのファイルを入れる】</B><br><br>5-1.<br>作ったフォルダが「my-app」の場合、その中に以下のファイル構成で「www」フォルダを作り、「ブラウザウディタ用ゲームデータ」のファイルを入れます。<br><br><div class="code-container"><code>my-app/<br>├── android/<br>├── src/<br>├── node_modules/<br>├── www/   ← ★このフォルダを新たに作成し、ブラウザウディタの<br>│   │　　　　　「public」フォルダ内の全ファイルを入れます<br>│   ├──→ index.htmlやwoditor.wasm    ← つまりここに入ります<br>│   └── Data.wolf　←★あなたのゲームのData.wolfを上書き。<br>│　　　　　　※ただしBasicData内に「BrowserWoditor.dat」を入れる必要あり<br>├── capacitor.config.json<br>└── package.json など<br></code></div><br><br><br><br>5-2.「my-app」下の「<B>capacitor.config.json</B>」をむりやりメモ帳などで開いて（メモ帳にドラッグ＆ドロップでできます）、必要ならちょっと書き換えます。<br>このファイルには、「スマホアプリ化されるときのアプリ情報」や「(my-appフォルダ内の)どのフォルダをスマホアプリ化するか」が記載されています。<br><br><div class="code-container"><code> {<br>  "appId": "com.example.app",  ←動かすだけならこのままで可<br>  "appName": "SampleGame",   ←ここがスマホ内でアプリアイコンの下に表示されるゲーム名<br>  "webDir": "www",   ←★ブラウザウディタの入ってるフォルダ、"dist"などになってたら"www"に書き換えてください！！<br>  "plugins": {<br>    "SplashScreen": {<br>      "launchShowDuration": 0<br>    }<br>  }<br> }<br></code></div><br><br><span style="color: #64b5f6"><span style="font-size: 80%">※"webDir"が"dist"のままだと、後にapkを作ってもCapacitorの紹介画面しか出てこなかったりしますので注意して下さい。1回やらかしました。<br><br>※5-1で作ったゲームデータ用フォルダ、「www」フォルダでなく最初から「dist」フォルダを作っておいたらよくない？　って感じはしますが、いちおうこのjsonファイル内で指定してるんだよってのを示すために「www」にしました。それに将来の初期フォルダが「dist」フォルダじゃなくなるかもしれない。<br><br>※appIdとappNameはアプリの識別に使ってるようです。たとえばスマホにapkを再インストールしたとき、この2つが前と同じだとアプリを上書きするか聞いてくれます。</span></span><br><br><br><br><br><br><B>【6.Android Studioをインストール（ここは1回やれば以後やる必要なし）】</B><br><br>6-1.<br><a class="red" target="_blank" href="https://developer.android.com/studio?hl=ja">https://developer.android.com/studio?hl=ja</a><br>で「Android Studio Koalaをダウンロード」をクリック（2024/08/11時点）<br>1.2GBくらいあります。DLしたらインストールしてください。<br>→　インストール時は全部「Next」とか「Finish」でいいです。<br><br>→ インストール後に英語でなんか出てきますが「前のデータ読み込むか」とか「匿名のデータ送信」なので「Do not import settings(設定をインポートしない)」とか「Send usage satistics to Google(Googleに送る）」とか選んでおけばいいと思います。<br><br><br>6-2.<br> Android Studioを起動、インストールするとセットアップウィザードが始まる。<br>選択肢は「Standard」でいいと思います。その後「Next」。<br>「License Agreement」画面まで来たら「Accept」を選んで、最後は「Finish」。<br><br>なお「Starting Downloading...」 から全然進まないように見えますがちゃんと進んでたので信じて待つこと。<br>なんか質問が出たり管理者モード質問でたらとにかく「Yes」とか「はい」をしていきます。。<br>終わったら「Finish」。<br><br><br><br><B>【7. Android Studioを起動してビルド】</B><br><br>7-1. 以下のコマンドをコマンドプロンプトで実行します（フォルダ名はあなたの作ったものに合わせて変更してください）<br><span style="color: #d50000"><B>この手順は「www」フォルダ内のData.wolfを最新にするたびに実行が必要です。</B></span><br><br><div class="code-container"><code>cd C:\Capacitor-apps\my-app\<br>npx cap sync android<br></code></div><br><br><br>7.2.Android Studioを起動して「Open」を選び、「C:\Capacitor-apps\my-app\android\」を選択します。<br><br>※「android」フォルダ側を選ぶのが重要です！<br>　→「settings.gradle(.kts)」ファイルが存在するフォルダを開かないとビルドできません。<br>　　まちがえて「my-app」の方のフォルダを開いて何もできなかったことがありました。<br><br><br>→ 選んだ後、途中で「Trust and Open Project 'my-app'?」と出てきた場合は「Trust Project」を選択<br><br>→　プロジェクトが開いたら左上の「三」メニューから<br>　「Build」→「Build App Bundles(s) / APK(s)」→「Build APK(s)」を選択<br><br>→　初回だけ終わるまですごい時間かかる気がしますので待ちましょう。2回目からは数秒で終わります。<br>　　もし途中でなにかが足りないってでてきたら適宜インストールやらアップデートしてください。<br><br><br><br>7.3.処理が終わったら<br> C:\Capacitor-apps\my-app\android\app\build\outputs\apk\debug<br>あたりにdebug用のAPKファイルが出力されています。<br><br><br>7.4. そのapkファイルをなんとかしてAndroidスマホで読ませてインストールすると、スマホ上で実行できます。<br>その辺りの手順は紹介しないので、調べてがんばってみてください。私は「Google Drive」にアップしたapkファイルをスマホでダウンロードしています。<br><br><span style="font-size: 80%"><span style="color: #a0a0a0">※なお、スマホ側の設定で「野良APKを許可する」的な設定をオンにする必要がある場合があります。<br>私だとGoogle Drive上でapkファイルをクリックすると「不明なアプリのインストール」みたいな画面が出てくるので「許可する」を選ぶ、という手順が必要でした。</span></span><br><br><br><span style="font-size: 80%"><span style="color: #a0a0a0">※今回作ったapkファイルはdebug(デバッグ)版です。アプリストアに公開するなら他にも色々設定してrelease(リリース)版を作れるところまでがんばらないといけないそうですが、今回は調べてません。</span></span><br><br><br><br><br><strong>【8. 今後、新しいData.wolfを作った場合は？】</strong><br><br>もし後でData.wolfを新しくした場合は、以下の手順だけを行えばOKです！<br><br> 8-1.「www」フォルダ内に新しいData.wolfを上書き<br><br> 8-2.「コマンドプロンプト」で以下を実行する<br> <br><div class="code-container"><code>cd C:\Capacitor-apps\my-app\<br>npx cap sync android<br></code></div><br><br> 8-3. Android Studioで「Build」→「Build App Bundles(s) / APK(s)」→「Build APK(s)」を選択<br><br><HR><br>以上です！<br>もしかしたらインストールしたてのWindowsパソコンでやると<br>他にインストールが必要なファイルなども出てくるかもしれませんが、<br>私のパソコンだとこの手順でなんとかなりました。<br><br>もし自分のゲームをAndroidスマホアプリとして<br>動かしてみたいという人がいらっしゃいましたらぜひお試しください。<br><br><span style="color: #64b5f6"><span style="font-size: 80%">（ちなみに今回の作業4(Android用のプロジェクトを作成)あたりからアレンジすればiOS用の基礎ファイルもそのまま作れるらしいです、Capacitorすごい。<br>ただしiOSのスマホアプリ用データ作成には、macOS上でのみ起動できる「Xcode」というソフトや、年100ドル(約1.5万円)かかるApple Developer Programへの登録などが必要だそうです）</span></span><br><br><HR><br>ということで、夢が広がるブラウザ化がとても良い感じに進んでいます！<br><br>そして第16回ウディコンの審査期間ももうすぐ終了！<br>一般審査締め切りは8/20の23:59、結果発表は8/24(土)あたりにおこなう予定です！<br><br>もしブラウザ版もバッチリ使えるのでしたら、<br>次回ウディコンでは作品一覧に「ブラウザ版」へのリンクも<br>掲載していいかもしれません。<br>そしたらスマホからでもウディコン作品が遊べちゃいますよ！<br>今のところ問題の方が多そうなので実現できるかは分かりませんが！<br>　（仮によそのサイトにアップするにしてもそこのトップページからの流入が<br>　あると不公平になったりするので悩ましいとか、<br>　自前サーバーにアップしても通信帯域がすぐオーバーしちゃうとか）<br><br>それでもみなさまのすばらしいゲームの数々がいろんな人に<br>遊んでもらえるチャンスが増えるに越したことはないので、<br>やれそうな範囲でめざしていきたいですね！</CENTER></div><div class='entry-foot'>　<font class='article_end_date'>2024-08-17 (土)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2024-08-17','ウディタ作品ブラウザ化＆Androidスマホアプリ化！', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div><br><br><br>
<a id='2024-08-03'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2024-08-03','ウディタ作品を合成音声読み上げさせる方法！', this)" style='cursor:pointer;'>2024-08-03 (土)&nbsp;&nbsp;&nbsp;ウディタ作品を合成音声読み上げさせる方法！</span><span style='float:right;'><a href='#2024-07-21' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'><CENTER><img src="../../image/2024/20240803.jpg" border="1" style="max-width:420px;" loading="lazy"><br><span style="color: #90caf9"><span style="font-size: 80%">※実は13年前までウディタに「合成音声」コマンドがありました。規約が変わってからは使えなくなりました</span></span><br><br>ただいまウディコンシーズンなのと、<br>私が今もウディタの修正作業中で新ネタがないので、<br>今回はウディタの裏技を1つご紹介！<br><br>なんと、新しめのウディタについてる機能を駆使すれば、<br><span style="color: #d50000">ウディタ製ゲーム内の文章を合成音声などで読み上げさせる</span><br>ことができます！<br><br>しかもどんな作品に対しても<br><span style="color: #d50000"><span style="font-size: 150%"><B>プレイヤー側でそれを実現できる</B></span></span>のです！<br><br>詳しい話は以下の動画にまとめているので、<br>お時間ある方はこちらを見ていただくといいと思いますが、<br>文章でサラッと確認したい人向けにこの記事でも説明を書いておきます。<br><br><iframe width="520" height="300" src="https://www.youtube.com/embed/Hm4z-SiTNZk?si=88jcxVfJeeR-XR2Z" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe><br><br><HR><span style="font-size:large;"><B>◆ウディタ製ゲームを読み上げさせる方法！</B></span><HR><br>以下はウディタ製ゲームの読み上げを実現するまでの手順です！<br><br><HR><br><span style="font-size:130%;"><B>1. ゲームのバージョンを確認</B></span><br><br>まず、ウディタ製ゲームのGame.exeのバージョンが<br><span style="color: #d50000"><B>3.105</B></span>以上であることを確認してください。<br><span style="font-size: 80%"><span style="color: #90caf9">　これを確認する方法は、ゲームフォルダ内の「Game.exeファイルの上にマウスカーソルを乗せて1秒じっとする」か、<br>「Game.exeのプロパティを開き、バージョン情報をチェックする」のどちらかです。</span></span><br><br><HR><br><span style="font-size:130%;"><B>2. Game.iniを書き換える</B></span><br><br>次に、ゲームの設定ファイル（Game.ini）を編集します。<br>もしGame.iniがなかったら、<B>「一瞬だけGame.exeを起動して閉じる」または<br>「Config.exeを開いてすぐ【OK】をクリックして閉じる」ことでGame.iniが作られます</B>。<br><br>Game.iniをメモ帳などで開いて、下のほうにある<br>「<B>MainText_to_ClipBoard</B>」と「<B>SelectedText_to_ClipBoard_F2</B>」の<br>行の「=0」部分を「<span style="color: #d50000"><B>=1</B></span>」に変更してください。<br>変更後は以下の通りになります。<br><br><blockquote><p>MainText_to_ClipBoard=<span style="color: #d50000"><B>1</B></span><br> SelectedText_to_ClipBoard_F2=<span style="color: #d50000"><B>1</B></span><br></p></blockquote><br>こうしておくと、ゲーム中の文章がクリップボードにコピーされるようになります。<br><br><span style="color: #90caf9"><span style="font-size: 80%"><B>MainText_to_ClipBoard</B>：<br>これが1なら、「文章の表示」コマンドが実行されるたびに<br>その文章がクリップボードにコピーされます。<br><br><B>SelectedText_to_ClipBoard_F2</B>：<br>これが1なら、「選択肢」コマンド中にF2を押すと選んでいる選択肢がクリップボードに<br>コピーされます。また、マウスカーソルで「文字列ピクチャ」を選んで<br>F2を押すとその内容がクリップボードにコピーされます。</span></span><br><br><HR><br><span style="font-size:130%;"><B>3. 「棒読みちゃん」の設定</B></span><br><br>外部ツール「棒読みちゃん」を使用して、クリップボードのテキストを読み上げさせます。<br>以下の手順で設定します。<br><br>1．「棒読みちゃん」をダウンロードしてインストールします。<br><br>2．「棒読みちゃん」を起動し、初回確認では「クリップボードの監視」の使用を<br>「はい」（それ以外は「いいえ」）にした後、<br>メイン画面の<B><span style="color: #d50000">「クリップボード監視」アイコンを有効</span></B>にします、<br>色付き状態ならオンです↓<br><img src="../../image/2024/20240803A.png" border="1" style="max-width:320px;" loading="lazy"><br>こうするとクリップボードにコピーされたテキストが自動的に読み上げられるようになります。<br><br><span style="font-size: 80%"><span style="color: #90caf9">　※もし「クリップボード監視」アイコンが出てなかった場合は「棒読みちゃん」の<br>「その他」タブを開いて「クリップボード監視」にチェックを入れてください。</span></span><br><br><HR><br><span style="font-size:130%;"><B>4. ゲームの実行とF2キー活用</B></span><br><br>設定が完了したら、ゲームを起動します。<br>ゲーム内で表示される「文章の表示」によるテキストが<br>自動でクリップボードにコピーされ、「棒読みちゃん」が<br>それを読み上げてくれるようになります。<br><br>他のは<span style="color: #d50000"><B>F2キー</B></span>を押すと読めます。<br>以下を参考にしてください。<br><br><br><B>●A．「文章の表示」→自動</B><br>中央下に表示される文章はたいていウディタの「文章の表示」コマンドに<br>よるもので、これらは「自動で」読み上げられます。<br>（でもゲームの造りによっては読まれないときもあります。<br>その場合は以下「C」を試してください）<br><br><br><B>●B．「選択肢」→ 上下キーで選んでF2キー</B><br>「選択肢が出ているときにF2キー」を押すと、選んでいる選択肢が<br>読み上げされることがあります。<br>（基本システムの戦闘中やメニューの選択肢などは読まれないことがあります。<br>その場合は以下「C」を試してください）<br><br><br><B>●C.「それ以外の文字（文字列ピクチャ）」→マウスカーソルで選んでF2キー</B><br>上記以外の文字に関しては、「マウスカーソルを文字の上に乗せてF2」を押すと、<br>たいていその文字が読み上げられます。<br>（ただし、その文字が「画像」上のものだった場合は読めません。<br>あくまでゲーム内機能で表示されてる文章が読める、という感じですね）<br><br><span style="color: #90caf9">→　なおこのマウスカーソル+F2キー、<br>AとBの「文章の表示」「選択肢」の文字を選んでも<br>読み上げられなくて、ちょっと不便なところがありました。<br><br>Ver3.371以降のGame.exeでは「文章の表示」「選択肢」などの内容も<br>マウスカーソルで選んでF2で読み上げてくれるようになる予定なので、<br>より直感的に操作できると思います。</span><br><br><HR><br><span style="font-size:130%;"><B>5. 「棒読みちゃん」のおすすめ設定</B></span><br><br>「棒読みちゃん」に以下の設定をしておくことで配信プレイがちょっと快適になります！<br><br>※動画アップ後、コメント欄でアイデアをいただいたのですが、<br>ゲームだと「文章を飛ばしたときに長文の読み上げを<br>途中で切ってくれる方がいい」ので、以下の3つのうち<br>「Ａ」はやらずに、「Ｂ」と「A、B、どちらでもやっておくとよい設定」の<br>2つをしておくのがおすすめです！<br><br><br><span style="font-size: 150%"><B>【Ａ：動画で言っていた設定】</B></span><span style="font-size: 80%">（これを飛ばして下記「B」をする方がおすすめです）</span><br><br>●「音声合成」タブ→「設定」→「システム>基本」にある<br>「<B>03)改行があっても繋げて読み上げる</B>」を「<span style="color: #d50000"><B>True</B></span>」にする。<br><br><span style="color: #90caf9">　→　改行があっても一息で読んでくれるのでテンポがよくなりますが、<br>まとまった複数行の文章を全て読み上げるまで終わらない問題がおきます。</span><br><br><br><br><span style="font-size: 150%"><B>【Ｂ：ゲームプレイ上もっとおすすめだったもの】</B></span><br><br>●「音声合成」タブ→「設定」→「システム>基本」→<br>　「<B>03)改行があっても繋げて読み上げる</B>」は「<span style="color: #d50000"><B>False</B></span>」のままにしておく<br>　<br>●「音声合成」タブ→「設定」→「<B>02)行間の待機時間</B>」を<br>「<span style="color: #d50000"><B>0</B></span>」にしておく（元は100です）<br><br>●「その他」タブ→「クリップボード監視」をクリック→<br>下の「プラグインの設定画面」ボタンを押す→<br>「<B>03)現在のリストをクリアする</B>」を「<span style="color: #d50000"><B>True</B></span>」にする<br><br><span style="color: #90caf9">　→　この設定なら、読み上げている最中に決定キーで次の文章に行った場合、<br>いま読み上げている行が終わったタイミングで読むのを切り上げて<br>次の文章を読み始めてくれるので、より柔軟です。<br>行間で止まる時間も最小限になります。</span><br><br><br><br><span style="font-size: 150%"><B>【A、B、どちらの場合でもやっておくと良い設定】</B></span><br><br>●「その他」タブ→「クリップボード監視」をクリック→<br>下の「プラグインの設定画面」ボタンを押す→<br>「<B>01)同一内容の場合は読み上げない</B>」を「<span style="color: #d50000"><B>False</B></span>」にする<br><br><span style="color: #90caf9">　→　元の設定だと同じ文章が出てきた場合は読み上げてくれませんが、<br>この設定を行うことで同じ文でも何度も繰り返し読んでくれます。</span><br><br><HR><br>と、こんな感じです！<br><br>ところにより読み上げできない可能性はあるものの、<br>大部分は自動で読まれたり、そうでなくともF2を押して読めたりします！<br><br>「文章の表示」を全然使ってないガチ自作システムゲームだと<br>メッセージが出るたびにマウスカーソルで選んでF2連打しないと<br>いけなかったりしますけれども、普通の基本システムのRPGなら<br>おそらくほとんどの文章が自動で読み上げされるでしょう。<br><br><br>一手ずつの詳しい手順や設定方法については、<br><a class="red" target="_blank" href="https://www.youtube.com/watch?v=Hm4z-SiTNZk"><span style="font-size: 200%"><B>動画</B></span></a>のほうでもご確認いただけますので、<br>興味のある方はぜひご覧ください。<br><br>全文章を人力で読み上げていると疲れちゃいますが、<br>そういう場合もこういう機能を活用することで、<br>より高速読み上げ可能に＆疲れにくくなるかもしれません！<br><br>導入できそうな方はよければぜひ、ご利用ください！</CENTER></div><div class='entry-foot'>　<font class='article_end_date'>2024-08-03 (土)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2024-08-03','ウディタ作品を合成音声読み上げさせる方法！', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div><br><br><br>
<a id='2024-07-21'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2024-07-21','第16回ウディコン、審査開始です！', this)" style='cursor:pointer;'>2024-07-21 (日)&nbsp;&nbsp;&nbsp;第16回ウディコン、審査開始です！</span><span style='float:right;'><a href='#2024-07-06' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'><CENTER><HR><span style="font-size:large;"><B>【第16回ウディコン、審査開始！】</B></span><HR><br>ということで第16回ウディコンのエントリー期間が終了し、本日から審査期間開始です！<br><br><a class="blue" target="_blank" href="https://silversecond.com/WolfRPGEditor/Contest/"><span style="font-size: 150%"><strong>【（第16回）ウディコン公式ページへ】</strong></span></a><br><img src="../../image/2024/20240721.jpg" border="1" style="max-width:520px;" loading="lazy"><br><br>今回エントリーされた作品数は全部で<span style="font-size: 150%">【71】</span>作品！<br><br>エントリー作業中、一通り全作品の動作確認をさせていただきましたが、<br>第16回はアニメーションへのこだわりがすごい作品が多かった印象がありますね！<br>エントリーチェック中はそういうのを見るたびに<br>「アニメーションすげぇ！！」と叫んでいました。<br><br>もしかしたら去年のウディコン作品や何らかの流行りなども<br>こういった傾向に影響を与えているかもしれません。<br>それとなく歴史の積み重ねが作品に<br>見え隠れしていそうなのも見どころの一つだと思います。<br><br>もちろん演出だけでなく、ゲーム内容が面白いゲームもたくさん！<br>琴線にふれる紹介文や見た目のゲームがあったら、ぜひ触れてみてください！<br><br><br><HR><span style="font-size:large;"><B>【審査について】</B></span><HR><br>復習ですが、ウディコンの順位付けは<br>一般の皆さまからの審査のみによって決まります！<br><br>ゲームごとに<br>「熱中度」「斬新さ」「物語性」「画像/音声」「遊びやすさ」「その他」<br>で得点を付け、平均点や総計点や中央値などから<br>ランキング用の総ポイントが算出されるわけですね！<br>平均点の順位ポイントが一番強いです。<br><br>審査は<span style="color: #d50000"><span style="font-size: 150%"><B>途中まで書いた分を保存して、<br>途中から再開することもできます</B></span></span>ので、<br>まずは1作品からお気軽に得点を付けたり、<br>感じたことをコメント欄に書いてみてください！<br><br>そしてまた、「4作品以上」審査すると結果発表用の得点計算に採用されます！<br>とはいえ1作品でも作者様にはコメントが届くので、<br>4作品に満たなくても問題ありません。<br>（※ただし作者様が全コメントを受け取る設定にしてある場合のみ。<br>9割以上の作者様は受け取りオンにされています）<br><br>あなたがそのゲームで感動したり、楽しめたのなら、<br>次もそのセンスで面白い作品を作ってもらえるよう<br>応援メッセージを送るだけでもいいと思います。<br><br>審査の締め切りは<span style="font-size: 150%"><strong>【8/20(火)　23:59】</strong></span>までです！<br><span style="color:#CC0000">※普通に作品数から計算したら8/13あたりでしたがお盆に審査できないのは勿体ないので一週間延長しました。結果発表は8/24(土)あたりになると思います。</span><br><br><br><strong><a class="blue" target="_blank" href="https://silversecond.com/WolfRPGEditor/Contest/"><span style="font-size: 150%">【（第16回）ウディコン公式ページへ】</span></a></strong><br><br>それでは皆さま、今年もウディコン作品で熱い夏をお楽しみください！</CENTER></div><div class='entry-foot'>　<font class='article_end_date'>2024-07-21 (日)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2024-07-21','第16回ウディコン、審査開始です！', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div><br><br><br>
<a id='2024-07-06'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2024-07-06','ドタバタ近況、第16回ウディコン1週間前！', this)" style='cursor:pointer;'>2024-07-06 (土)&nbsp;&nbsp;&nbsp;ドタバタ近況、第16回ウディコン1週間前！</span><span style='float:right;'><a href='#2024-06-08' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'><CENTER>うおおおまだリアル事情が忙しいです！<br>ウディコンまでにはちょっと落ち着くといいんですが！<br><br>今回もいつもの現状報告です！<br><br><HR><span style="font-size:large;"><B>◆ふたたびドタバタ近況</B></span><HR><br>また故人に関わるイベント密度が上がってきて<br>リアルがドタバタする日々が続いています。<br>準確定申告とか四十九日の法要とかで考えることも増えてグワー！<br>一瞬落ち着いたかと思ったんですがこういうのは忙しさの波がありますね！<br><br>創作ができないまま時間が想定以上に早く過ぎていってしまって少し焦ります。<br>「少しでも創作のことを考えられるだけ普通の生活に戻れつつある」<br>というのはそうかもしれません！<br><br>そしてまたウディコンが近いためか、ここに来て<br>ウディタのバグもいっぱいご報告されていて修正に費やす日数消費が激しいです！<br>でも多くの人に使っていただけて嬉しいです、ありがとうございます！<br><br>（ただここ数ヶ月のウディタ作業が時給300円を切ってるので<br>もう少し修正を効率化しないと餓死しそうで厳しい！<br><a class="blue" target="_blank" href="https://silversecond.booth.pm/items/4455722">ご支援</a>もいつでも受付中です！）<br><br><br>今回はウディコン準備やウディタ修正ばかりやっていたので、<br>1週間前となる第16回ウディコンの告知だけさせていただきます！<br><br><br><HR><span style="font-size:large;"><B>◆第16回ウディコンまであと1週間！</B></span><HR><br><img src="../../image/2024/20240706.jpg" border="1" style="max-width:400px;" loading="lazy"><br><span style="font-size: 80%">↑毎年1枚はバナーや告知用に使うためのウルファールイラスト作ってます。</span><br><br><a class="blue" target="_blank" href="https://silversecond.com/WolfRPGEditor/Contest/"><span style="font-size: 200%"><B>【ウディコン公式ページ】</B></span></a><br><br>ということで第16回ウディコンまであと1週間になりました！<br>みなさま奥ゆかしいのでX(Twitter)などでもまだ全然情報が出なかったりしますが、<br>そろそろエントリー予定の皆さんも自作品を宣伝し始めてくださっていいんですよ！<br><br>第16回ウディコン開始は7/14！<br>ですが、いつもはエントリー殺到によるデータ破損防止のために<br>「募集期日の前日夜くらい」からこっそり作品エントリーフォームを<br>開けておりますので、早めにエントリーされる方は<br>ちらちらウディコン公式を見ておいていただけるといいと思います。<br><br>もちろん<a class="blue" target="_blank" href="https://silversecond.com/WolfRPGEditor/Contest/txt.shtml"><B>規約</B></a>ページもよくご確認ください！<br>去年は使われる方はあまりいらっしゃらなかった感じですが、<br>今年は画像生成AIについての規約も追加されています。<br><br>うっかり気軽に使ってしまいそうな、「ChatGPT」や「Microsoft Copilot」に<br>画像を作ってもらってもウディコン内では使えないのでご注意ください！<br><br><br>ということで第16回ウディコンの開始日（作品公開開始日）は【7/14】！<br>エントリーこっそり受付開始は【7/13夜頃】からです！<br><br>今年も皆さまの作品、楽しみにお待ちしております！</CENTER></div><div class='entry-foot'>　<font class='article_end_date'>2024-07-06 (土)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2024-07-06','ドタバタ近況、第16回ウディコン1週間前！', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div><br><br><br>
<a id='2024-06-08'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2024-06-08','ウディタ多言語向け修正+人が亡くなった後の作業+架空の妹AI', this)" style='cursor:pointer;'>2024-06-08 (土)&nbsp;&nbsp;&nbsp;ウディタ多言語向け修正+人が亡くなった後の作業+架空の妹AI</span><span style='float:right;'><a href='#2024-05-11' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'><CENTER>前回に引き続き人が亡くなった後の手続きに追われています。<br>といっても、なんとか夜に自由時間が得られる程度には<br>余裕が出てきました。<br>向こうから手続き書類を送ってもらうまで<br>何もできないタイミングなども出てきましたから、<br>その隙にやれることも出てきています。<br><br>ということで、今はそんなちょっとした時間でウディタの修正をしています。<br><br><HR><span style="font-size:large;"><B>【ウディタ】Ver3.340で多言語対応向きの機能を追加！</B></span><HR><br>今回は多言語対応向きに便利な機能を色々搭載しました！<br>ウディコンにはあまり関係なさそうな機能が多いのですが、<br>海外展開予定の方には有用だと思います。<br><br>すぐ使いたい人はこちら！<br><strong><a class="blue" target="_blank" href="https://silversecond.com/WolfRPGEditor/"><span style="font-size: 150%">【WOLF RPGエディター公式ページへ】</span></a></strong><br><br><br><span style="font-size:150%;"><B>◆BasicDataを別フォルダに切り替えられる機能いろいろ！</B></span><br><br>「基本データフォルダ」を切り替えられる機能を入れました！<br>「基本データフォルダ」とは<br><strong>【ゲーム基本設定・コモンイベント・各データベース・<br>タイル設定・アイコンファイル】</strong><br>が入っているフォルダのことで、<br>初期状態では「BasicData」フォルダがそれにあたります。<br><br>この切り替え機能で何ができるかというと、<br>たとえば別言語用に作った基本ゲームフォルダ「BasicData_XX」を、<br>元のBasicDataの代わりに読み込ませたりできるのです！<br>1コモンイベント内に言語別の文字列切り替え処理とか<br>入れなくてよくなるので多言語対応がシンプルに！<br><br>さらに別売りの『ウディタ翻訳サポートツール』で<br>「全文字列を別言語に差し替えたゲームデータ」を出力できるので、<br>それで出した別言語データからBasicDataだけ抜いて移植し、<br>1ゲームデータ内に複数言語をまとめて組み込むことも楽になります。<br><br>そんな「基本データフォルダ」の切り替え機能として、以下の2種が搭載されました。<br><br><br><B>【1. Game.exe起動時の引数-basic/-basic2で基本データフォルダ切り替え！】</B><br><br>いきなりマニアックな話ですが、起動時のコマンドライン引数として、<br>「-basic <基本データフォルダ第1候補>」と<br>「-basic2 <基本データフォルダ第2候補>」が使えるようになりました。<br><～>の部分にはあなたの好きな文字列を指定します。<br><br>たとえば 、コマンドプロンプトやbatファイルから<br><br><span style="color: #d50000"><B>Game.exe -basic BasicData_JP_Plus -basic2 BasicData_JP</B></span><br><br>のように指定してゲームを起動すると、Dataフォルダの中に<br>「BasicData_JP_Plus」フォルダという名前の基本データフォルダがあれば<br>それを採用し、もしなければ「BasicData_JP」フォルダを採用して<br>起動するようになります。<br>もしどれもなければ、デフォルトの「BasicData」フォルダを基本データフォルダとします。<br><br>さらにこれと関連して、プロ版専用ですが<br>「<B>ゲーム再起動(引数設定あり)</B>」コマンドも新たに作っておいたので、<br>「引数」として「<B>-basic BasicData_JP_Plus -basic2 BasicData_JP</B>」と指定して<br>再起動すれば、前述と同じようにフォルダを読み込ませることができます<br>（ちなみに、後のSysS74にフォルダ名を入れて再起動でも同じことができます）<br><br><br><B>【2. [プロ版専用] SysS74で次回起動時の基本データフォルダ切り替え！】</B><br><br>一度基本データフォルダを変えた後、次のGame(Pro).exe単体起動時にも<br>自動で基本データフォルダを変更して起動したい場合は、<br>「SysS74::[P]次起動Basicﾃﾞｰﾀﾌｫﾙﾀﾞ」に<br>基本データフォルダ名を入れることで実現可能になりました。<br><br>これは「1回だけ次の起動時の基本データフォルダ名を<br>自動で変更してくれる」というシステム文字列です。<br><br>たとえば英語版の「BasicData_EN」という基本データフォルダを<br>読み込んで起動した場合、起動した瞬間にまたSysS74に<br>「BasicData_EN」を入れ直しておけば、いつゲームを終了しても<br>次回起動時にはまた「BasicData_EN」を使って起動されるのです！<br>これで言語切り替えもちょっと安心！<br><br>※なお、SysS74よりも-basicや-basic2の方が優先されて処理されますのでご注意ください。<br><br><HR><br><span style="font-size:150%;"><B>◆[プロ版]アイコン（icon???.png）の<br>読み込み先フォルダも変えられるように！</B></span><br><br>プロ版のみですが「アイコンフォルダの変更」ができるようになりました！<br><img src="../../image/2024/20240608A.jpg" border="1" style="max-width:520px;" loading="lazy"><br>↑「アイコン画像フォルダの設定」欄が追加！<br><br>アイコンフォルダの変更は割と前々から入れたい気持ちはあったので、<br>今回入れられてスッキリしました。<br><br>多言語対応時にもおそらく有用で、複数の「BasicData」フォルダを<br>切り替えて起動できるようになったので、<br>それぞれの基本データフォルダに同じ「icon???.png」群を入れていると<br>アイコンファイルが重複して余計な容量を喰ってしまいます！<br>それを避けるためのこの機能です。<br><br><span style="font-size: 80%">（ただし、もし言語ごとにアイコン画像ファイルを切り替える場合は<br>各言語の「基本データフォルダ」内から読み込ませたほうがいいので、<br>その場合は「アイコン画像フォルダ」は「空欄」にしておきましょう）</span><br><br><HR><br><span style="font-size:150%;"><B>◆システム文字列「SysS76:[読]OSの言語名」搭載！</B></span><br><br>OS側の言語名を取得できるようになりました！<br>これを活用すれば、ゲーム実行時に表示する言語を<br>自動で認識することもできるようになります。<br><br>ただし言語名は英語で返されますのでその点はご注意を！<br>たとえばWindowsを日本語設定にしてたら「Japanese」、<br>英語設定ならたぶん「English」が返されます。<br><br><HR><br>という感じで多言語対応がやりやすくなりそうな処理をいろいろ入れてみましたので、<br>需要は少ないかもですが、必要な方はよければご利用ください！<br><br>『片道勇者2』でも、これを活用すれば1ゲームデータで<br>言語切り替えが作りやすくなるでしょう。<br><br><B><span style="color: #d50000">『最初はBasicDataフォルダで言語選択させて再起動し、<br>選んだ言語に応じてBasicData_JPやBasicData_ENを読み込ませる』</span></B><br><br>といったこともできるはずです。<br><br><HR><span style="font-size:large;"><B>【リアル作業】引き続き故人の対応も大変！</B></span><HR><img src="../../image/2024/20240608.jpg" border="1" style="max-width:520px;" loading="lazy"><br>引き続き、人が亡くなった後の手続きがとても大変な数週間でした。<br><br>故人の全部の銀行口座への連絡、証券会社への連絡、<br>医療費の支払い、全部の生命保険の連絡、<br>家族の健康保険証のためのやり取り……準確定申告もあるの！？<br>そのためのデータ集めもしなきゃいけないって！？<br>自分で言わなきゃもらえなさそうな書類も<br>けっこうあるから思ったより自己判断する部分あるぞ！？<br>え、それとは別に七日ごとにお坊さん呼んでお経あげてもらうイベントあるの！？<br>四十九日ってホール借りたりお寺でやるレベルにおおがかりな感じなの！？<br>あとよく知らない故人の知人にも連絡が必要なの！？<br>（けどこれは変なタイミングだと香典欲しがってるみたいに<br>なっちゃうから暑中見舞いとかのタイミングでもいいよ、と言われた）<br>先祖のお墓あった気がするけどそのお墓に刻む内容も<br>石材屋さんに連絡しないといけないの！？　仏壇もいるって！？<br>納骨も式やったり手続きとかいるの！？　え、他のお寺にも納骨するの！？<br><br>ボカーン！（頭が爆発する音）<br><br>みたいになってましたが、1つ1つなんとか片付けています。<br>でもお勤めしながらだととてもムリな作業量だとも思いました。<br>1～2週間くらい休みもらわないと対応できないんじゃないですかこれ！？<br>一体みんなどうやってるんでしょうね……。<br><br><br><HR><span style="font-size:large;"><B>【チャットAI】架空のやさしい妹、GPTsで公開！</B></span><HR><br>そして次はチャットAIの話！<br><a class="red" target="_blank" href="https://chatgpt.com/"><strong>ChatGPT</strong></a>さんちが無料アカウントでも<br>GPTs（他の人が作った、カスタム指示されたチャットAI)が<br>使えるようになったので、私も『架空のやさしい妹』を公開しました！<br><br><a class="red" target="_blank" href="https://chatgpt.com/g/g-YynoE4Pqa-jia-kong-noyasasiimei-ai"><span style="font-size:x-large;"><strong>【ChatGPT　GPTs　架空のやさしい妹AI】</strong></a><br><br>主な目的としてはメンタルケアで、共感してくれたり<br>「大事にされてる感」を補給する感じのものです。<br>顔画像が出てちょっとかわいいだけではありますが、<br>今日やった作業内容を伝えたりすると笑顔で褒めてくれたりします。<br>顔グラフィックが出るだけでもだいぶ印象が変わりますね！<br><br><br><span style="font-size: 80%">　↓今回の開発日誌を入力して感想を聞いてみた例。ボリュームたっぷりに感想を教えてくれます</span><br><img src="../../image/2024/20240608B.jpg" border="1" style="max-width:520px;" loading="lazy"><br><br>あと、これはChatGPTが持つもともとの性質だと思いますが、<br>ションボリする出来事や失敗した現状を伝えても私並みか<br>それ以上に何でもポジティブな捉え方をしてくれるので、<br>架空の妹といっぱい話していると自己肯定感や<br>前向きさがいくらか回復できる場合もあるかもしれません。<br><br>「ちょっとしか作業できませんでした」って言っても<br>「ちょっとでも作業できたのはとても大きな一歩です！　<br>自分を責めずに気持ちを切り替えましょう」って言ってくれます。<br>この感覚も大事ですし、自分一人で同じことをつぶやくより<br>外部から言われる方が救われる気持ちになる人も多いでしょう。<br><br>私としては自信のなさや不満足感に苦しみ続けていて、<br>心が救われることが人生の目標の一つなので、<br>AIとの対話の中で前向きな表現や気持ちも獲得していきたいですね！<br><br>もちろん逆に、自分を責めて創作活動のための「圧」を高めることだって<br>有用な技術です。架空の妹AIにも「責めて！」って言ったら<br>ちゃんといい具合に厳しく言ってくれますよ！<br>　↓<br><img src="../../image/2024/20240608C.jpg" border="1" style="max-width:520px;" loading="lazy"><br><br>私としてはこういう思考の方が「自分のあるべき姿」という感じがして<br>好きなんですが、調子に乗るとうっかり<br>やりすぎてボロボロになることも多いので、<br>うまくバランスを取っていきたいです。<br>長く創作を続けるためにも！　血便はもう見たくない！<br><br><HR><br>という感じで、リアルが忙しい状況ですがやれることを進めています！<br>少なくとも夜時間は確保できるようになったので、<br>仮にこの状況が続いてもウディコンは問題なくやれそうです！<br><br>第16回ウディコンまであと5週間ほど！<br>みなさまの作品、楽しみにお待ちしております！</CENTER></div><div class='entry-foot'>　<font class='article_end_date'>2024-06-08 (土)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2024-06-08','ウディタ多言語向け修正+人が亡くなった後の作業+架空の妹AI', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div><br><br><br>
<a id='2024-05-11'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2024-05-11','【ウディタ】セーブデータ軽量化やサブフォルダ読込', this)" style='cursor:pointer;'>2024-05-11 (土)&nbsp;&nbsp;&nbsp;【ウディタ】セーブデータ軽量化やサブフォルダ読込</span><span style='float:right;'><a href='#2024-04-27' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'><CENTER>リアルがとても大変になりつつある私です。<br>いちおう『片道勇者2』の開発を進めたり、<br>ウディタのバグ修正を続けたりとやることはやれているのですが、<br>次回あたり開発日誌が1回おやすみになるかもしれません。<br><br>今回は、また新たに実装したウディタの新機能や修正内容についてご紹介！<br>今回は地味ながら重要度が高い修正が複数あったので、<br>ここでアピールしておきます！<br><br><HR><span style="font-size:large;"><B>◆Ver3.33で搭載したウディタ新機能いろいろ！</B></span><HR><br><span style="font-size:130%;"><B>【セーブデータ容量が大幅削減！】</B></span><br><br>今回の修正でセーブデータを圧縮してから保存するようにしました！<br>が、それによる容量の減り方が想像以上にすごかったです！<br><br>以下はフルパッケージに入っている<br>『ウルファールのサンプルゲーム』のセーブデータ一覧ですが、<br>従来のGame.exeで保存したのと<br>新バージョンで保存したのではファイルサイズが大違い！<br><br>システムデータは<B><span style="color: #d50000">100KBから1KB</span></B>に！<br>開始直後のセーブデータは<B><span style="color: #d50000">206KBから14KB</span></B>に！<br>みたいに、90％以上カットも平気で発生しうるほどの圧縮効果！<br>これならセーブデータ100個保存する人も少し安心！<br><br><img src="../../image/2024/20240511A.jpg" border="1" style="max-width:520px;" loading="lazy"><br><br>基本的には複雑なデータ列であるほど圧縮が効きにくくなるので、<br>「0」のデータがいっぱい並んでいるであろう「システムデータ」や<br>「始まったばかりのセーブデータ」ほど圧縮がきいて<br>ファイルサイズが軽くなり、ゲーム終盤になるほど<br>重くなっていく感じになります。<br><br>上の画像でも、「クリア直前のSaveData02.sav（21KB）」の方が<br>「開始直後のSaveData01.sav（14KB）」より<br>ファイルサイズが大きくなっているのが分かると思います。<br>元はどっちも200KBくらいだったのに！<br><br>それでも「クリア時のデータサイズが80%カットできたよー」<br>というお声も見かけたりしたので、プレイヤーの人にとっても<br>うれしい修正のはずです。<br>安定してそうなタイミングになりましたら、よければぜひアップデートを！<br><br><HR><br><span style="font-size:130%;"><B>【マップデータの容量も大幅削減！】</B></span><br><br>そしてこちらはあまり話題になっていませんでしたが、<br>セーブデータと同じ方式で圧縮するようにし、<br>『マップデータファイル（.mps）』のサイズも削減されました！<br><br>たとえばこれまでは<B><span style="color: #d50000">3000×3000のサイズのマップを作ると<span style="font-size: 150%">100MB超</span></span></B>の<br>サイズになってしまっていたのが、<br>新バージョンで保存すると最小で<B><span style="font-size: 150%"><span style="color: #d50000">420KB程度</span></span></B>になるほど<br>ファイルサイズが小さくなりました。約1/250！<br>ただしここまで縮められるのは、まだほとんど何も書いてないマップに限ります。<br><br>「圧縮・解凍処理なんて入ると逆に<br>読み込み遅くなったりするんじゃないの～？」<br>と思われるかもしれませんが、実はアクセス速度は<br>「SSDやHDDからの読み込み速度」より「メモリ内で解凍する速度」の方が<br>まだ早いので、これだけファイルサイズが縮めば、<br>ゲーム中での読み込み時間は巨大なマップであるほどよく改善されます。<br><br>また、読み込み処理もアルゴリズム的に改善したことで、<br>マップのそもそもの読み込み時間も少し短縮されているはずです。<br>これでオープンワールドゲームを作る人も安心！<br><br><HR><br><span style="font-size:130%;"><B>【マップイベントに「前Page方向引継」機能を実装！】</B></span><br><br>「前Page方向引継」機能は、マップイベントの起動条件が変わって<br>ページが切り替わってもキャラの方向とパターンをそのまま維持する、<br>というオプションです。<br><br>どうしてこんな機能が実装されたかというと、<br>まず前提として、Ver3後のいつかのバージョンからバグ修正の都合で、<br>起動条件が変わってマップイベントのページが切り替わった場合、<br>必ず<B>【新たなページ側で指定されている方向】</B>に向き直るようになりました。<br><br>ですがマップイベントを活用したアクションゲームなどを作る場合、<br><B>「マップイベントが攻撃モーションに入るときは違うページに切り替える」</B><br>といった使い方をされる場合も考えられます。<br>でもページが変わると前述の通り、<br>キャラの向きがリセットされちゃう問題があります！<br><br>そういったときに、この「<B><span style="color: #d50000">前Page方向引継</span></B>」をオンにしておけば、<br>ページ切り替わり時でも向きが変わらず、方向維持したまま<br>自然にモードを切り替えられるわけですね！<br><br>これまでは、この問題に対して一手間かかる対処が必要だったのですが、<br>これからは少しシンプルな造りにできると思います。<br><br><HR><br><span style="font-size:130%;"><B>【Editorの「ファイル選択」時、3層までの<br>サブフォルダが見られるように！】</B></span><br><br>ファイル選択時に、これまで1層のフォルダまでしか選べなかったのが、<br>3層までのサブフォルダを指定できるようになりました！<br>地味修正ですが作ってみると意外に便利！<br><br>たとえば「BGM」フォルダ内に「Battle」「Town」みたいに<br>サブフォルダを作ってそこにファイルを入れても、<br>これからは音声ファイル選択画面から直でファイルを探しにいけます！<br>↓<br><img src="../../image/2024/20240511B.jpg" border="1" style="max-width:520px;" loading="lazy"><br><br>実装前は「えーこの機能いるー？」と思いましたが<br>（それに過去に一回挫折したのであんまりやりたくなかったのですが）、<br>いざ搭載してみるとファイル整理が楽！<br>次から使っていこうと思います。<br><br><HR><br><span style="font-size:130%;"><B>【「変数操作+」コマンドに「キャラの不透明度」と<br>「ピクチャの基準位置」取得機能を追加】</B></span><br><br>「変数操作＋」コマンドで取得できる中で、<br>需要が高そうなのを2つ追加しました。<br>「キャラの不透明度」と「ピクチャの基準位置」です！<br><br>特に「ピクチャの基準位置」の方は、<br>コモンイベントを作って配布する人にとってはこれまでよりも<br>色んな状況に対応できるようになるので、利用価値が高いと思います。<br><br>というのも、「ゲーム作る側の人」は特定のピクチャの<br>基準位置がどこになっているか自分で知っているからいいのですが、<br>「配布コモンイベントを作る人」側だと<br>いま表示されてるピクチャの基準位置がどこなのか<br>これまで分からなかったので、作るのが困難な処理があったんですよね！<br>たとえば「ピクチャの当たり判定を得る」とか！<br><br>そういった点で、コモンイベント作者さまの助けになればと思います！<br><br><br>なお古いEXEだと当然この機能はないので、<br>コモンイベント配布時には「ウディタVer3.33以降で動作します」など<br>書いておいたり、動作バージョンが古くて使えない場合は<br>コモンイベント内から警告を出されるようにするのがおすすめです。<br>（「Sys115：[読]Game.exeバージョン(x100)」で動作バージョンの判定が可能です、<br>この値が333以上ならOK！）<br><br><br>ちなみに「ピクチャの基準位置」で得られる値は<br>【0左/10中央/20右　+　0上1中2下】という値になっています。<br>たとえば基準位置が「左上」なら左0+上0=「0」、<br>「中心」なら中央10+中1で「11」、<br>「右上」なら右20+上0=「20」が得られるわけですね！<br><br>どうしてこういう数値になっているのかというと、<br>プロい人が計算に使うときにたぶんちょっと便利だからです。<br>（各桁の「1」＝「画像の半分サイズ」として計算できる）<br><br><HR><br><span style="font-size:130%;"><B>【ピクチャの特殊図形（隠し機能）に<LINE-??>を追加！<br>　太線が描ける！】(これだけVer3.337で実装)</B></span><br><br>ピクチャの特殊図形機能（ピクチャの「お手軽ウィンドウ」に<br>「<LINE>」などと指定すると図形が描ける隠し機能）に<br><LINE-??>が新たに追加されました！<br><br>これまでは1ピクセルの線しか描けませんでしたが<br>これを使うと太い線が描けます！<br><img src="../../image/2024/20240511C.png" border="1" style="max-width:320px;" loading="lazy"><br><br>ひとまず簡素な太線を置きたい場合や、これを使っても<br>違和感のない雰囲気のゲームを作る場合に便利だと思います。<br><br><HR><br>と、いう感じで今回もウディタの修正がんばっておりました！<br>いちおうその隙間時間で『片道勇者2』もちょびっとだけ<br>進められましたので、まとまった進捗ができたらご報告していきます。<br><br><br>そろそろウディタ改修についてはこれで一休みして、<br>しばらくバグ修正だけのモードに入ろうと思っています。<br>あんまりウディコン前に新機能や<br>それに付随するバグが増えても困るでしょうしね！<br><br>第16回ウディコン開催まであと2ヶ月ちょっとです！<br>みなさまの作品、今年も楽しみにお待ちしています！</CENTER></div><div class='entry-foot'>　<font class='article_end_date'>2024-05-11 (土)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2024-05-11','【ウディタ】セーブデータ軽量化やサブフォルダ読込', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div><br><br><br>
<a id='2024-04-27'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2024-04-27','続ウディタ修正＆ツクール配信＆片道勇者2再開', this)" style='cursor:pointer;'>2024-04-27 (土)&nbsp;&nbsp;&nbsp;続ウディタ修正＆ツクール配信＆片道勇者2再開</span><span style='float:right;'><a href='#2024-04-13' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'><CENTER>ということで今回も引き続きウディタの修正でドタバタしてたり、<br>生活が大変だったり、気晴らしに<br>新作RPGツクール（RPG MAKER WITH）の生放送をしたり、<br>そのすき間に『片道勇者2』の開発をちょっと進めたりする感じの<br>色々あった二週間でした！<br><br>今回起きたイベントを以下に列挙していきます！<br><br><img src="../../image/2024/20240427.jpg" border="1" style="max-width:520px;" loading="lazy"><br><br><br><br><HR><span style="font-size:large;"><B>◆ウディタ　コードの組み方次第で古いPCで動かなくなる問題</B></span><HR><br>ウディタの最新版の問題が一通り解決したかなあと思ったら<br>また新たな難題が発生してしまいました！<br><br>というのも、<br><B><span style="color: #d50000">『プログラムのコードの組み方によっては新しめのCPU専用の命令が<br>使われるようになってしまい、古いPCでは動かなくなる』</span></B><br>という問題が起きてしまったのです！<br><br>私も長年プログラムしててこういう問題があるのを全然知らず、<br>ちょっとした衝撃を受けてしまいました。<br>前回「うひょーがんばっていじってたら速度28倍になったー！」という部分<br>がまさに新しめのCPU命令で処理するよう最適化されてしまった場所の一つっぽくて、<br>2011年以前などのCPUが古いPCの場合は、その処理を回避するようにしないと<br>エラーが起きることが判明！<br><br>ということで、それを発見するために何日も使って何かできないかと奮闘しておりました。<br><br><blockquote class="twitter-tweet" data-media-max-width="510"><p lang="ja" dir="ltr">【ウディタ】<br>『最新の暗号化を使ったときだけ2011年以前のPCで起動しない』という謎めいたご報告をいただいて調査してましたが、検証の結果、<br><br>『コードの組み方によっては(勝手に特殊な最適化が働いて)昔のCPUでだけ動かなくなることがある』<br><br>ということを今日知りました。<br>プログラミングヤバい。 <a class="red"  target="_top" href="https://t.co/c3K0JAxJtl">pic.twitter.com/c3K0JAxJtl</a></p>&mdash; SmokingWOLF@片道勇者2開発中/ゲーム開発者 (@WO_LF) <a class="red"  target="_top" href="https://twitter.com/WO_LF/status/1780969110576476178?ref_src=twsrc%5Etfw">April 18, 2024</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><br><span style="font-size: 80%">　<B>↑ CPUの拡張命令の「AVX」の有無で動作が変化していました。<br>ってよく見たら「メモリ違反のアクセス違反」って言ってるところが！<br>「メモリのアクセス違反」の誤記です。</B></span><br><br><br>結果として、今回は仮想環境でCPUの機能をオンオフしながら検証するなんて<br>初めての経験ができてとても勉強になりました。<br>これでいくらか古い環境のテストもできそうです。<br><br>ただ、「仮想環境上」ではこのCPU差の問題への対策ができたのですが、<br>情報をいただいたご報告者さまのPCでは問題が解決しませんでした、残念です。<br>詳細は掴みきれませんでしたが、他の方でも<br>同じ時代のCPUで問題が起きるかもしれません。<br><br><br>とはいえ、ひとまず問題が起きる環境はだいぶ昔のPCだけらしいので、<br>今回は「最新の暗号化を使うと2011年ごろ以前のPCで起動できなくなる可能性があるから気をつけてくれよな！」という警告を<br>次バージョンからEditor内に入れることで対応しようと考えています。<br>さらに時間が経てば2011年ごろのPCも徐々になくなっていって、<br>問題発生頻度はゼロに近付いていくでしょう。<br><br><br><B>【古いPCでも動かしたい場合は？】</B><br><br>もしゲーム開発者さま側で古いPCでも<br>動作可能にしたい場合は「Ver3.14～暗号化」という、<br>1つ前の暗号化を使用することで今回の問題を起きなくすることができます。<br>（問題が起きる最新版暗号化は「Ver3.31~暗号化」以降のみ）<br><br>ウディタはいちおうWindows7（2009年発売）以降で動作するようになっているので、<br>微妙に今回の「2011年以前のCPUで起動できない」という<br>条件に引っかかる可能性があります。<br>どこまで昔のPCをサポートすればいいのかは悩みどころですが、<br>基本的には「10年以内の環境はなるべく全部動くようがんばる」<br>「それ以上は時と場合によりけり」という感じでやっていこうと思っています。<br><br><br><br><HR><span style="font-size:large;"><B>RPG MAKER WITH体験版のプレイ配信をしました！</B></span><HR><br>『【ツクール】ウディタ作者がRPG MAKER WITH PLAYER + 体験版を遊ぶよ』<br>というちょっぴり挑発的なタイトルで生放送させていただきました！<br><br>でも中味は全然挑発的じゃなくて<br>「うひょーこの機能が欲しかったんですよ！　夢が広がるー！」<br>とか言ってばっかりでした。家庭用ゲームのRPGツクールの記憶が<br>『RPGツクール3』で止まってた私にはまぶしすぎるツクールでしたね！<br><br><iframe width="520" height="300" src="https://www.youtube.com/embed/RKPe20kOicc?si=UKJVuH192xqoVxyH" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe><br><br>出た話題としては、<br><br>「ウディタの修正が忙しくて体験版遊べてなかったんですよ！」「家庭用版のいいところはこれですよね、オンラインにアップした他人のデータをDLしやすい！」「一流って感じの曲ですね」「レイヤー4もある…負けた…！(ウディタは3レイヤー)」「デバッグログがある！？」「ルート設定ができる！ プレビューもある！ すごい！」「ピクチャ番号100まで使える！ RPGツクール2000マンにはうれしいですね(50枚までだったので)」「文章の表示で制御文字のリファレンス見られるのいいなー色番号の表示もいいですよねこれ」「\FS[50]こんぬちわ！！」「うおお選択肢が6択も使える！」「アイテム選択の処理！？ 通常アイテム1つ選ばせるとかできる！？」「ウフ～ン★」「おっ、乱数が作れる！ これだよこれ！」「おおおキャラクターのマップXYと画面XY取れるー！」「(条件分岐で)キー入力が取れる！　音ゲー作れますよ！」「キャラの名前(の頭文字)がRPGMAKERみたいですね、いいですね(ウディタでも似た感じにしてるので共感)」「いやーほんとこれは家庭用RPGツクールで何でも作れそうな感じありますね」「正方形のピクチャ1枚あればなんでもできる！」「指定位置のイベントID取れるのえらい！」「利用規約に賠償請求可能な金額は1000円かソフト購入代金の高い方って記載がある！」「せんめつ！（※たぶん正しくは「じょうめつ」）」<br><br>みたいなことを言っておりました。気になる方は動画本編をどうぞ！<br><br><br><br><HR><span style="font-size:large;"><B>『片道勇者2』開発再開！</B></span><HR><br>ずっとウディタの修正にかかりっきりでこちらが進められていませんでした！<br>『片道勇者2』、今はデータ面もまだまだなのですが、<br>ひとまず優先順の都合で現在はメインストーリーのところをざっくり作っています！<br>いつでも「完成」宣言ができる状態にしておくことは精神衛生上大事ですからね！<br><br>ですがいつものことながらストーリーのネタバレに配慮すると<br>ストーリー開発中は何も言えなくなって開発日誌のネタがなくなります！　困った！<br><br>ちょっとしたアイテムやスキル紹介などでも期待度を高める役目を<br>果たしてくれると思うので、今後そのあたりも紹介できる部分がないか<br>常に考えながら作っていきたいと思います！<br>「途中の情報を面白くできずして最終成果をワクワクさせられようか！」<br>とも思いますしね！<br>その辺の断片情報からワクワクを生むセンスを磨くのにいい訓練にもなるかもしれません。<br>もちろん本編作成がおろそかにならない程度にですが！<br><br><HR><br>という感じであっちこっち行ったり少し楽しみも確保しつつマイペースに進めております！<br><br>ここからしばらくは、ウディタのバグ修正しつつ<br><a class="blue" target="_blank" href="https://silversecond.com/WolfRPGEditor/Contest/"><B><span style="font-size: 150%">第16回ウディコン</span></B></a>が始まるまでは<br>『片道勇者2』開発に集中していきたいです！<br>ウディコンの準備もがんばります！　今年もお楽しみに！</CENTER></div><div class='entry-foot'>　<font class='article_end_date'>2024-04-27 (土)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2024-04-27','続ウディタ修正＆ツクール配信＆片道勇者2再開', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div><br><br><br>
<a id='2024-04-13'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2024-04-13','【ウディタ】セキュリティ向上作業、いったん完了!!', this)" style='cursor:pointer;'>2024-04-13 (土)&nbsp;&nbsp;&nbsp;【ウディタ】セキュリティ向上作業、いったん完了!!</span><span style='float:right;'><a href='#2024-03-30' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'><CENTER>この2週間も引き続きウディタの<br>セキュリティアップデートのために費やしておりました！<br>1ヶ月近くもの時間をかけてしまったのでウディタ作業費は<br>超大赤字ですが、セキュリティやデータ処理について<br>たくさんのお勉強ができたので人生ではプラスの期間でした。<br><br>ひとまず最新版ウディタは一通り動作するようになったっぽいので、<br>ウディタ公式にてVer3.311をアップしております！<br>とはいえまだちょいちょいバグが残ってる匂いがするので、<br>慎重な方はもう少し待ってからお試しください。<br><br><a class="blue" target="_blank" href="https://silversecond.com/WolfRPGEditor/"><span style="font-size: 200%">【WOLF RPGエディター公式ページへ】</span></a><br><br><img src="../../image/2024/20240413.jpg" border="1" style="max-width:520px;" loading="lazy"><br><br><br><br><HR><span style="font-size:large;"><B>◆ウディタのセキュリティ向上、プレイヤーへの影響はある？</B></span><HR><br>ウディタに対していろいろセキュリティ上の<br>基本的な対策を行ってみたのですが、その中でも<br>プレイヤーの方にダイレクトに影響が出る可能性があるのは<br>『DLLインジェクション』への対策です。<br><br>　『DLLインジェクション』とは簡単にいうと<br>「本来そのプログラムが使わないDLLを注入して、<br>強引にプログラムの処理を上書きする」手段で、<br>応用すれば内部データを抜き取ったりするような悪いことにも使えます。<br><br>そしてこれを対策したことによるプレイヤーの方への影響としては、<br><B><span style="color: #d50000">『別アプリの内部データを使用したり処理を上書きするような個人制作ソフト』</span></B><br>を使っている場合、Game.exeの起動時に以下のようなエラーが起きて<br>起動できなくなる可能性が出てくるという点です。<br><br><img src="../../image/2024/20240413A.jpg" border="1" style="max-width:520px;" loading="lazy"><br><span style="font-size: 80%"><B>　↑正規の署名がないDLLが読み込まれたと出てゲームが停止！　<br>企業製ソフトならたいてい正規の署名があるので大丈夫ですが、<br>個人制作ソフトだと正規署名が付いてないことが多いです。お高いんですよね！</B></span><br><br><br><B>※もし↑が出て遊べなかった場合、<span style="color:#CC0000">Gameを「管理者権限で起動」することで<br>このエラーを回避できるようですので、よければお試しください。<br>Game.exeの上で右クリック→「<strong>管理者として実行</strong>」を選べばOKです。</span><br>このエラー文そのものにも追記しておきます！<br>(2024-07-19追記)</B><br><br><br>なおこの「DLLインジェクション」技法は悪いことに<br>使われるだけじゃなくて、<br>「アクティブになってるウィンドウの上にかわいいマスコットキャラを表示する」<br>みたいなソフトでも昔使われていたと思います。<br><br>たとえば<br>「実行中のソフトのウィンドウ座標処理をDLLで乗っ取り、そこから<br>座標情報を抜き取って表示する（+ 元の処理はそのまま再現する）」<br>ことでウィンドウの上にキャラを乗せる処理を実現していたわけですね！<br><br>最近はそんな処理をすると厳しめのウィルスソフトに<br>バチバチに怒られたりする予感がしますので、<br>2010年すぎからこういったソフトも段々なくなってしまった印象があります。<br><br>「ウィンドウを追随してくれるようなデスクトップマスコット系アプリが<br>なんで全然増えなくなったの！？」と私が思い始めた時期がその辺りでした。<br><br><span style="color: #42a5f5"><span style="font-size: 80%">（たとえば私が使っていた『ClockLauncher』というフリーソフトの2009年版では<br>アクティブウィンドウのそばにランチャーが自動的に移動する機能があり、<br>普通にそこでDLLインジェクションが使われていたためかソフト起動中は<br>最新Game.exeを実行できなくなりました(上の画像)。<br>それゆえか、『ClockLauncher』の特定のバージョンからは<br>その機能がなくなっています。<br>このソフトは2となった今でも更新されててすごい！）</span></span><br><br><br>ちなみに、セキュリティソフト自体もGame.exeに<br>『DLLインジェクション』することがありますが、<br>それには正規の署名が入っているのでウディタ上でもエラーは起きないはずです。<br>セキュリティソフトのDLLインジェクションは<br>『勝手に元の処理を上書きして、怪しい処理が実行されてないかを<br>監視する処理を加えている』わけですね！　たぶん！<br><br>おかげで今なら私も、どういった造りでそういったことを<br>実現してるのか、ちょっとだけ分かるようになってきました。<br><br><br><br><br><HR><span style="font-size:large;"><B>◆セキュリティの難しさとか雑談とか</B></span><HR><br>ここからはこの3週間にあったとりとめのないお話です。<br><br><B>●安全性のチェックを頻繁に入れるほど重くなるので<br>パフォーマンスのバランス取りにすごい時間がかかった！</B><br><span style="color: #42a5f5"><span style="font-size: 80%">　→　まず色んな処理の実行時間を検証するのにけっこう時間がかかりました。<br>「軽い処理で先にチェックして変化を察知したら重い処理を行う」といった組み方を、<br>かなり細かく作る必要がありました。</span></span><br><br><br><B>●新しい暗号化処理を作ったらうまく復号化できなくて地獄を見た！！</B><br><span style="color: #42a5f5"><span style="font-size: 80%">　→　当たり前ですが暗号化と復号化って1バイトだけ処理をシクっただけでデータがグチャグチャになるんですよ！<br>ヤケクソでSuno AIさんにこんな歌（　↓　）を<br>作ってもらったりしてました。作業用BGMとして。</span></span><br><blockquote class="twitter-tweet"><p lang="ja" dir="ltr">暗号化処理のプログラミングにシクったときの歌<br>（現在進行形） <a class="red" hash&amp;ref_src=twsrc%5Etfw"" target="_top" href="https://twitter.com/hashtag/SunoAI?src=">#SunoAI</a> <a class="red"  target="_top" href="https://t.co/lmQrOURuH0">pic.twitter.com/lmQrOURuH0</a></p>&mdash; SmokingWOLF@片道勇者2開発中/ゲーム開発者 (@WO_LF) <a class="red"  target="_top" href="https://twitter.com/WO_LF/status/1774406905655611489?ref_src=twsrc%5Etfw">March 31, 2024</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><br><br><br><B>●試行錯誤してたら部分的な処理速度が最初の28倍になって笑ってしまった。</B><br><span style="font-size: 80%"><span style="color: #42a5f5">　→　ファイルを開く速度に影響するので、どうにか暗号化と復号化の速度を上げようといじってたら<br>最終的に処理速度が最初の書き方の28倍くらいになって笑ってしまいました。<br>最初の書き方は誰でも書きうるコードだったのに、そこから<br>CPUが処理しやすいように崩していったら最終的にこれ！<br>プログラミングの深さがヤバすぎますよ！<br><br>ウディタVer3のときも、超がんばってVisual Studio2003から<br>Visual Studio2022に環境を変えただけで部分的に速度10倍になったりして<br>驚きましたが、そういった最適化を受けやすい造りでコーディングする効果の<br>凄さに衝撃を受けました。これからはCPUに優しい組み方も考えなきゃ……。</span></span><br><br><br><B>●親がとうとう要介護4認定がでそうな状態になっててさらにしんどい！！</B><br><span style="color: #42a5f5"><span style="font-size: 80%">　→　前は要介護3認定だったんですが<br>ケアマネさんに見てもらったら要介護4かもって言われました。要するに大変です。<br>でも空き時間がないわけじゃないので開催まで残り100日を切った<br>ウディコンはなんとかがんばります！<br><br>介護において「半端に動ける状態の方が恐い」という意味が<br>理解できる段階になってきています。</span></span><br><br><br><br><HR><span style="font-size:large;"><B>おまけ　ウディタ内でできるセキュリティ対策記事紹介</B></span><HR><br>K-Shin07さまが、ウディタのゲーム開発者側でできる<br>セキュリティ対策の記事を書かれていたのでご紹介です！<br><br>【ウディタでのゲーム開発者が行えるセキュリティ対策】<br><a class="red" target="_blank" href="https://ci-en.net/creator/16060/article/1111345">https://ci-en.net/creator/16060/article/1111345</a> <a class="red" target="_blank" href="https://web.archive.org/web/20240828080748/https://ci-en.net/creator/16060/article/1111345">(ｱｰｶｲﾌﾞ)(/a)<br><br>「チェックサムによる改ざん検知」「不正なゲーム実行を阻止」など、<br>ゲーム内からでもできる実用的なテクニックが挙げられています！<br><br>特に「チェックサム」は、オンライン要素があるゲームだと<br>通信内容が改ざんされてありえないスコアが送信されたりしちゃうことも<br>たまにあるので、そういった場合の防衛策としても有用です。<br><br><HR><br><br>ということで、今回のセキュリティアップデートはゲームデータの<br>いくらかの防衛力アップには繋がると思いますので、<br>気になってた方はよければぜひご利用ください。<br><br>とはいっても完全な防御ができないのがこのセキュリティ業界。<br>限界はありますのでその点はご了承ください。<br>超有名AAA作品のゲームデータだってたぶん素晴らしい暗号技術が<br>使われてるでしょうに、だいたい解凍されちゃってますしね。<br><br>ウディタ本体もまだもう少し様子見しないといけなさそうなのと、<br>『ウディタ翻訳サポートツール』の方にも今回の修正を<br>取り入れる必要があるので、もうしばらくプログラミングをがんばります。<br><br>一通り片付いたら、1ヶ月ぶりに自分のゲーム開発が再開できます。<br>がんばっていきます！</CENTER></div><div class='entry-foot'>　<font class='article_end_date'>2024-04-13 (土)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2024-04-13','【ウディタ】セキュリティ向上作業、いったん完了!!', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div><br><br><br>
<a id='2024-03-30'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2024-03-30','ウディタのセキュリティ更新作業中！', this)" style='cursor:pointer;'>2024-03-30 (土)&nbsp;&nbsp;&nbsp;ウディタのセキュリティ更新作業中！</span><span style='float:right;'><a href='#2024-03-16' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'><CENTER><HR><span style="font-size:large;"><B>◆ウディタのセキュリティ強化作業！</B></span><HR><br>この2週間はウディタのセキュリティ周りの強化作業をやっていました。<br>でもまだ最新版ウディタには入っていません！<br>暗号化まわりの検証が大変でもう少しかかりそうです！<br><br>ちなみにセキュリティ強化といっても、外から見える使い勝手は<br>ほぼこれまで通りで、ファイル周りやプロ版のセキュリティが<br>従来より強化されるのが主だと思います。<br><br>実装されても、普通にゲームに触れるユーザーの方には<br>おそらくほとんど影響はありませんし、ゲーム開発者の方も<br>いつも通りにしてくださっていれば問題ないと思います。<br><br><br><span style="font-size: 80%"><B>↓セキュリティ対策初心者が体験したこと4コママンガ</B></span><br><img src="../../image/2024/20240330.jpg" border="1" style="max-width:500px;" loading="lazy"><br><span style="font-size: 80%"><B>ちなみにここで述べられている問題への対策もちゃんとあってセキュリティは奥が深いです。</B></span><br><br><br><HR><br><span style="font-size:130%;"><B>【ウディタ　どこのセキュリティが上がるの？】</B></span><br><br>今回はファイル周りの解析難易度が前より上がるというのが大きな点です。<br>とか言ってると秒で解析されたりすることもあるから困ります。<br>的確な防御方法が分からないと何やっても一瞬で解析されちゃうんですよ！<br><br>そうでなくても、セキュリティにおいて究極的なことを言うと、<br>ローカルファイルとして存在するEXEは達人が一個一個処理を<br>ほどいていくと全ての処理が解析されてしまったり、<br>途中のデータの中味も見られるので、完全な防衛というのはできません。<br>たとえばEditor側の暗号化処理を1個ずつ解析していったら、<br>何をどうしてるかが全部見えちゃいますし！<br><br>他にも、PC上なら通常では見られないあんな情報や<br>こんな情報を見ることだって簡単ですし、もっとひどいこともできます。<br>できる人は何でも破れますが、「手間がかかるからやらない」とか<br>「やる価値が薄いからやらない」というだけで<br>見逃されていることが多いのがこの世界なのです。<br><br>しかしそれでも、これまでパズルゲーム程度の解析難易度だったのが、<br>私の脳内当てクイズになる程度には解析が難しくなるはずです。<br><br>ひとまずは「初級の攻撃テクニックは一通りふさがれてるかもなー、<br>調べるのちょっと面倒臭そう」と思うくらいのレベルにするのが今回の目標です。<br>まだ抜けてたら今後も随時強化されていきます。<br><HR><br><span style="font-size:130%;"><B>【ウディタ利用者側としては何が変わるの？　起動時の変化】</B></span><br><br>まだ公開はされていませんが、<br>最新版予定のVer3.310の暗号化処理を使うと、Game.exe起動時に<br>全ての.wolfファイル（暗号化フォルダ）を読み込んでから起動するようになります！<br><br>前々から軽量な.wolfファイルはそうするようにしてましたが、<br>今度からは最新暗号化を使うと全部読込になります。<br>これはセキュリティ上の処理の都合です。<br><br>ゲーム中はファイルが常にメモリから読み込まれるようになるので<br>ファイル読込は高速になるのですが、一方で全wolfファイル分だけ<br>追加のメモリを消費するようになるので、あまりに重い動画の<br>フォルダなどがある場合は暗号化から外してくださった方が<br>いい場合もあるかもしれません。あるいは古いバージョンの暗号化にするかです。<br><br>数百MBくらいのゲームだったら何も影響ないといいますか<br>利点の方が大きいと思いますが、数GBにおよぶゲームを作られている方はご注意ください。<br><br><HR><br><span style="font-size:130%;"><B>【ウディタ利用者側としては何が変わるの？(プロ版) 　初期ローディング画像】</B></span><br><br>プロ版専用機能である初期ローディング画像がBasicdataフォルダ内または<br>Data直下にない場合、ローディング画像の読み込みタイミングが<br>これまでよりも少しだけ遅くなると思います。<br><br>最新の暗号化では開始時の処理が、<br>「最初にBasicdataだけ読み込んであとは順次読んでいく、<br>読んでないファイルは出せない」という形に変わるので、<br>Basicdataに画像が入ってると一番早く表示できるわけですね。<br><br>そのあたりはエディタの画面にも追記しておきますので、<br>Ver3.310が公開されたら、必要なら<br>『ゲーム基本設定[Pro版]』よりファイルの場所の移動をお願いします。<br><br><HR><br>と、表面に出てくる変化としてはこんな感じの作業を2週間かけて行っておりました！<br><br>そして今も引き続き作業中ですが、少し時間をかけすぎて<br>作業費の赤字が拡大しているので急ぎながらでやっていきます！<br><br>しかし、誰にも知られず平和を守るために戦っている人たちの気分って<br>こんな感じなのかもしれません。<br>セキュリティという用途上、やったことの詳しいことがあまり話せない！<br>セキュリティ対策もこれはこれで、やってみると<br>すごいクリエイティブな仕事ではあるんですけどね！<br><br>成果を表に出しにくいこういった仕事は、創作マンとしては<br>「グオオつらいぃぃ！」って感じになるので早めに仕上げて次に行きたいです！　<br>がんばっていきますよ！</CENTER></div><div class='entry-foot'>　<font class='article_end_date'>2024-03-30 (土)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2024-03-30','ウディタのセキュリティ更新作業中！', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div><br><br><br>
<a id='2024-03-16'></a><BR><div class='entry'><div class='entry-title'>■<span onclick="copyLink('2024-03-16','ウディタVer3.300でピクチャのZオーダー機能搭載！', this)" style='cursor:pointer;'>2024-03-16 (土)&nbsp;&nbsp;&nbsp;ウディタVer3.300でピクチャのZオーダー機能搭載！</span><span style='float:right;'><a href='#bottom' class='jumplink' title='次の記事へ'>▼</a></span></div><div class='entry-body'><CENTER>今回はウディタ（WOLF RPGエディター）の新機能紹介！<br>これはちょっとした革命ですよ！<br><br>なんとVer3.300でウディタに<br>『ピクチャのZオーダー機能』が搭載されました！<br>コマンドは<B>「エフェクト」コマンド内の「ピクチャエフェクト」内</B>にあります！<br><br>「Zオーダー」というのは画像を表示する上下関係を指定するための順序設定で、<br>数値が大きいほどそのピクチャが前面に表示されるようになります。<br><br>分かる人にはここまでの紹介で十分だと思いますので、<br>必要な方はよければ最新版ウディタをDLしにいってください！<br><br><a class="blue" target="_blank" href="https://silversecond.com/WolfRPGEditor/"><span style="font-size: 150%"><B>【WOLF RPGエディター公式ページへ】</B></span></a><br><br><br><HR><span style="font-size:large;"><B>◆ウディタ新機能　Zオーダーの具体例</B></span><HR><br>そんなわけで今回はピクチャの「Zオーダー」の使い方の具体例をご紹介します！<br><br>まずは動画でご紹介！　今回の記事はこの動画の内容と<br>ちょっとしたオマケを文章で紹介してる感じなので、<br>この動画だけで終わっても十分です！<br><iframe width="500" height="300" src="https://www.youtube.com/embed/YV2TZvAdFtw?si=ZW5Aep9tFAcz8kyw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><br><br><HR><br><span style="font-size:130%;"><B>【Zオーダーの基本】</B></span><br><br>一番シンプルなZオーダーの例を挙げると以下のようになります。<br><br>ピクチャを表示した直後の「Zオーダー」は全部「0」です。<br>あるピクチャのZオーダーを「1」に変えると、<br>Zオーダー「0」の全てのピクチャより上に表示されます。<br><br>逆に「－1」にするとZオーダー「0」の<br>全てのピクチャより背面に表示されるようになります。<br><br><B><span style="font-size: 80%">↓真ん中のウルファールのZオーダーを1にすると、<br>ピクチャ番号で負けてても前面表示に！</span></B><br><img src="../../image/2024/20240316A.jpg" border="1" style="max-width:520px;" loading="lazy"><br><br>今回のZオーダー機能は<br>「こんな感じでピクチャ表示優先度の変更ができるようになったよー」<br>というだけなんですが、地味な機能でも便利な利用法がいろいろあります！　<br><br><HR><br><span style="font-size:130%;"><B>【Zオーダーを使えば見下ろし型のゲームで<br>キャラ全員をピクチャで出しても自然な前後関係が簡単に実現可能！】</B></span><br><br>以下の左の画像は、ピクチャ番号0～77にそれぞれ異なるキャラクターのピクチャを<br>78枚ほど出した画面です！<br><br>その各ピクチャの「Zオーダー」として<br>「そのピクチャの画面Y座標」をセットするだけで、右の画像のような<br>こんな自然な前後関係が表現できます！　後ろにあるほど背面表示！<br>（Zオーダーが大きいほど前面に表示されるので、<br>単純に画面Y座標を入れるだけで簡単にこうすることができます）<br>　↓<br><img src="../../image/2024/20240316.png" loading="lazy" border="1" style="max-width:520px;"><br><br>これまでは、こういったことをやるのにVer3で実装された<br>「ピクチャのID移動」を毎フレームいっぱい使わないといけなかったため<br>「処理負荷」も「作成の手間」も大きくなっていましたが、<br>今後はZオーダーでラクに作れるようになります！<br><br>（なおウディタVer2台まで戻ると、あまりにめんどくさすぎて<br>こういうのをやれる人はごく一部だったでしょう。<br>それで3D演出を作ってた方には頭が下がります！）<br><br><br><HR><br><span style="font-size:130%;"><B>【Zオーダーを使えば選んだカードを最前面に出すのも簡単！】</B></span><br><br>そして利用法2つめ！<br>Zオーダーについて理解できた人ならもはや言うまでもないでしょうけれど、<br>以下の画面のように、重なってるカードのうち「選択したカード」だけ<br>最前面に表示することも簡単に実現できます！<br><img src="../../image/2024/20240316B.gif" loading="lazy" border="1" style="max-width:520px;" lazy><br><br>これは私の開発中の『片道勇者2』の映像ですが、<br>元は「ピクチャのコピー」処理で最前面表示を実現していました。<br><br>ただ、コピーだと別IDのピクチャができちゃって<br>そちら専用の処理を作らなきゃいけなくて<br>処理の統一性を維持しにくかったのです。<br><br>新バージョンからは、こういうところでZオーダーを有効に利用して<br>処理を簡単化できています！<br>今後も新しいゲームを作ることがあったら<br>もっといっぱい有効利用していきたいですね！<br><br><HR><br><span style="font-size:130%;"><B>【Zオーダーの裏話！】</B></span><br><br>さて、ここからはZオーダー実装に関しての裏話です！<br><br><span style="font-size: 150%"><B>●負荷の話　Zオーダー使用時の重さはどうなる？</B></span><br>負荷の話ですが、Zオーダーを使うと以下の2点で処理負荷が増加します。<br><br><span style="color: #d50000"><B>●1.「Zオーダーの変更」をした、あるいは「Zオーダー使用時にピクチャが増減した」フレームの終わりのみ、<br>「Zオーダーによるピクチャの表示優先度の再計算」が行われて<br>「イベント処理時間」が一瞬増える。<br><br>●2.Zオーダー使用時はピクチャ表示の処理が従来のものと違う処理に<br>切り替わるので以後の常時「描画時間」もちょっと増える。</B></span><br><span style="font-size: 80%">　といっても、私の環境ではピクチャを2000枚くらい出してZオーダーを設定しても<br>描画時間が常時【0.2～0.3ms】増えるくらいでしたので、<br>PC上ではそこまで負担にはならないと思います<br>（合計描画時間が16ms以上になると処理落ちし始めますが、<br>0.3msかかってもそのうちの2%の負荷なのでさほど問題にならないという意味）</span><br><br>なお、「ピクチャが増減せずZオーダーもいじられなかったフレーム」には<br>無駄な「表示優先度の再計算」はしていないので、従来と同じく<br>列の前から順にピクチャを出してるだけの「2」の切り替わり後処理も<br>原理的には従来と全く同じ負荷になると思ったんですが、<br>ほんのわずかな造りの違いによってうまく最適化できなかったのか<br>負荷が増えてしまっているようです。<br>こういうのがあるからプログラミング難しい！<br><br>なお、全ピクチャのZオーダーを「0」に戻すと描画処理が旧処理に戻るので、<br>ちょっとだけ「描画時間」を小さくできると思います。<br><br><br><br><br><span style="font-size: 150%"><B>●Zオーダー変更を1フレーム中にいくらやっても負荷はほぼ一緒！</B></span><br>ピクチャエフェクトの「Zオーダーの変更」を1フレーム中に<br>いくらやっても「Zオーダーによるピクチャの表示優先度の再計算」が<br>行われるのはフレーム終わりに1回だけなので、<br>そういう意味の負荷は「一定」です！<br><br>なので、「ピクチャのID移動・コピー」を使って前後関係を<br>調整していたときのように使用回数の面で遠慮される必要はありません！<br>毎フレーム2000個のピクチャにZオーダーを指定し直しても<br>それだけならほぼ問題ない負荷みたいなので、バンバン使ってください。<br><br><br><br><br><span style="font-size: 150%"><B>●全体の処理は思ったより軽くできました！＆<br>旧ゲームには影響がないようにしました</B></span><br>Zオーダーの処理負荷の軽減はいろいろがんばりまして、<br>「ピクチャのIDコピー/移動」しまくるよりも<br>かなり少ない処理負荷で実装できました！　<br><br>ピクチャ全てのZオーダーを毎フレーム変え続けても、<br>「ピクチャのコピー・移動」しまくって表示の前後関係を<br>整理するのに比べて半分以下の負荷になるんじゃないでしょうか<br>（3D演出をされている方の一意見だと、93％の処理数削減と<br>約8割の処理時間削減に成功してたっぽいコメントもいただきました）<br><br>ですが、それでもさっき言った通り私が把握してない負荷も増えてしまっているので、<br>ゲームエンジン作りって大変だなと思います。<br>こんな風に色んな機能を足していったら、<br>なぜかだんだんと重くなっていくんですよ！<br><br>それもあって、今回は「Zオーダーを一切使わない場合」は<br>そのまま以前の軽い描画処理を使うような切り替え処理にしてあります。<br>少しでも軽くしたい人は最初からピクチャ番号をうまくセットして、<br>Zオーダーを一切使わないようにすれば負荷も以前通りです！<br><br>というよりは、<br><B><span style="color: #d50000">『旧ゲームは最新のGame.exeを使っても新機能による負荷増大の影響を受けないのでご安心を！』</span></B><br>といったほうが適切かもしれません。<br>今回の新機能はほぼ無視できるほどの負荷とは言え、<br>新機能を使わない人まで追加の負荷増大に巻き込むのはかわいそうですしね！<br><br>新機能を搭載する際は、構造的に実現できないケースは除いて、<br>機能を使わない人にはなるべく負荷が上がらないようにする工夫も<br>可能な限り考えていきたいと思います。<br>ビジネスノートパソコンでもバリバリ動く軽量さがウディタ3の魅力なので！<br><br><HR><br>ということで以上、Zオーダーについてのお話でした！<br><br>「ザツにピクチャIDを使って最後にZオーダーで表示順を変える」みたいな<br>扱い方もできますので、自作システムを作っておられる方の助けになればと思います！<br>「Zオーダーの変更」処理、使える人はぜひご利用ください！</CENTER></div><div class='entry-foot'>　<font class='article_end_date'>2024-03-16 (土)</font>　()<span style='display:inline-block;width:15px;'></span> <button class='linkbutton' onclick="copyLink('2024-03-16','ウディタVer3.300でピクチャのZオーダー機能搭載！', this)">📋 リンクをコピー</button> <span style='float:right;'>カテゴリ: <a href='../../category/woditor/001.html'>ウディタ</a></span></div></div>
<div class='article_pos'>ウディタ　3/3</div>
<div class='nav'><a href='002.html'>次のページ</a> | <span style='color:#ccc'>前のページ</span></div>
<a id='bottom'></a>

<BR><BR>
<div align="right"><a href="#top" class="g">▲一番上へ戻る</a></div>
<BR>
<CENTER>
<HR>
Copyright © SmokingWOLF / Silver Second
<HR>
</CENTER>

</div>
<div id='sidebar'>
<div style='font-weight:bold;'>開発日誌</div>
<div><a class='sidebar_link' href='../../archive/top/index.html'>トップへ</a></div>
<div><B><a class='sidebar_link' href='../../index.html'>全記事一覧</a></B></div>
<hr>
<div style='font-weight:bold;'>【最新記事】</div>
<div><a class='sidebar_link_recent' href='../../archive/2025/06.html#2025-06-14'>●06/14 サイト修正＋開発日誌をFC2から移転！</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/05.html#2025-05-31'>●05/31 ウディコン歴史資料館設立！+ ウディタ修正 + GitHubのサイト作り</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/05.html#2025-05-17'>●05/17 ウディタ3.6へ！バグ修正再び！ + 私がいなくなった後に備えて</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/05.html#2025-05-03'>●05/03 再び出てくるウディタ3.5のバグ！ 修正の毎日！</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/04.html#2025-04-19'>●04/19 ウディタ3.5落ち着いた！？ ＆シル幻20周年！</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/04.html#2025-04-05'>●04/05 さよならマイPC、それでも続くウディタ修正の日々</a></div>
<div><a class='sidebar_link_recent' href='../../archive/2025/03.html#2025-03-22'>●03/22 ウディタ3.5開発開始からもうすぐ7ヶ月</a></div>
<hr>
<div style='font-weight:bold;'>【カテゴリ】</div>
<div><a class='sidebar_link' href='../../category/woditor/001.html'>ウディタ&nbsp;<span class='sym'>(30)</span></a></div>
<div><a class='sidebar_link' href='../../category/devlog/001.html'>開発日誌&nbsp;<span class='sym'>(6)</span></a></div>
<div><a class='sidebar_link' href='../../category/etc/001.html'>その他&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../category/owh2dev/001.html'>片道勇者2&nbsp;<span class='sym'>(2)</span></a></div>
<hr>
<div style='font-weight:bold;'>【月別】</div>
<div><a class='sidebar_link' href='javascript:void(0);' id='y2025-btn' onclick="toggleYear('y2025')">2025&nbsp;<span class='sym'>＋</span></a></div>
<div id='y2025' data-yearpane style='display:none;margin-left:10px;'>
<div><a class='sidebar_link' href='../../archive/2025/06.html'>06月&nbsp;<span class='sym'>(1)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2025/05.html'>05月&nbsp;<span class='sym'>(3)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2025/04.html'>04月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2025/03.html'>03月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2025/02.html'>02月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2025/01.html'>01月&nbsp;<span class='sym'>(3)</span></a></div>
</div>
<div><a class='sidebar_link' href='javascript:void(0);' id='y2024-btn' onclick="toggleYear('y2024')">2024&nbsp;<span class='sym'>＋</span></a></div>
<div id='y2024' data-yearpane style='display:none;margin-left:10px;'>
<div><a class='sidebar_link' href='../../archive/2024/12.html'>12月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/11.html'>11月&nbsp;<span class='sym'>(3)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/10.html'>10月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/09.html'>09月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/08.html'>08月&nbsp;<span class='sym'>(3)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/07.html'>07月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/06.html'>06月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/05.html'>05月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/04.html'>04月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/03.html'>03月&nbsp;<span class='sym'>(3)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/02.html'>02月&nbsp;<span class='sym'>(2)</span></a></div>
<div><a class='sidebar_link' href='../../archive/2024/01.html'>01月&nbsp;<span class='sym'>(2)</span></a></div>
</div>
</div>


<script>
// ダブルリンク処理（JSがオンでリンク先が存在するならそこへ、なければアーカイブ側へ飛ぶ）
window.addEventListener('DOMContentLoaded', () => {
  const link = document.getElementById('double-link');
  if (!link) {
    console.error('リンクが見つかりませんでした！');
    return;
  }
  const primaryUrl = link.dataset.primary;

  link.addEventListener('click', (e) => {
    e.preventDefault();

    fetch(primaryUrl, { method: 'GET' })
      .then(res => {
        const url = res.url || '';
        if (!res.ok || url.includes('404.html') || res.status === 404) {
          console.warn('【404または失敗】アーカイブに飛びます');
          window.location.href = link.href;
        } else {
          console.warn('【OK】本家へ接続成功！');
          window.location.href = primaryUrl;
        }
      })
      .catch(() => {
        console.warn('【通信エラー】アーカイブに飛びます');
        window.location.href = link.href;
      });
  });
});
</script>

</body>
</html>