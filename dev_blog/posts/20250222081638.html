<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>ウディタ3.5ベータ　バグ修正だけで終わる日々、一ヶ月経過</title>
<script>
function toggle(id){
 var e=document.getElementById(id);
 if(e.style.display==='none'){e.style.display='block';}else{e.style.display='none';}
}
</script>
</head>
<body>
<h1>ウディタ3.5ベータ　バグ修正だけで終わる日々、一ヶ月経過</h1>
<div>2025-02-22 08:16:38</div>
<div><TABLE padding="15px"><tr><td align="left" style="line-height: 1.5; word-break: break-all;">　ということで前回に引き続きずっっっとウディタ3.5ベータのバグ修正中です！　朝から晩まで基本それだけやっている生活をしています！　口座残高がもたなくなってきてしまう！
　それでも色んな部分の修正が進んでいるので、だんだん問題は減ってきていると思います！
　修正点はこの2週間で81個！　1日平均5個以上！　ってやっぱり多いですよ！！
　なおこっそりベータ公開した1/18からだと全部で修正点が260個以上になりました！　たくさんのご報告、ありがとうございます！！　ヴォオオオ！！

<img src="../image/2025/20250222.jpg" border="1" style="max-width:520px;" loading="lazy">

　本当に何も新ネタがないので、今回もこの2週間の更新履歴紹介です！


<HR>
<span style="font-size:120%;"><B>【Ver3.539 の更新履歴　2025/02/21】</B></span>


<strong>【ゲーム部の修正】</strong>

●【サウンド/不具合】特定条件で「BGS」をフレーム「0」で「停止」すると内部的に消えたことにならないことがあるバグ修正
　（停止後に同じBGSを再生しようとしても再生できないことがありました）



<strong>【エディター部の修正】</strong>

●【全てのTXT読込/不具合】DBやイベントウィンドウでTXTファイルを読み込んだ際、クラッシュする可能性があったバグを修正

●【マップ・コモンイベントウィンドウ】コマンド選択カーソルの色を
　　　　Ver3.537以前の色に修正

●【文章選択肢・条件分岐・ループ系/仕様変更】
　コマンド入力後のカーソル位置を1つめの選択肢内部にするよう修正
 →　慣れてる人はしばらく慣れないかもしれませんが、入力後に
 　カーソル移動不要で入力作業を続けられるようになるので効率的です。

●【DB操作/不具合】下部キャプションにコモンセルフ変数名が
　　　　　　表示されなくなっていたバグを修正

●【DB操作/不具合】「モード」を切り替えると
　　下部キャプションの値が-1になる現象を修正


<HR>
<span style="font-size:120%;"><B>【Ver3.538 の更新履歴　2025/02/20】</B></span>


<B>【ゲーム部の修正】</B>

●【セーブ・ロード操作/不具合】「文章の表示」を行ったまま「ロード」するとクラッシュする可能性があったバグを修正

●【キー入力/不具合】「キー入力受け付け」の「押し続けフレームを得る」にて、「上のみ、左のみ、右のみ、下のみ」キーだけ常に「0」を返していたバグ修正

●【キー入力/仕様変更】「キー入力受け付け」の「押し続けフレームを得る」は「新たに押されたフレーム中」に1を返すように統一
　→　キーボード、パッドは新押しされたフレーム中に「押し続けフレーム」が1になっていましたが、それ以外が1フレーム遅れの値になっていました。

●【F11/不具合】ボーダーレス全画面化したとき、端が全て映ってないことがある問題への調整を試みました
　→　環境によっては直ってないかもしれませんがこれ以上の対応は難しそうです。



<B>【エディター部の修正】</B>

●【マップ編集(プロ版)/不具合】「ゲーム基本設定Pro」で「OK」された際、「一つ戻す」の履歴をリセットするよう修正
　→　「マップの最大レイヤー数」変更後に「一つ戻す」を含む操作を
　　　行うとクラッシュする問題への対策です。

●【エフェクト/不具合】「ピクチャ」のエフェクトの「ディレイ」欄が
　　　　　他のモードでも入力可能になってしまっていたバグ修正

●【セーブ・ロード操作/不具合】右下の「数値を手動入力」が
　　　　　常に有効になっていた問題を修正

●【変数操作・選択肢/調整】デザインを微調整

●【マップ・コモン・データベースウィンドウ/調整】
　「タブ」のサイズがウィンドウサイズ補正に応じて変わるように修正

●【テストプレイ/調整】すでにゲームが起動している場合の
　　　　　最前面化の処理に調整を加えました

●【マップ・コモンイベントウィンドウ/調整】
　コマンド選択中のカーソルが分かりやすくなるよう修正
　（まとめて選択した場合でもクリックを離した位置のみ
　　選択カーソルが出るように）


<HR>
<span style="font-size:120%;"><B>【Ver3.537 の更新履歴　2025/02/19】</B></span>


<B>【エディター部の修正】</B>

●【変数操作/不具合】「右辺」表記が埋もれることがあったのを修正

●【マップ・コモンイベントウィンドウ/調整】いくつかのコマンドの色を調整

●【テストプレイ/調整】Game.exeのプロセスが残っていても
　　Game.exeからの応答が返ってこない場合、
　　新たなGame.exeを立ち上げる処理を追加

<span style="color: #d50000"><B>●【システムデータベースウィンドウ/不具合】
　システムDBでロックされている項目やデータがあっても
　編集可能な操作が残っていたので、それらもロック対象に追加。</B></span>
<span style="color: #42a5f5"> →　これまでずっとウディタのコア部分も致命的な編集が可能になってたので、この機会にしっかりロックをかけるようにしました。
 　なんと17年目にして！！　遅すぎる！！　けど大事！</span>



<HR>
<span style="font-size:120%;"><B>【Ver3.536 の更新履歴　2025/02/17】</B></span>


<B>【エディター部の修正】</B>

●【テストプレイ/不具合】Editor起動時の引数起動で「-f [フォルダ名]」と指定してゲームデータフォルダを変更しているにも関わらず、テストプレイ時のデータフォルダが「Data」フォルダ固定のままになってしまっていたバグ修正
　　→　Ver3.50のテストプレイの仕様変更時に搭載漏れがありました。

●【文字列入力欄/調整】右クリックメニューに「削除」を追加

●【マップ・コモンイベントウィンドウ/調整】コマンド色を調整

●【データベース/不具合】DBのデータ名を「最初の文字列」にしたとき、データ名入力欄がグレーアウトしなくなっていたバグ修正
　　　→　Ver3.534のシステムDB制限の副作用で発生していたバグでした。
　　　
●【DBタイプの設定/修正】「項目の挿入・削除・コピー」の項目数値欄の初期値を1から0に変更



<HR>
<span style="font-size:120%;"><B>【Ver3.535 の更新履歴　2025/02/16】</B></span>


<B>【ゲーム部の修正】</B>

●【バージョン/不具合】Ver3.534に入ってたGame.exeが
　　　　　Ver3.533のものだったミスを修正



<B>【エディター部の修正】</B>

●【システムデータベースウィンドウ/調整】
　システムDB内で、変更してはいけない部分をロックするよう修正。
　→　うっかり変更するとゲームが動作しかねなくなる項目に対する、数値と文字列の切替や、項目の挿入・削除、あるいは、タイプやデータへのCtrl+Shift+F6/F7の挿入/削除などができなくなります。
　今さらながら初心者の方向けの安全対策です。



<HR>
<span style="font-size:120%;"><B>【Ver3.534 の更新履歴　2025/02/16】</B></span>


<B>【ゲーム部の修正】</B>

<span style="color: #d50000"><B>●【変数操作+/新機能】
　「位置」の取得内容に「タイル通行可能方向[1上+2左+4右+8下]」を追加。
　代わりに「キャラ通行可能方向[1上+2左+4右+8下]」を「キャラ」内に移動しました（後述）
 　
●【変数操作+/調整】
　「キャラ通行可能方向[1上+2左+4右+8下]」の項目を「位置」から「キャラ」に移動し、「移動可能方向[1上+2左+4右+8下+16左上+32右上+64左下+128右下]」に強化。</B></span>
<span style="color: #42a5f5">　→　当初から「タイル通行可能方向」を実装するつもりが間違えて「位置」内に「キャラ通行可能方向」を実装していたことに気付いたので修正しました。
　コマンドが「位置」にあると、（キャラを指定していないので）キャラの当たり判定や全歩半歩モードが不明で、正確な通行可能方向取得が困難でした。</span>

●【キャラ画像/不具合】Ver3.533にてT.png、TX.pngのキャラチップの
　　　　　歩行アニメーションがおかしくなっていたバグを修正



<B>【エディター部の修正】</B>

●【起動時/不具合】マップのファイル名が空だった場合、
　　　　マップ0番以降で最初にファイル名があるマップを
　　　　初期状態で読み込む機能が動作してなかったのを修正

<span style="color: #d50000"><B>●【メインウィンドウ/不具合】マップが読み込めなかった場合の画面で上書き保存をするとマップ0番のデータを空データで上書きしてしまうバグ修正</B></span>
　→　さらに、そもそも保存不能な状態では「上書き保存」ボタンが
　　　アクティブにならないようにしておきました
<span style="color: #42a5f5">　→　割と長いこと残ってたかもしれない、マップ0番が空マップで上書きされてしまうバグの要因だったようです。これで直ったらいいんですが。</span>

●【メインウィンドウ/調整】Shiftを押しながら「テストプレイ開始」ボタンを押すと強制的に別プロセスで起動できる機能を追加。
　　　テストプレイボタンが動作しなくなった場合にご利用ください。
　（「テストプレイ開始」アイコンにカーソルを合わせるとShiftキーの説明が出ます）

●【メインウィンドウ/調整】アイコンバーの「マップ設定の変更」と「上書き保存」の間に隙間を追加
　（マップ設定の変更を押す際に上書き保存を押してしまいにくいように）
　「タイルセット設定」ボタンを「一つ戻す」アイコンの右側に独立。

●【メインウィンドウ/調整】アイコンにカーソルを合わせたときの説明を追加。
　　上書き保存は「Ctrl+S」、「レイヤーはキーボード番号キーで変更可能」など。


●【マップ編集/調整】イベントレイヤー時の右クリックメニューの1層目から【「このマップの設定」を開く】をすぐ実行できるよう修正。
　　「新規マップ作成」と「マップ選択ウィンドウを開く」は「その他のマップメニュー」に入っています。

●【マップ編集/調整】イベントレイヤー時の右クリックメニューの「マップチップを手動更新」を「マップチップの画像再読込」に変更して区切り位置を変更しました。

●【システムデータベースウィンドウ/調整】システムDBの場合だけ、「タイプ数の変更」や一部の名前変更を無効にしました（変更しても元に戻るため）。
　その他、タイトルバーに「設定を誤ると危険」といった警告文も追加しました。



<HR>
<span style="font-size:120%;"><B>【Ver3.533 の更新履歴　2025/02/15】</B></span>

<B>【ゲーム部の修正】</B>

●【DB操作/不具合】「XY配列」の「新データ挿入↑」で
　　　「指定X列内の[指定Y列]に挿入する」をオンにした際、
　　　「Y列」指定が内部的にX列と同じになってしまっていたバグや
　　　限界サイズが増えなかったバグを修正

●【DB操作/調整】「XY配列」の「データ挿入」でまだ作られてない位置に「新データ挿入↑」した際はそこまで自動で配列が拡張されるよう修正

●【変数操作+/不具合】「ゲーム基本設定」で「4方向画像」時、「画像なし」のイベントの「キャラ」の「ピクチャパターン」を取得すると8方向前提のピクチャパターンが取得されてしまうバグ修正



<B>【エディター部の修正】</B>

●【メインウィンドウ/調整】アイコンバーの並びを再修正。
　　→　「上書き保存」の場所がウディタ開発者にも使いにくかったので
　 「新規マップ・マップ設定変更・上書き保存　マップ選択　レイヤー1……」
　　の順に変更しました。

●【メインウィンドウ/調整】左上のボタンから新規マップを作成した際、自動で「マップ選択」ウィンドウが「データ更新」されるように修正

●【マップイベントウィンドウ/不具合】「ページ削除」をしてもセーブ可能にならなかったバグ修正

●【ファイル選択ウィンドウ/不具合】タイルセット上でのスクロールによって変なカーソル表示が下部に出てくることがあったバグ修正

●【マップ・コモンイベントウィンドウの検索/不具合】
　「【マップ/コモンイベント名】のみ検索」を行ったとき、一致する語句がないとフリーズしてしまう不具合を修正


<HR>
<span style="font-size:120%;"><B>【Ver3.532 の更新履歴　2025/02/14】</B></span>


<B>【ゲーム部の修正】</B>

●【DB操作】「XY配列」にて、指定X列内に「指定Y列にn個の項目を挿入する」コマンドが実行されたとき、指定されたX列が1以上の時にまれにクラッシュするバグ修正



<B>【エディター部の修正】</B>

●【メインウィンドウ/不具合】レイヤー3ボタンの説明が「レイヤー4」になってたミス修正

●【メインウィンドウ/不具合】「一つ戻す」ボタンの説明が表示されてなかったのを修正

●【メインウィンドウ/不具合】マップを切り替えながらマップ編集している際、「１つ戻る」ボタンで前に開いていたマップ内容が今のマップに呼び出されてしまうバグ修正
　→　マップを切り替えた時点で「一つ戻る」の履歴が消えるようにしました。

●【マップ新規作成/マップ基本設定画面/調整】画面構成を修正。
　　・ループ設定やBGM・遠景等は「登録する」チェックを入れなくても変更可能に。
　　・新規作成時とマップ設定変更時で挙動を変更するように。

●【マップイベントウィンドウ/不具合】条件内の「変数」のプルダウンメニューを切り替えてもセーブ可能にならないバグ修正

●【マップイベントウィンドウ/調整】横幅をさらに縮められるよう修正

●【マップイベントウィンドウ/調整】起動条件のプルダウンメニューの上に「起動条件」の枠線が出てしまう症状をなるべく抑制

●【コモンイベントウィンドウ/バグ】システムDBから「通常変数」などのデータ数を増減させたとき、コモンイベントウィンドウを開き直すと「条件」変数プルダウンメニューの値（の見た目だけ）が勝手に変わってしまうバグ修正

●【マップ・コモンイベントウィンドウ/調整】ウィンドウを縮めすぎたときにガガガガッと動作していたのを、自然な形でサイズ制限されるよう修正

●【検索ウィンドウ/不具合】検索で「【マップ/コモンイベント名】のみ検索」を行ったとき、Shiftを押しながらの逆順検索が機能してなかったバグ修正



<HR>
<span style="font-size:120%;"><B>【Ver3.531 の更新履歴　2025/02/12】</B></span>


<B>【ゲーム部の修正】</B>

●【セーブ・ロード処理/不具合】文字列操作の隠しコード、「＜＜MAKE_EVENT～（空イベント生成）」で生成したイベントがある状態でセーブしたファイルから変数読み込みすると今のイベントがおかしくなるバグ修正



<HR>
<span style="font-size:120%;"><B>【Ver3.530 の更新履歴　2025/02/12】</B></span>


<B>【ゲーム部の修正】</B>

●【文字列操作/不具合】「＜＜MAKE_EVENT～（空イベント生成）」でSHADEの値が-1以下または256以上ならエラーが出るよう修正
　（影の値は最大255までです）

<span style="color: #d50000"><B>●【文字列操作/不具合】「＜＜MAKE_EVENT～（空イベント生成）」で生成したイベントのセーブ・ロード後、正常にセーブ時の情報が読み込まれていなかったり、「＜＜DELETE_EVENT_ID＞＞（空イベント削除）」するとクラッシュするなどのバグ修正
　→　新しいGame.exeでセーブし直さないとこの問題は解消されないのでご注意ください。</B></span>
<span style="color: #42a5f5">→　地獄の空イベントバグ！　本来イベントを動的に増やしたりできる構造で作っていなかったので、空イベント生成を曲芸で実現してしまっているがゆえに原因解明も難しいバグがどんどん出てきます。</span>

●【文字列操作/不具合】「＜＜DELETE_EVENT_ID＞＞（空イベント削除）」で「元からマップ上にあったイベント」まで削除できてしまうバグ修正



<B>【エディター部の修正】</B>

●【マップ選択/調整】マップ切り替えを高速化、かつマップ移動時に以前のようにマップイベントウィンドウを閉じるように。
　　（マップ切り替え時の移行が安定しなかったため）
　　また、マップ切り替え時に白い画面に一時切り替わってしまう現象を修正。



<HR>
<span style="font-size:120%;"><B>【Ver3.529 の更新履歴　2025/02/10】</B></span>


<B>【ゲーム部の修正】</B>

●【システム変数/新機能】システム変数に以下を追加。
　　　Sys155「[読]ｷｬﾗｸﾀｰ移動可能方向[4/8] ※ｹﾞｰﾑ基本設定」
　　　Sys156「[読]ｷｬﾗｸﾀｰ移動幅[0=0.5/1=1ﾏｽ] ※ｹﾞｰﾑ基本設定」
　　　Sys157「[読]横方向の字詰めピクセル[px] ※ｹﾞｰﾑ基本設定」
　　　Sys158「[読]改行の間隔[px] ※ｹﾞｰﾑ基本設定」
　　　Sys159「[読]選択肢の改行間隔 ※ｹﾞｰﾑ基本設定」
　　それぞれ「ゲーム基本設定」で設定された値を取得できます。



<B>【エディター部の修正】</B>

<span style="color: #d50000"><B>●【エディターオプション/新機能】ウィンドウ倍率に「アイコン」を追加。
　メインウィンドウ上部のアイコンのサイズを「自動サイズ」「100%固定」「150%固定」「200%固定」に切りかえできます。</B></span>
<span style="color: #42a5f5">→　アイコンが小さすぎて選びにくいんですけど！　という人もこれでいくらか安心です！</span>
<img src="https://silversecond.net/data/p_diary5/20250222A.jpg" border="1" style="max-width:520px;" loading="lazy">


●【エフェクト/調整】「キャラ」のエフェクトの「ピクチャリンク」の連動選択肢の中の、「XY拡大連動」を「XYｽﾞｰﾑ連動」に名称変更しました。
　（マップズームとの関連性が伝わりにくかったため）

●【マップ・コモンイベントウィンドウ/不具合】回数付きループ「0回」をコマンド挿入ウィンドウから入れると再クリックするまでその下のコマンドが緑色になるバグ修正



<HR>
<span style="font-size:120%;"><B>【Ver3.528 の更新履歴　2025/02/09】</B></span>


<B>【ゲーム部の修正】</B>

<span style="color: #d50000"><B>●【自動移動・隠しコードの経路探索/不具合】Ver3.527にて、「自動移動」または「経路探索<<FIND_PATH_～>>」の処理において、クラッシュの可能性が発生していたのを修正</B></span>
<span style="color: #42a5f5">→　自動移動もクラッシュとバグの温床！　ずっと使いやすくなるように微調整を加えています。</span>


<HR>
<span style="font-size:120%;"><B>【Ver3.527 の更新履歴　2025/02/09】</B></span>


<B>【ゲーム部の修正】</B>

●【ピクチャ･変数操作+/不具合】任意の文字列をピクチャとして表示した後、同じピクチャIDで空白文字列を表示したとき「変数操作+」で取得できる画像サイズ（横・縦）が0にならず前の値を引き継いでしまうバグを修正
　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」で「旧Ver3.390時点の挙動で動作」に設定すると以前の挙動に戻せます。

●【動作指定/不具合】「主人公」が「自動移動[スマート]」を行う際、
　　　　　　「画像なしイベント（すり抜けOFF）」を通行不能と
　　　　　　認識してしまっていたバグを修正
　　→　なおマップイベントは「(すり抜けOFFの)画像なしイベント」上を通れないので、通行不能と認識します。

<span style="color: #d50000"><B>●【動作指定/不具合】「自動移動[スマート]」を行う際、「1マスの細さの道」の目標地点に(マスの区切りから)半歩ずれているイベントや主人公がいると到達不能扱いになり小迂回しなくなるバグを修正</B></span>
　　→　ただし「【複数キャラ】が半歩ずれでゴール付近に重なっている」などの複雑な状況になると、それらのイベントの当たり判定があるとみなされてやはり到達不能扱いになります。こういった状況は今のところカバーしきれないので、現状では仕様です。
<span style="color: #42a5f5">　→　自動移動の修正は毎回大変です！</span>

<span style="color: #d50000"><B>●【動作指定/不具合】特定状況で、「自動移動[スマート]」で目標地点まであと半歩の状況で隣接マスを行き来して振動するような状態になってしまうバグを修正</B></span>



<B>【エディター部の修正】</B>

●【上部アイコン/調整】試験的に「マップ設定」と「マップ選択」をアイコンバーの左側に移動してみました。
　→　「マップ選択」ボタンの従来の場所が、多くの人がマップ選択ウィンドウを置くであろう「左側」からだいぶ遠かったのと、「マップ設定」ボタンが直感的でない場所に埋もれていて分かりにくかった気がしたためです。
　→　すでに慣れてくださっていた方には慣れ直しが必要になってしまうと思いますが長期的に見て有用な修正だと思いますのでどうかご協力ください。
　　（私もマップ設定とマップ一覧のアイコンを探すのにときどき迷っていたので）


●【上部アイコン/調整】「マップ選択」「各データベース」「コモンイベントウィンドウ」が開いている最中はそのアイコンがオンになるように修正

●【動作指定/調整】動作指定コマンド欄の横幅を少し延長



<HR>
<span style="font-size:120%;"><B>【Ver3.526 の更新履歴　2025/02/08】</B></span>


<B>【ゲーム部の修正】</B>

<span style="color: #d50000"><B>●【起動時/調整】「読み込まれた外部フォント」に含まれるフォント名がより高確率で検出できるように修正。
　検出されたフォント名は「英語名」で表示されるようになります。
　→　英語名フォントの方が海外OSでも動作させやすくなるためです。</B></span>
<span style="color: #42a5f5">→　これ！　フォントがちゃんと読み込まれたか分かりますし中に入ってるフォントも見られるようになります！　便利度大幅アップ！</span>

<span style="color: #d50000"><B>●【文字列操作/不具合】並列マップイベントから隠しコード「空イベント生成<<MAKE_EVENT～>>」で一定個数以上イベント生成すると1万個に到達していないのにクラッシュするバグを修正
　
●【文字列操作/不具合】「空イベント生成＜＜MAKE_EVENT～＞＞」で空イベント生成後、セーブ・ロードしてそのイベントを起動させようとするとクラッシュする不具合を修正</B></span>
<span style="color: #42a5f5">→　空イベント機能になにが起きてるんだー！！！　ってなってました。</span>


●【場所移動/不具合】「移動後の向き」の「右上（9）」が反映されないバグ修正


<HR>
　といった感じで、バグの修正だけでなくて使いやすくするための修正もついでにぼちぼちやっております！　私も使いますからね！
　色んなものがキツくなってますが早く落ち着かせたいです！

　まだ確定申告もできてない！　稼ぐための作業が何もできてない！　心もつらい！！
　うまいこと休み休みやっていって自分の管理もしっかりやりつつ、引き続き頑張ります！</td></tr></table></div>

</body>
</html>