<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>ウディタ作品、ブラウザ展開への道！</title>
<script>
function toggle(id){
 var e=document.getElementById(id);
 if(e.style.display==='none'){e.style.display='block';}else{e.style.display='none';}
}
</script>
</head>
<body>
<h1>ウディタ作品、ブラウザ展開への道！</h1>
<div>2022-03-12 11:50:47</div>
<div><span style="font-size:large;"><strong>【ウディタ作品、ブラウザ展開への道！】</strong></span>

ということでついに情報公開！
なんとウディタ製のゲームが『ブラウザ』や『スマホ』へ
展開できるかもしれない話が出てきました！

今回出てきたもの、その名も <span style="font-size:large;"><strong>『Woditor Web Player』</strong></span> （たぶん仮名）！
その作者さまは、ウディタ公式にある『tkool2WOLF』や
『グラフィック合成器』を作られた　<a href="https://ci-en.net/creator/12702" class="red">Rikka様(Ci-enページ)</a>　です！
私だと技術的に乗り越えるのが困難だった話なので本当に感謝の限りです！

<hr size="1" />
<span style="font-size:large;"><strong>【とりあえず動いているところが見たい】</strong></span>

ただいま、「ゲームアツマール」というブラウザゲームアップロードサイトに
ウディタのサンプルゲームがアップされています！
スマートフォンでも遊べます。
↓
<iframe src="https://game.nicovideo.jp/atsumaru/externals/thumb/gm24837" scrolling="no" style="border:0;width:312px;height:176px" frameborder="0"><a target="_blank" rel="noopener" href="https://game.nicovideo.jp/atsumaru/games/gm24837">「ウディタをブラウザで動かすやつ」デモ</a></iframe>

動作に関しては、「PC」や「最近のそこそこのスマホ」でしたら軽快に動く感じで、
「古めのスマホ・性能低めのスマホ」だとキツい、という感じだそうです。

私が持っている「Pixel4a」というスマートフォンだと、
サンプルゲームだけでなく、試しに動かしてくださった『片道勇者』も
ほぼ困らない速度で動作することを確認済みです。
常に重い処理してると思ったのにすごい！
とはいえ、さすがに処理量が多い『片道勇者』の方は、
NPCが多く出現したときなどに
まれに少しの処理落ちを感じるくらいの重さはあります。

<hr size="1" />
<span style="font-size:large;"><strong>【仕様について】</strong></span>

『Woditor Web Player』の仕様について、
端から見ていて知った情報をいくつか紹介させていただきます！

技術的なことはさっぱりなので、詳しいことは開発者の<a href="https://ci-en.net/creator/12702/article/609630" class="red"><strong>Rikka様の記事</strong></a>などをご覧ください。


<span style="font-size:large;"><strong>●ゲームデータはそんなにいじらずアップできるかも！？</strong></span>

ゲームアツマール用のカスタマイズをまったくしないなら、
ゲームデータそのものはあまりいじらなくてもいいっぽい？
というニュアンスの話を聞いたような気がします！　間違ってたらすみません！

もちろん、そのゲームデータをツールでアレコレする作業や、
実行環境を整える作業などは必要になると思います。


<span style="font-size:large;"><strong>●暗号化ファイルのままアップロードできる！</strong></span>

重要！　生データのまま配布しちゃいけない素材があった場合でも、
ウディタ本体による暗号化がされた状態のままでアップロードできるので安心です。


<span style="font-size:large;"><strong>●MIDIもいちおうそのままで再生可能！</strong></span>（楽器の音はちょっと変わります）

MIDIファイルは、OGG形式などに変換せずともいちおうそのまま再生可能です！
ただし音源は権利的に安全な、ちょっと違う音源のもので再生されるので、
やれるならOGGに変換したほうが元の音を再現できます。
気になる人は変換した方がいいようですが、
そういうコストをかけたくない人はそのままアップできる選択肢があるのが強い！


<span style="font-size:large;"><strong>●画面のパッド機能はHTMLで書かれていて改造もできる！？</strong></span>

HTMLをいじればオーバーレイのボタンをカスタムすることもできる、らしい！
という話を耳にしています。実際、『片道勇者』用に試しにCTRLキーを入れてもらえました。
つまり普段使わないキーを使って遊ぶゲームも安心！

もちろん、キーを使わないゲームならこのHTMLオーバーレイボタンを取っ払って
マウス専用ゲームにもできると思います。


<span style="font-size:large;"><strong>●アツマールでのセーブ周りがちょっと大変、らしい！</strong></span>

「PCなら数百KB、大きくても数MBくらいもう誤差でしょ！」と、
容量のことをあまり考えずに作った私のセーブフォーマットのせいで、
アツマールにアップするゲームのセーブ容量が
キツいことになってしまっているそうです。

なのでセーブデータのサイズを大幅に減らせる工夫を
すでに色々してくださっているのですが、それでもまだちょっとサイズが大きい！
そもそもアツマールさんちに入るセーブ容量がすごく小さい！
（公式資料によると一般ユーザが使えるのは90ブロック=90KBくらいのようです。
サンプルのセーブが35KBで35ブロックくらい使う！）

最悪、「ゲーム作者さま側で自作セーブデータ機能を作った方が軽い」、
なんて状況も出てくると思いますので、
ウディタリアンのDIY精神に頼らせていただく部分も出てくるかもしれません。
（例えば1本道RPGなら、「主人公らのパラメータ・アイテム」と
「保存しておくべきフラグ」だけを保存するようにすれば
1セーブが数KB以内におさまるかも？）

いい感じの自作セーブコモンイベントを作ってくださる方にも期待！
とにかくこのセーブデータ周りは、アツマールへのアップにあたっては
特にチューンが必要になる予感がします。

いちおう、ブラウザ側のローカルストレージにセーブする方法があるらしくて、
それを使えば数MBのデータでも保存できるみたいですが、
こっちはブラウザのキャッシュを消すとなくなってしまうようです。
どのみち、セーブ周りは色々と苦労がありそうです。



<span style="font-size:large;"><strong>●ブラウザ化さえできればスマートフォンにも出せるらしい！</strong></span>

『RPGツクール』のMVやMZなどでスマートフォンアプリ化を実現する方法と同じく、
一度HTMLで動くゲームにできればなんやかんやして
スマートフォンアプリにできるそうです！

そこまでやる方がどのくらいいらっしゃるかは不明ですが、
このプロジェクトがうまくいけば展開の限界値が
大幅に伸びるのはまちがいなさそうです、これはうれしい！


<hr size="1" />
<span style="font-size:large;"><strong>【今後の話　本体への複数タッチ判定機能の搭載】</strong></span>

で、これはウディタ本体側の話なのですが、
ブラウザ展開、特にスマホに展開するにあたって、
『複数タッチ位置取得機能』が必要になってくるかもしれないので
ウディタ本体への搭載を検討しています。

今のブラウザ版で「オーバーレイ（HTML側）のボタンをはずした」場合、
おそらく「タッチした箇所」をゲーム内の「マウス左クリック」として
認識してくれそうな雰囲気なのですが、複数の同時タッチは処理できないはずです。
そもそもウディタ本体の方が「2点同時タッチ」の受け付けに対応していませんからね！

ですが「X点同時タッチ判定」機能が搭載されれば、スマートフォン用に、
ゲーム内に自前で「タッチ式の方向キー＆ボタン」機能を作れたりするわけです。
完全自作ウディタリアン的には、HTMLをいじってキー機能を搭載するよりも
ゲーム側に搭載してしまった方が分かりやすい状況もあるかもしれません。

もちろん、処理の都合などで実現できない可能性もかすかにあるので、
この辺はあまり期待せずにお待ちください！
ブラウザ側と連携して実装する必要がある話ですからね。

<hr size="1" />
<span style="font-size:large;"><strong>【よければご支援を！】</strong></span>

そしてこのプロジェクトなのですが、貴重な時間を使って
開発してくださっているRikka様の方で支援を募っておられます！
ブラウザ化プロジェクト応援のために、よければぜひご支援をお願いします！
↓
<a href="https://ci-en.net/creator/12702" class="red"><span style="font-size:large;"><strong>【Rikka様　Ci-enページ】</strong></span></a>

（資金の支援プランに参加されると追加課金なしで
「ブラウザ化ツールの完全機能版をもらえる」以外にも、
フォローしておくだけでも新情報が入ってきて便利！）



Rikka様によると、
「まだまだ開発中で、一般利用もテスト配布もまだ先になりそうです」
とのことですが、ウディタのブラウザ・スマホ展開への第一歩は動き出しました！
今後もお楽しみに！

最新情報は↑のCi-enページが一番早いと思いますので、
気になる方はぜひフォローを！</div>

</body>
</html>