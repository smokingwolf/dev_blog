<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>ウディタ3.5こっそりベータ中、20日毎日修正してもバグが止まらない！</title>
<script>
function toggle(id){
 var e=document.getElementById(id);
 if(e.style.display==='none'){e.style.display='block';}else{e.style.display='none';}
}
</script>
</head>
<body>
<h1>ウディタ3.5こっそりベータ中、20日毎日修正してもバグが止まらない！</h1>
<div>2025-02-08 08:34:29</div>
<div><TABLE padding="15px"><tr><td align="left" style="line-height: 1.5; word-break: break-all;">　ということでウディタ3.5こっそりベータを公開してから約三週間が経ちました。<span style="font-size: 150%"><span style="color: #d50000"><B>20日で25回更新して185個</B></span></span>の修正点がありました。

　が、今でも<span style="font-size: 150%"><B><span style="color: #d50000">毎日平均7件</span></B></span>くらいのペースでバグが出続けており一般公開どころではありません！！　この2週間ですら新たに<span style="color: #d50000"><span style="font-size: 150%"><B>100個以上</B></span></span>も修正点が発生しています！
　本当に朝から晩まで一生懸命バグを直し続けて他に何もできない生活が20日くらい続いているので大変です！

<img src="../image/2025/20250208.jpg" border="1" style="max-width:520px;" loading="lazy">

　どうしてこんなもの作っちゃったんだ感もありますが、今は元気だし夜もちゃんと寝てるので20日くらい超全力作業してもまだ平気です！　さすがに心は少し疲れてきたかもしれませんね！

　ということで、進捗報告として出せる目玉情報や面白い話などは何もないので、ここ2週間の修正履歴でも貼ってお茶をにごしておきます！
　修正が難しかったところは赤文字にしておきました。

<HR><BIG><B>　Ver3.525 の更新履歴　2025/02/07</B></BIG>
<HR>
【ゲーム部の修正】

●【緑帯エラー/調整】イベント内で行われていない処理の緑帯エラーの場合は
　　　　エラー発生行の代わりに「イベント処理[外]で問題が起きました」と
　　　　出すように修正

●【ピクチャ/調整】「分割数が画像サイズより大きすぎます」エラー時、
　　　　　その表示しようとしたファイル名も表示するように修正

<span style="color: #d50000"><B>●【ピクチャ/不具合】特定状況で「ピクチャ番号がマイナス」のピクチャで
　　　「<MAP_SCREENSHOT>」を表示しようとしたとき、サイズ0,0と認識されて
　　　「分割数が画像サイズより大きすぎます」エラーが出るバグを修正</B></span>
<span style="font-size: 80%">　→　なお1フレーム中の描画において、「マップが描かれきる前」のタイミング、つまりマイナスのピクチャ番号で<MAP_SCREENSHOT>を表示しようとした場合、そのフレーム中には正常に描画されないことがあります。
　　(次のフレームになるとマップが期待通り表示されると思います)</span>



【エディター部の修正】

●【DB操作/不具合】「データ番号」や「項目番号」欄にフォーカスを合わせても
　　　　　下部キャプションに説明が出なくなっていたバグ修正

●【コモンイベントウィンドウ/不具合】『クリップボード→イベントコード貼り付け』を行うと、「一つ元に戻す」をしても戻らないバグを修正

<B><span style="color: #d50000">●【コモンイベントウィンドウ/調整】「一つ元に戻す」が従来は
　　　　「貼り付け・削除」にしか機能しないようになっていたのを、
　　　　全てのコマンド入力・修正にも適用されるよう修正</span></B>
<span style="color: #2962ff">→　一つ戻る、がコモン内のイベントコマンド操作のほぼ全処理に適用可能に！　ちょっと便利になります！
　元は妥協実装として貼り付けと削除のみに対応していたのですが、さすがに10年以上も成長すると少ない手数で直せる方法をすぐ思いつけるようになっていました。</span>
　
●【マップ選択/不具合】マップを切り替えた直後、イベントウィンドウの表示が
　　　　　古いマップの内容のままになっていた現象を修正

●【データベースウィンドウ/調整】項目名表示の自動改行位置を微調整


<HR><BIG><B>　Ver3.524 の更新履歴　2025/02/06</B></BIG>
<HR>
【ゲーム部の修正】

<B><span style="color: #d50000">●【文字列操作/不具合】隠しコードの自動改行処理。
　　「<<AUTO_RETURN_STRING_WIDTH_COUNT=??>>」を使うと特殊文字が消えてしまうバグを修正。</span></B>
<span style="color: #2962ff">　→　うっかり特殊文字を消してから処理してました。が、特殊文字を残そうとするだけで抜本的に処理の仕方を大規模修正しなきゃいけなくて大変なことに！　特殊文字なしだったら普通にAIにコード作ってもらえるんですけどもね。</span>


●【Altキー/調整】Ver3.523でAltキーでゲームが止まる現象を修正しましたがウィルス扱いされやすくなることが分かったので元に戻しました。
　→　Alt無視はライブラリ内の機能だったのですが、よく調べたらTempフォルダにDLLファイルを作ってGame.exeにフックするという、セキュリティソフトに疑われやすい処理でした。




【エディター部の修正】

●【マップイベントウィンドウ/不具合】「マップウィンドウ拡大率」をエディターオプションで拡大縮小したとき、画像欄の文章の文字サイズが変わらなかった問題を修正

●【マップ・コモンイベントウィンドウ/調整】条件分岐やループのコマンド色を黒寄りに再変更

●【コモンイベントウィンドウ/不具合】Ctrl+Shift+F6/F7で抜き差しした後、開いていない他のタブに切り替えると別のコモンになっているバグを修正



<HR><BIG><B>　Ver3.523 の更新履歴　2025/02/05</B></BIG>
<HR>
【ゲーム部の修正】

<B><span style="color: #d50000">●【ピクチャ/不具合】ピクチャの<MAP_SCREENSHOT>や<MAP_SCREENSHOT>を「表示」するたびにスプライトが無限に増えていくバグ修正</span></B>
<span style="color: #2962ff">　→　スプライト無限系バグはどこで増えてるのか調べるのが本当に大変です。</span>
　
<B><span style="color: #d50000">●【ピクチャ・エフェクト/不具合】初めてマスク処理を使ったのと同じフレーム中に「ピクチャ表示」とそれへの「変換系エフェクト」を使うとそのピクチャが表示されなくなることがあるバグ修正</span></B>
<span style="color: #2962ff">　→　完全に必要最低限の再現条件を教えてくださってたのに直すべき箇所やロジック間違いが全然見つからなくて絶望しました。結局、実はマスク処理をONにせずとも何らかの「最初の1回目のマスク処理」を行うとライブラリ上の処理で勝手にマスクがONになってたみたいで、その直後にエフェクトされた画像を作るときに勝手にマスクがかかって「無のエフェクト済画像」を作ってたのが原因でした。</span>
　
●【動作指定/不具合】ゴール地点から半歩下にいるときに自動移動の[単純]または[スマート]を行うと上でなく1歩左上に移動してしまうことがあるバグ修正

●【F7ピクチャ一覧/不具合】ピクチャリンクした「自由変形」ピクチャについて、F7ピクチャ一覧画面内でリンク補正が反映されていなかったバグを修正

●【Altキー/調整】Altキーでゲームが止まる現象を修正(しましたがウィルス扱いされるのでVer3.524で取り消し）




【エディター部の修正】

●【ゲーム基本設定/不具合】「システム言語」の文章位置がずれていたのを修正

●【マップ編集/不具合】イベントの移動・削除や、マップ編集中の
　　　　　　　　レイヤー切り替え・スクロールで選択カーソルが
　　　　　　　　画面に残ってしまう現象を修正


<HR><BIG><B>　Ver3.522 の更新履歴　2025/02/04</B></BIG>
<HR>
【ゲーム部の修正】

●【キャラ画像･文字列操作/不具合】XY_IMAGE指定と空イベント生成を使うと、
　　　　XY_IMAGE指定したキャラ画像が急に消えることがあるバグ修正

●【キャラ画像/不具合】キャラクター画像読み込み失敗時の緑帯中に
　　　　F12を押すとクラッシュする現象を修正


<B><span style="color: #d50000">●【フォント/仕様変更】 システム上は存在しないフォントでもゲーム内で表示できてしまうことが判明したため、「Game.exeバージョン挙動」が3.50以上の場合や、「個別暗号化フォント」を使用していた場合は、フォントがなくても強制的に使用を試みるように仕様修正しました。</span>
<span style="font-size: 80%"><span style="color: #d50000">→　「個別暗号化したフォント」を読ませてもシステム上は認識されないのですが、ゲーム内では使用可能になっていたための対応です。
→　この仕様変更により、「存在しないフォント」が指定されていた場合はどんな場合でも「ＭＳ ゴシック(あるいは言語別の代替フォント？)」で表示されます。これはライブラリ、ないしWindowsの処理です。</span></span></B>
<span style="color: #2962ff">→　これ、「指定された名前のフォントがあるか」を確かめる手段がWindows上でなぜかまるでなくて絶望しました。「このフォントある～？」ってWindowsに聞いたら「あるよ～」って言って別フォント出してきたり（代替フォント機能）、名前が同じまま見た目が違う代替フォントがロードされてたり、システム上フォントが見つからないのにEXE内で指定するとなぜか使えたりとカオスでした、ひどい。結局フォントの有無チェックはせず、見つからなかったら<<?>>マーク付ける（けど強引に使用させてみる）という↓の形にしました。</span>
　　


●【システム文字列/仕様変更】「Game.exeバージョン挙動」が3.50以上の場合や、
　　　「個別暗号化フォント」を使用していた場合、
　　　プロ版のSysS62～67「フォント上書き」文字列に格納されたフォント名が
　　　システム上見つからなかった場合は先頭に「<<?>>」が付くように修正
　　　（例：「<<?>>ＭＳ ゴシック」など）
　→　「個別暗号化フォント」は、読み込ませてもシステム上は認識されません。
　　　そのため、SysS62～67に暗号化フォントで追加されたフォント名を指定しても
　　　常に<<?>>が付きますが、表示自体は正常にできてしまうことが多いです。


<B>●【起動時/修正】外部フォントファイルを読み込んだ場合、フォントを認識できた場合は<span style="color: #ff6d00">その中に入っているフォント名一覧を「デバッグウィンドウ」に表示するように修正</span>（起動時に「デバッグウィンドウ」がオンの場合のみ）</B>
<span style="font-size: 80%">　→　ただしシステム上認識できない都合で、「個別暗号化フォント」を読んだ際のフォント名一覧は表示できません。
　→　すでに自分のOS内にインストールされているフォント名は認識されません（新たに増えたフォントとの差分で表示しているため）</span>
<span style="color: #2962ff">　→　フォントファイルの中に入ってるフォント名がデバッグウィンドウに出る機能はちょっと便利です。といっても私としては日本語名フォントじゃなくて英語名で出したかったんですが、それで出せる方法を試したらそっちはうまく検知できませんでした（なぜ英語フォント名がいいかというと、英語でフォント入れると海外OSでも読める可能性が高くなるため）</span>
　
●【イベント起動/不具合】「イベントと接触」起動のイベントのページが
　　　　　どれも条件を満たさなくなったにもかかわらず、
　　　　　決定キーで起動できる状況があったバグ修正
　　　→　おそらくVer3.519あたりから起きた不具合です。




【エディター部の修正】

●【マップ編集画面/不具合】最大化などをしたとき、マップ画面サイズが一定だと真っ黒に表示されてしまうことがあるバグ修正

●【マップ編集画面/不具合】マップウィンドウを大きくしていったとき、スクロールバーをドラッグしても動かなくなることがあるバグ修正



<HR><BIG><B>　Ver3.521 の更新履歴　2025/02/03</B></BIG>
<HR>
【ゲーム部の修正】

●【キャラクター画像/不具合】<XY_IMAGE～>でキャラ画像を連続で指定したとき、特定状況でキャラが表示されなくなるバグ修正

●【変数操作+/不具合】隠しコード「空イベント生成<<MAKE_EVENT～>>」でイベント生成したのと同じフレーム内に「キャラ」の「現在ピクチャパターン」を取得すると異常な値が入っているバグを修正

●【動作指定/不具合】「自動移動[大負荷]」で目標地点直前に変な移動を
　　　　　　　　することがあったバグ修正

●【個別ファイル暗号化/不具合】個別暗号化したファイルを[ピクチャ]等で読み込むと
　　　　　　　　キー間違いエラーが出て読み込みできなかったバグを修正

●【起動時/調整】起動時に読み込んだ「フォントファイル」名を
　　　　　デバッグウィンドウに表示するように修正
　　→　最初からデバッグウィンドウありで起動した場合のみ表示されます。



【エディター部の修正】

●【マップ編集ウィンドウ/不具合】マップ拡大率を切り替えた際、
　　　右と下にあるスクロールが更新されなかったバグを修正
　→<HR><BIG><B>　Ver3.520でマップ読込処理を高速化するために</B></BIG>
　　　スクロール更新回数を最小化したことによる副作用でした。

●【コモンイベントウィンドウ/不具合】「折りたたみ」された場所より下で
　　　　　　削除や切り取り・貼り付け操作を行った後「一つ元に戻す」をすると
　　　　　　折りたたんだ行数だけ戻る位置がずれるバグを修正

●【個別ファイル暗号化/調整】フォントを暗号化したとき、
　「【△】 フォントなので【全てキーなし】で暗号化されました。
　　※ゲーム起動時、フォントはあらゆるキーの設定なしに自動で読み込まれます」
　という文言に修正。「※」以降を追記してフォントの扱いを分かりやすくしました。


<HR><BIG><B>　Ver3.520 の更新履歴　2025/02/02</B></BIG>
<HR>
【ゲーム部の修正】

<B><span style="color: #d50000">●【キャラクター画像/不具合】<XY_IMAGE/～>でキャラ画像を指定したとき、
　　　　同一キャラに対して行ってもスプライトが無限に増えていくバグ修正、
　　　　ならびに、ときどき勝手に最新のXY配列の内容にしたがって
　　　　画像が勝手に書き換わってしまうバグがあった部分を修正</span></B>
<span style="color: #2962ff">　→　XY配列画像と空イベント生成機能は曲芸で作ってたので、実は処理がメチャメチャです。これからも色んな問題が起きそうでゲッソリ。</span>


●【キャラクター画像/調整】<XY_IMAGE/～>でキャラ画像を指定したときの
　　　　　　　　画像読み込み速度が推定2倍くらいに高速化しました

●【キャラクター画像/調整】「<」から始まるファイル名を指定したとき、
　　　　　　　間違った指定でもエラーが出なかった問題を修正

●【エフェクト/調整】「キャラ」のエフェクトの「重ねキャラチップ変更」で
　　　　　指定できないファイルを指定したときはエラー表示後、
　　　　　そのファイル名情報を消すよう修正
　→　従来は表示できないキャラチップ画像の情報が残ってしまっていました

●【ピクチャ】同じピクチャ番号で<XY_IMAGE/～>を「表示」するたびに
　　　　F8画面の「画像数」が無限に増えていってしまうバグを修正

●【キー入力/不具合】「キー入力受け付け」の「キーボード全キー」と
　　　　「パッドボタン」にて、「押されるまで【待つ】」にしても
　　　　最初からそのキーを押しっぱなしで受理されてしまうバグを修正

●【システム変数/不具合】Configの[全画面モードB]のとき、
　　　　「Sys138:画面ﾓｰﾄﾞ[ｳｨﾝﾄﾞｳ:0/仮想全:1/全:2]」が「2」を返すはずが
　　　　「0」を返してしまっていたバグ修正



【エディター部の修正】

●【起動時/不具合】前回終了時に開いていたマップが開けなくなることがあるバグの
　　　　　　　　修正を試みました
　　→　ついでに、マップファイル名が空のマップを開こうとしていた場合、
　　　　システムDB内で最初にマップがある番号を自動で読み込むように修正

●【マップ選択ウィンドウ/不具合】マップ切り替え時などに非常に長い待ち時間が
　　　　　　　発生することがあったバグの修正を試みました

●【キー入力/調整】「パッド（300～）」という表記を「パッド（301～）」に変更
　　　　　→　パッド300番のボタンは受け付けされないため



<HR><BIG><B>　Ver3.519 の更新履歴　2025/02/01</B></BIG>
<HR>
【ゲーム部の修正】

●【ゲーム基本設定/不具合】Ver3.50以前のゲームデータを読み込んだとき、
　　　　　　　「ピクチャ挙動Ver1」になっていなかったバグを修正
　　→　古いゲームデータを最新のGame.exeで実行したときに
　　　　改行幅などが変わってしまう問題が起きてしまっていました

●【動作指定/不具合】自動移動「スマート/大負荷」において半歩移動時、
　　　　最後の半歩移動で変な向きに1歩移動してしまうことがあるバグ修正

●【マップイベント/不具合】条件を満たさないイベントの場所で決定キーを押すと
　　　　最後に出ていたページのイベント処理が実行されるようになってしまっていた
　　　　バグを修正
　　→<HR><BIG><B>　Ver3.510以降の生成イベント絡みのバグ修正によって発生していました。</B></BIG>



【エディター部の修正】

●【データベースウィンドウ/不具合】DB画面で、ページの大きいタイプから
　　　　ページの小さいタイプに移ったときメモ欄が更新されないバグ修正



<HR><BIG><B>　Ver3.518 の更新履歴　2025/01/31</B></BIG>
<HR>
【ゲーム部の修正】

●【変数操作+/不具合】「仲間」の「移動中？[1=YES]」が状況にかかわらず
　　　　　　常に1か0のどちらかを返す異常な状態になっていたバグを修正

●【文字列操作/不具合】「場所移動」してから「空イベント生成<<MAKE_EVENT～>>」を行うとクラッシュするバグを修正

●【ピクチャ/不具合】「ゲーム基本設定」で「ピクチャ挙動Ver1」にしているとき、
　　　　　ファイル名に\cself[10]などの代入特殊文字を入れて「表示」しても
　　　　　画像が切り替わらなくなっていたバグを修正



【エディター部の修正】
●【マップ選択ウィンドウ/調整】マップが開けなかったときは
　　　　　元の場所にカーソルが合うように修正

●【マップ選択ウィンドウ/不具合】空のデータ名だとマップの「コピー」が
　　　　　　　できなかったバグを修正

●【マップ作成/調整】「OK」したとき、ファイル名として入力不能な文字を
　　　　　　エラーを出した上で削除するよう修正

●【マップ作成/不具合】新マップを作った際、マップサイズが最低値の10、8未満に
　　　　なっていることがあった問題を修正

●【変数操作+/不具合】「その他」の「ﾏｳｽ左/右/中ｸﾘｯｸ状態(平常=0,押=1,新押=2)」を常時表示するように修正
　→　「修正」時だけ表示するようにしていましたがキー入力側とは
　　　挙動が違うコマンドだったので入れ直しました。

●【マップイベントウィンドウ/調整】画像欄が空の場合に
　「（[画像なし]だと主人公のみ通れてEvは通れなくなります）」
　と表示するよう修正
<span style="color: #2962ff">　→　画像なしのイベントは「主人公しか通れなくなる」という点、誰でも引っかかりやすい割に重要ポイントだったのでエディター側に書いておきました。透明イベントは、他のイベントが入ってこられない場所を作るのに便利です。（もちろん、「すり抜け」オンにすれば全キャラ通行可能になります）</span>




<HR><BIG><B>　Ver3.517 の更新履歴　2025/01/30</B></BIG>
<HR>
【ゲーム部の修正】

●【ゲーム基本設定/調整】「字詰め」や\-[?]があると「選択肢」のカーソル幅が
　　　　　文字幅分より小さくなってしまう現象を修正
　→　「ゲーム基本設定」の「Game.exe動作バージョン調整」で
　　　「旧Ver3.390時点の挙動で動作」に設定すると以前の表示に戻せます。

<B><span style="color: #d50000">●【文字列操作/不具合】特定条件で「空イベント生成<<MAKE_EVENT～>>」を使用したときクラッシュすることがある不具合を修正</span></B>
<span style="color: #2962ff">　→　さっきも言いましたが空イベント生成機能は本当に鬼門です。</span>

●【DB操作/不具合】データベース側の「データIDの設定方法」を「指定DBの指定タイプ名から」にしてると、「データ名取得」時にエラーが返るバグ修正

●【DB操作/仕様変更】「変数へ代入」時、タイプ・データ・項目が文字列変数（ｺﾓﾝｾﾙﾌ5～9や文字列変数S0～）で「タイプ名/データ名/項目名 取得」にしてあった場合、「タイプ番号/データ番号/項目番号 取得」の処理になるよう修正
　→　名前に「文字列変数」を指定して「データ名」を取得するのは意味がないためです。

●【F12リセット/不具合】特定状況でF12リセットしたときにクラッシュすることがあるバグ修正

●【エフェクト/不具合】「キャラ」の「ピクセル移動」で「仲間」がマスとマスの間にいるとき、 止まっていても「移動中アニメ」が行われてしまうバグ修正


●【システム変数/不具合】「Sys150:特殊文字変換を無効化[1=ON]」を1にして文字列変数に\cself[5]などの代入特殊文字を格納した後、Sys150を0に戻してその文字列に何か操作を行ったとき、「すでに格納されている文字列」の代入特殊文字がその時点では変換されない現象を修正




【エディター部の修正】

●【DB操作/調整】「変数へ代入」、「名前呼出」にチェックを入れても
　　　　「タイプ番号/データ番号/項目番号取得」にならないバグを修正

●【DB操作/仕様変更】「変数へ代入」時、タイプ・データ・項目が文字列変数（ｺﾓﾝｾﾙﾌ5～9や文字列変数S0～）なら「タイプ名/データ名/項目名 取得」が「タイプ番号/データ番号/項目番号 取得」のチェックボックスになるように修正

●【DB操作/不具合】データベース側の「データIDの設定方法」を「指定DBの指定タイプ名から」にしてると、データ名として「文字列」を指定時にコマンド欄に番号が正常に表示されないバグ修正

●【マップ保存/不具合】マップ保存時、同時に行われるはずの「自動TXT保存」と「暗号化ファイル保存」が機能しないセーブ処理があったのを修正

●【個別ファイル暗号化(プロ版)/不具合】マップファイルの自動暗号化ファイル保存時にクラッシュする可能性があったバグを修正

●【コモンイベントウィンドウ/不具合】エディターオプションの
　　「保存時の自動テキスト出力」がオンのとき、「更新」した直後に
　　入力されたコモンセルフ変数の名前が表示されなくなったりするバグ修正


<HR><BIG><B>　Ver3.516 の更新履歴　2025/01/28</B></BIG>
<HR>
【ゲーム部の修正】

●【動作指定/不具合】実行されているマップEvが起動条件を満たさなくなった状況で
　「空イベント生成<<MAKE_EVENT～>>」と「動作指定」を併用するとクラッシュするバグ修正



【エディター部の修正】

●【右クリックメニュー/調整】[変数呼び出し値]の「主人公の情報X / 9180000+X」を「主人公(Y=0)･仲間Yの情報X / 9180000+Y*10+X」に修正

●【右クリックメニュー/調整】コモンイベント内から「動作指定」を読んだ場合、
　　　　　右クリックメニューの[変数呼び出し値]に「マップセルフ変数」も
　　　　　表示するように
　　→　コモンイベント内でも動作させるEvのマップセルフを使うため

●【変数操作･変数操作+/調整】左辺が「マップセルフ変数」の変数操作を
　　　コモンイベント側に貼り付けた後、コモンイベント側で
　　　マップセルフ変数の左辺を維持したままコマンド編集が可能になるよう修正
　　→　ただしコモンイベント上で他のマップセルフ変数への切り替えはできません。


<HR><BIG><B>　Ver3.515 の更新履歴　2025/01/27</B></BIG>
<HR>
【ゲーム部の修正】

●【コモンイベント/不具合】特定状況でコモンイベント呼出でクラッシュするバグを修正


<HR><BIG><B>　Ver3.514 の更新履歴　2025/01/27</B></BIG>
<HR>
【ゲーム部の修正】

●【文字列操作/不具合】「に↓から指定文字まで切出(＋↓文ｶｯﾄ)」は「区切り文字を省いて左辺と右辺に分ける」意図だったことを思い出したのでVer3.513で仕様変更しましたが再度修正し直しました。


<HR><BIG><B>　Ver3.513 の更新履歴　2025/01/27</B></BIG>
<HR>
【ゲーム部の修正】

●【場所移動/不具合】Ver3.512にて場所移動しただけでクラッシュするバグが発生していたのを修正

●【文字列操作/不具合】「に↓から指定文字まで切出(＋↓文ｶｯﾄ)」のコマンドで
　　　　　　　右辺に残される文字列が1バイト分だけ大きくなっており
　　　　　　　正しく切られていなかったバグを修正

●【ピクチャ/不具合】Game.exeの動作バージョン挙動を「3.390以前」にして文字列ピクチャで\sp[]を指定すると、(以前と異なり)瞬間表示されるようになってしまい、処理の整合がうまく取れなかったので、\sp[]に関してはバージョン挙動を無視して常にVer3.50の挙動で動作するようにしました。


<HR><BIG><B>　Ver3.512 の更新履歴　2025/01/27</B></BIG>
<HR>
【ゲーム部の修正】

●【ゲーム基本設定/不具合】「存在しないフォント名」を指定していた場合、
　　　　ロード時にフォントが「MS Gothic」に変わってしまっていたバグを修正
<span style="color: #2962ff">　→　後のVer3.522でフォントの存在確認ができないことが判明したので、結局また読み込み失敗時のフォントは「MS Gothic」に戻りました。</span>

●【タイル描画/不具合】エフェクトの「ピクチャリンク」機能などを使っていた場合、
　一部の★タイル等に「色調補正」が正常に反映されない問題への対策を試みました

●【文字列操作/不具合】隠しコード「MAKE_EVENT(空イベント生成)」を
　並列イベント中に行うとクラッシュすることがあったバグの修正を試みました。

<B><span style="color: #d50000">●【セーブ・ロード処理/不具合】並列実行で「選択肢」を表示した状態で「ロード」を繰り返すとクラッシュすることがあるバグを修正</span></B>
<span style="color: #2962ff">　→　これ、もしかしたらウディタが誕生した16年以上前からあったバグかもしれません。3回くらいは普通にロードできてしまってたので全然気付けない！</span>


【エディター部の修正】
●【文字列入力欄の右クリックメニュー/不具合】[「代入」特殊文字を挿入]内の誤字を修正



<HR><BIG><B>　Ver3.511 の更新履歴　2025/01/26</B></BIG>
<HR>
【ゲーム部の修正】
●【文字列操作/不具合】隠しコード「<<SAVE_PNG_FROM_XY(N)～」において、
　　　　XSIZEとYSIZEの指定が内部処理で一部逆になっていたバグを修正
　→　アルファ値の無指定時は全面255になるはずが一部0になってしまっていました。

●【サウンド/不具合】「Sys98:再生中BGS周波数(Ch=Sys99)[%]」を変更しても
　　　　　　BGSの周波数が変わらなくなっていたバグ修正

●【動作指定/仕様変更】<B><span style="color: #d50000">「移動できない場合は飛ばす」フラグを「自動移動」でも適用する</span></B>よう修正。自動移動中に1歩でも移動できなかった場合、次のコマンドへ移ります。
<span style="color: #2962ff">　→　自動移動はここ最近ずっと仕上げ調整が入って挙動が変わっていってるのでご注意ください。</span>

●【動作指定/不具合】「自動移動」で目標地点から右または下に半歩以内の場所から
　　　　移動開始させると（0，0）座標に向かって移動し続けてしまうバグ修正

●【キャラ画像/不具合】キャラチップ重ねレイヤー内の処理にクラッシュ要因があったので修正

●【ダウンロード/不具合】ダウンロードして文字列に格納する際、それが「BOMありのUTF-8テキストファイル」だった場合はBOMを抜いて文字列に格納するよう修正



【エディター部の修正】
●【データベースウィンドウ/不具合】データ名に読めないDBの「データベース参照」が
　　　　　　　　設定されているとクラッシュする可能性があったバグを修正

●【データベースウィンドウ/不具合】「エディターオプション」で全体ウィンドウサイズ倍率を100%以外にしたとき、データベースウィンドウだけ補正が2回かかっていたバグを修正

●【タイルセット設定/不具合】全体ウィンドウサイズ倍率を大きくすると
　　　　　　　タイル一覧の下の方に記号が出なくなるバグ修正

●【タイルセット設定/調整】32px、48px表示状態を記憶するように修正

●【システム変数/誤字】システム変数「Sys94:再生中BGSパン(Ch=Sys99)[-255～255]」が「Sys94:再生中BGMパン(Ch=Sys99)[-255～255」になっていた誤字を修正

●【サウンド/調整】ファイル名選択時の「ループ開始[ms]」の欄に「[0=自動指定]」という記述を追加
　　→　昔からループ位置「0」だと自動でファイル側のループ位置が使われる仕様でしたが、エディター上から知る手段がありませんでした。

●【エディターオプション】「全TXT→基本データのみ読込」クリック時の文言にマップも読み込まれると記載されていたミスを修正（基本データとはマップ以外のことです）

●【エディターオプション】「全TXT→基本データのみ読込」を選んだあと、
　　　　「キャンセル」で画面を抜けると再起動処理が行われないバグ修正


<HR><BIG><B>　Ver3.510 の更新履歴　2025/01/25</B></BIG>
<HR>
【ゲーム部の修正】
●【デバッグ文/調整】デバッグ文が内部的に約100MB弱を超えたら
　　　　　　　　　自動で古いデバッグ文を消去していく処理を追加
　→　デバッグ文だけで、ゲーム全体で使用可能なメモリを全て消費してしまい
　　　強制終了してしまう状況が発生しえたためです。

●【文字列操作/調整】隠しコード「MAKE_EVENT(空イベント生成)」に「/1X1SIZE」オプション追加。生成したイベントの当たり判定を「1×1」マスにできます。

●【自動移動・隠しコードの経路探索/調整】「自動移動」または
　　　　「経路探索<<FIND_PATH_～>>」の処理において、
　　　　無駄な蛇行移動をしにくくなるように修正



【エディター部の修正】

●【マップ/コモンイベントウィンドウ/不具合】上下キーで右欄のコマンドを移動したとき、折りたたみ行があるとそこから下に行けなくなる現象を修正

●【マップ/コモンイベントウィンドウ/不具合】正常な選択範囲が選ばれなくなるため、
　　左クリックしたまま「スペースキー」での「コマンド編集」はできないよう修正

●【コモンイベントウィンドウ/不具合】「折りたたみ」を含む分岐の「分岐終了」に
　　　「スペースキー」で「コマンド編集」を行うとコマンドが崩れるバグを修正



<HR>
　といった感じで、以上、2週間分の修正履歴でした！　バッと出されると一個一個確認するのも大変なくらい多い！
　まだ一部の仕様も調整途上なので、みなさまは今のベータは信用せず、一般公開されたバージョンだけを信じてくださいね！

　そしてまだ一般公開もしてないのに各種ご支援をしてくださっている皆さま、本当にありがとうございます！
　そろそろプロ版売上だけだと時給100円くらいになったり100円切ったりしそうで口座残高がすごい勢いで減ってるのでとても助かっております！
　現状のユーザー数を考えると、もはやウディタ関連で細かいマネタイズするよりは自分でゲーム作った方が圧倒的にお金になりますしクリエイター魂も満たされやすいので、一刻も早くバグ修正を落ち着かせてゲーム開発に戻りたいですね！

　ギャーそういえばそろそろ確定申告もありました！　税金払ってお金どれだけ残るかなあ。この調子だとまた次回作の開発も『片道勇者プラス』のときみたいに開発予算2万円コースになりそうで緊張感が高まってきましたね（※本当に素材費用2万円くらいでできてます）。
　しかしそれでも、すばらしい素材を無料や安価で公開・販売してくださっている皆さまのおかげで、ほぼ一文無しでもバッチリすばらしいものを作れますからいい時代です。ウディタですら今や『Visual Studio』の無料版を使ってタダで作ってますからね！
　いま一番大事なのは意欲！　そしてそれを生むための健康！　パワー！　いただいたご支援はそれらの維持にも使わせていただきます！

　ということで、しばらくは引き続きウディタのバグ修正がんばっていきます！
　早く安定させて一般公開したーい！</td></tr></table></div>

</body>
</html>